"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const procEcho_1 = require("./procEcho");
const procedure_1 = require("./procedure");
const uniqueId_1 = require("./uniqueId");
describe('Echo', () => {
    test('isA', () => {
        expect((0, procEcho_1.isEchoRequest)({})).toBe(false);
        expect((0, procEcho_1.isEchoRequest)({ id: (0, uniqueId_1.createId)(), requestType: 'Echo' })).toBe(true);
        expect((0, procEcho_1.isEchoRequest)((0, procEcho_1.createRequestEcho)("G' day"))).toBe(true);
    });
    test('echo', () => {
        const id = (0, uniqueId_1.createId)();
        const r = (0, procEcho_1.procEcho)({ id, requestType: 'Echo', data: 'hello' });
        expect(r.id).toBe(id);
        expect(r.responseType).toBe('Echo');
        expect(r.data).toBe('hello');
    });
    test('bad echo', () => {
        const req = (0, procedure_1.createRequest)('Echo', {});
        const r = (0, procEcho_1.procEcho)(req);
        expect((0, procedure_1.isErrorResponse)(r)).toBe(true);
    });
});
//# sourceMappingURL=procEcho.test.js.map