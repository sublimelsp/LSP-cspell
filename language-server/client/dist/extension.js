/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={7092:e=>{const t=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];let n;const i=e=>e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9;function r(e,n){if(e===n)return 0;if(~~e===e&&~~n===n){if(0===e||0===n)return e<n?-1:1;if(e<0||n<0){if(n>=0)return-1;if(e>=0)return 1;e=-e,n=-n}const r=i(e),o=i(n);let s=0;return r<o?(e*=t[o-r-1],n/=10,s=-1):r>o&&(n*=t[r-o-1],e/=10,s=1),e===n?s:e<n?-1:1}const r=String(e),o=String(n);return r===o?0:r<o?-1:1}function o(e,t,i,r){let o=t+1;if(o===i)return 1;if(r(e[o++],e[t])<0){for(;o<i&&r(e[o],e[o-1])<0;)o++;s(e,t,o),s(n,t,o)}else for(;o<i&&r(e[o],e[o-1])>=0;)o++;return o-t}function s(e,t,n){for(n--;t<n;){const i=e[t];e[t++]=e[n],e[n--]=i}}function a(e,t,i,r,o){for(r===t&&r++;r<i;r++){const i=e[r],s=n[r];let a=t,c=r;for(;a<c;){const t=a+c>>>1;o(i,e[t])<0?c=t:a=t+1}let u=r-a;switch(u){case 3:e[a+3]=e[a+2],n[a+3]=n[a+2];case 2:e[a+2]=e[a+1],n[a+2]=n[a+1];case 1:e[a+1]=e[a],n[a+1]=n[a];break;default:for(;u>0;)e[a+u]=e[a+u-1],n[a+u]=n[a+u-1],u--}e[a]=i,n[a]=s}}function c(e,t,n,i,r,o){let s=0,a=0,c=1;if(o(e,t[n+r])>0){for(a=i-r;c<a&&o(e,t[n+r+c])>0;)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a),s+=r,c+=r}else{for(a=r+1;c<a&&o(e,t[n+r-c])<=0;)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a);const i=s;s=r-c,c=r-i}for(s++;s<c;){const i=s+(c-s>>>1);o(e,t[n+i])>0?s=i+1:c=i}return c}function u(e,t,n,i,r,o){let s=0,a=0,c=1;if(o(e,t[n+r])<0){for(a=r+1;c<a&&o(e,t[n+r-c])<0;)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a);const i=s;s=r-c,c=r-i}else{for(a=i-r;c<a&&o(e,t[n+r+c])>=0;)s=c,c=1+(c<<1),c<=0&&(c=a);c>a&&(c=a),s+=r,c+=r}for(s++;s<c;){const i=s+(c-s>>>1);o(e,t[n+i])<0?c=i:s=i+1}return c}class l{constructor(e,t){this.array=e,this.compare=t;const{length:n}=e;this.length=n,this.minGallop=7,this.tmpStorageLength=n<512?n>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=n<120?5:n<1542?10:n<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){const{compare:t}=this,{array:n}=this;let i=this.runStart[e],r=this.runLength[e];const o=this.runStart[e+1];let s=this.runLength[e+1];this.runLength[e]=r+s,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;const a=u(n[o],n,i,r,0,t);i+=a,r-=a,0!==r&&(s=c(n[i+r-1],n,o,s,s-1,t),0!==s&&(r<=s?this.mergeLow(i,r,o,s):this.mergeHigh(i,r,o,s)))}mergeLow(e,t,i,r){const{compare:o}=this,{array:s}=this,{tmp:a}=this,{tmpIndex:l}=this;let d=0;for(d=0;d<t;d++)a[d]=s[e+d],l[d]=n[e+d];let h=0,p=i,f=e;if(s[f]=s[p],n[f]=n[p],f++,p++,0==--r){for(d=0;d<t;d++)s[f+d]=a[h+d],n[f+d]=l[h+d];return}if(1===t){for(d=0;d<r;d++)s[f+d]=s[p+d],n[f+d]=n[p+d];return s[f+r]=a[h],void(n[f+r]=l[h])}let{minGallop:g}=this;for(;;){let e=0,i=0,m=!1;do{if(o(s[p],a[h])<0){if(s[f]=s[p],n[f]=n[p],f++,p++,i++,e=0,0==--r){m=!0;break}}else if(s[f]=a[h],n[f]=l[h],f++,h++,e++,i=0,1==--t){m=!0;break}}while((e|i)<g);if(m)break;do{if(e=u(s[p],a,h,t,0,o),0!==e){for(d=0;d<e;d++)s[f+d]=a[h+d],n[f+d]=l[h+d];if(f+=e,h+=e,(t-=e)<=1){m=!0;break}}if(s[f]=s[p],n[f]=n[p],f++,p++,0==--r){m=!0;break}if(i=c(a[h],s,p,r,0,o),0!==i){for(d=0;d<i;d++)s[f+d]=s[p+d],n[f+d]=n[p+d];if(f+=i,p+=i,0==(r-=i)){m=!0;break}}if(s[f]=a[h],n[f]=l[h],f++,h++,1==--t){m=!0;break}g--}while(e>=7||i>=7);if(m)break;g<0&&(g=0),g+=2}if(this.minGallop=g,g<1&&(this.minGallop=1),1===t){for(d=0;d<r;d++)s[f+d]=s[p+d],n[f+d]=n[p+d];s[f+r]=a[h],n[f+r]=l[h]}else{if(0===t)throw new Error("mergeLow preconditions were not respected");for(d=0;d<t;d++)s[f+d]=a[h+d],n[f+d]=l[h+d]}}mergeHigh(e,t,i,r){const{compare:o}=this,{array:s}=this,{tmp:a}=this,{tmpIndex:l}=this;let d=0;for(d=0;d<r;d++)a[d]=s[i+d],l[d]=n[i+d];let h=e+t-1,p=r-1,f=i+r-1,g=0,m=0;if(s[f]=s[h],n[f]=n[h],f--,h--,0==--t){for(g=f-(r-1),d=0;d<r;d++)s[g+d]=a[d],n[g+d]=l[d];return}if(1===r){for(f-=t,h-=t,m=f+1,g=h+1,d=t-1;d>=0;d--)s[m+d]=s[g+d],n[m+d]=n[g+d];return s[f]=a[p],void(n[f]=l[p])}let{minGallop:y}=this;for(;;){let i=0,v=0,b=!1;do{if(o(a[p],s[h])<0){if(s[f]=s[h],n[f]=n[h],f--,h--,i++,v=0,0==--t){b=!0;break}}else if(s[f]=a[p],n[f]=l[p],f--,p--,v++,i=0,1==--r){b=!0;break}}while((i|v)<y);if(b)break;do{if(i=t-u(a[p],s,e,t,t-1,o),0!==i){for(f-=i,h-=i,t-=i,m=f+1,g=h+1,d=i-1;d>=0;d--)s[m+d]=s[g+d],n[m+d]=n[g+d];if(0===t){b=!0;break}}if(s[f]=a[p],n[f]=l[p],f--,p--,1==--r){b=!0;break}if(v=r-c(s[h],a,0,r,r-1,o),0!==v){for(f-=v,p-=v,r-=v,m=f+1,g=p+1,d=0;d<v;d++)s[m+d]=a[g+d],n[m+d]=l[g+d];if(r<=1){b=!0;break}}if(s[f]=s[h],n[f]=n[h],f--,h--,0==--t){b=!0;break}y--}while(i>=7||v>=7);if(b)break;y<0&&(y=0),y+=2}if(this.minGallop=y,y<1&&(this.minGallop=1),1===r){for(f-=t,h-=t,m=f+1,g=h+1,d=t-1;d>=0;d--)s[m+d]=s[g+d],n[m+d]=n[g+d];s[f]=a[p],n[f]=l[p]}else{if(0===r)throw new Error("mergeHigh preconditions were not respected");for(g=f-(r-1),d=0;d<r;d++)s[g+d]=a[d],n[g+d]=l[d]}}}e.exports={sort:function(e,t,i,s){if(!Array.isArray(e))throw new TypeError(`The "array" argument must be an array. Received ${e}`);n=[];const{length:c}=e;let u=0;for(;u<c;)n[u]=u++;t?"function"!=typeof t&&(s=i,i=t,t=r):t=r,i||(i=0),s||(s=c);let d=s-i;if(d<2)return n;let h=0;if(d<32)return h=o(e,i,s,t),a(e,i,s,i+h,t),n;const p=new l(e,t),f=function(e){let t=0;for(;e>=32;)t|=1&e,e>>=1;return e+t}(d);do{if(h=o(e,i,s,t),h<f){let n=d;n>f&&(n=f),a(e,i,i+n,i+h,t),h=n}p.pushRun(i,h),p.mergeRuns(),d-=h,i+=h}while(0!==d);return p.forceMergeRuns(),n}}},2294:e=>{"use strict";function t(e,t,r){e instanceof RegExp&&(e=n(e,r)),t instanceof RegExp&&(t=n(t,r));var o=i(e,t,r);return o&&{start:o[0],end:o[1],pre:r.slice(0,o[0]),body:r.slice(o[0]+e.length,o[1]),post:r.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var i,r,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(i=[],o=n.length;l>=0&&!a;)l==c?(i.push(l),c=n.indexOf(e,l+1)):1==i.length?a=[i.pop(),u]:((r=i.pop())<o&&(o=r,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;i.length&&(a=[o,s])}return a}e.exports=t,t.range=i},8458:(e,t,n)=>{const{isArray:i}=n(7646),{sort:r}=n(7092),{SYMBOL_PREFIXES:o,UNDEFINED:s,symbol:a,copy_comments:c,swap_comments:u}=n(5344),l=(e,t,n,i,r)=>{c(e,t,n+i,n,r)},d=(e,t,n,i,r,o)=>{if(r>0){let s=i;for(;s-- >0;)l(e,t,n+s,r,o);return}let s=0;for(;s<i;){const i=s++;l(e,t,n+i,r,o)}},h=(e,t)=>{o.forEach((n=>{const i=a(n,t);delete e[i]}))};class p extends Array{splice(...e){const{length:t}=this,n=super.splice(...e);let[i,r,...o]=e;i<0&&(i+=t),r=1===arguments.length?t-i:Math.min(t-i,r);const{length:s}=o,a=i+r;return d(this,this,a,t-a,s-r,!0),n}slice(...e){const{length:t}=this,n=super.slice(...e);if(!n.length)return new p;let[i,r]=e;return r===s?r=t:r<0&&(r+=t),i<0?i+=t:i===s&&(i=0),d(n,this,i,r-i,-i),n}unshift(...e){const{length:t}=this,n=super.unshift(...e),{length:i}=e;return i>0&&d(this,this,0,t,i,!0),n}shift(){const e=super.shift(),{length:t}=this;return h(this,0),d(this,this,1,t,-1,!0),e}reverse(){return super.reverse(),(e=>{const{length:t}=e;let n=0;const i=t/2;for(;n<i;n++)u(e,n,t-n-1)})(this),this}pop(){const e=super.pop();return h(this,this.length),e}concat(...e){let{length:t}=this;const n=super.concat(...e);return e.length?(d(n,this,0,this.length,0),e.forEach((e=>{const r=t;t+=i(e)?e.length:1,e instanceof p&&d(n,e,0,e.length,r)})),n):n}sort(...e){const t=r(this,...e.slice(0,1)),n=Object.create(null);return t.forEach(((e,t)=>{if(e===t)return;const i=((e,t)=>{let n=t;for(;n in e;)n=e[n];return n})(n,e);i!==t&&(n[t]=i,u(this,t,i))})),this}}e.exports={CommentArray:p}},5344:(e,t,n)=>{const i=n(2001),{isObject:r,isArray:o,isString:s,isNumber:a}=n(7646),c="before",u="after-prop",l="after-colon",d="after-value",h="after",p="before-all",f="after-all",g=[c,u,l,d,h],m=[c,p,f].map(Symbol.for),y=void 0,v=(e,t)=>Symbol.for(e+":"+t),b=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),S=(e,t,n,r,o,s)=>{const a=v(o,r);if(!i(t,a))return;const c=n===r?a:v(o,n);b(e,c,t[a]),s&&delete t[a]},C=(e,t,n,i,r)=>{g.forEach((o=>{S(e,t,n,i,o,r)}))},D=(e,t)=>{m.forEach((n=>{const i=t[n];i&&b(e,n,i)}))};e.exports={SYMBOL_PREFIXES:g,PREFIX_BEFORE:c,PREFIX_AFTER_PROP:u,PREFIX_AFTER_COLON:l,PREFIX_AFTER_VALUE:d,PREFIX_AFTER:h,PREFIX_BEFORE_ALL:p,PREFIX_AFTER_ALL:f,BRACKET_OPEN:"[",BRACKET_CLOSE:"]",CURLY_BRACKET_OPEN:"{",CURLY_BRACKET_CLOSE:"}",COLON:":",COMMA:",",MINUS:"-",EMPTY:"",UNDEFINED:y,symbol:v,define:b,copy_comments:C,swap_comments:(e,t,n)=>{t!==n&&g.forEach((r=>{const o=v(r,n);if(!i(e,o))return void S(e,e,n,t,r,!0);const s=e[o];delete e[o],S(e,e,n,t,r,!0),b(e,v(r,t),s)}))},assign_non_prop_comments:D,assign(e,t,n){if(!r(e))throw new TypeError("Cannot convert undefined or null to object");if(!r(t))return e;if(n===y)n=Object.keys(t),D(e,t);else{if(!o(n))throw new TypeError("keys must be array or undefined");0===n.length&&D(e,t)}return((e,t,n)=>(n.forEach((n=>{(s(n)||a(n))&&i(t,n)&&(e[n]=t[n],C(e,t,n,n))})),e))(e,t,n)}}},6724:(e,t,n)=>{const{parse:i,tokenize:r}=n(7745),o=n(7437),{CommentArray:s}=n(8458),{assign:a}=n(5344);e.exports={parse:i,stringify:o,tokenize:r,CommentArray:s,assign:a}},7745:(e,t,n)=>{const i=n(671),{CommentArray:r}=n(8458),{PREFIX_BEFORE:o,PREFIX_AFTER_PROP:s,PREFIX_AFTER_COLON:a,PREFIX_AFTER_VALUE:c,PREFIX_AFTER:u,PREFIX_BEFORE_ALL:l,PREFIX_AFTER_ALL:d,BRACKET_OPEN:h,BRACKET_CLOSE:p,CURLY_BRACKET_OPEN:f,CURLY_BRACKET_CLOSE:g,COLON:m,COMMA:y,MINUS:v,EMPTY:b,UNDEFINED:S,define:C,assign_non_prop_comments:D}=n(5344),w=e=>i.tokenize(e,{comment:!0,loc:!0}),E=[];let x=null,_=null;const k=[];let T,F,R=!1,A=!1,P=null,O=null,I=null,N=null;const M=()=>{k.length=E.length=0,O=null,T=S},L=e=>Symbol.for(T!==S?e+m+T:e),j=(e,t)=>N?N(e,t):t,q=()=>{const e=new SyntaxError(`Unexpected token ${I.value.slice(0,1)}`);throw Object.assign(e,I.loc.start),e},B=()=>{const e=new SyntaxError("Unexpected end of JSON input");throw Object.assign(e,O?O.loc.end:{line:1,column:0}),e},U=()=>{const e=P[++F];A=I&&e&&I.loc.end.line===e.loc.start.line||!1,O=I,I=e},$=()=>(I||B(),"Punctuator"===I.type?I.value:I.type),W=e=>$()===e,K=e=>{W(e)||q()},H=e=>{E.push(x),x=e},V=()=>{x=E.pop()},z=()=>{if(!_)return;const e=[];for(const t of _){if(!t.inline)break;e.push(t)}const{length:t}=e;t&&(t===_.length?_=null:_.splice(0,t),C(x,L(u),e))},G=e=>{_&&(C(x,L(e),_),_=null)},J=e=>{const t=[];for(;I&&(W("LineComment")||W("BlockComment"));){const e={...I,inline:A};t.push(e),U()}R||t.length&&(e?C(x,L(e),t):_=t)},X=(e,t)=>{t&&k.push(T),T=e},Y=()=>{T=k.pop()};function Q(){let e=$();if(e===f)return U(),(()=>{const e={};H(e),X(S,!0);let t,n=!1;for(J();!(W(g)||n&&(G(c),K(y),U(),J(),z(),W(g)));)n=!0,K("String"),t=JSON.parse(I.value),X(t),G(o),U(),J(s),K(m),U(),J(a),e[t]=j(t,Q()),J();return n&&G(u),U(),T=void 0,n||G(o),V(),Y(),e})();if(e===h)return U(),(()=>{const e=new r;H(e),X(S,!0);let t=!1,n=0;for(J();!(W(p)||t&&(G(c),K(y),U(),J(),z(),W(p)));)t=!0,X(n),G(o),e[n]=j(n,Q()),n++,J();return t&&G(u),U(),T=void 0,t||G(o),V(),Y(),e})();let t,n=b;switch(e===v&&(U(),e=$(),n=v),e){case"String":case"Boolean":case"Null":case"Numeric":return t=I.value,U(),JSON.parse(n+t)}}e.exports={parse:(e,t,n)=>{M(),P=w(e),N=t,R=n,P.length||B(),F=-1,U(),H({}),J(l);let i=Q();var r;return J(d),I&&q(),n||null===i||(r=i,Object(r)!==r&&(i=new Object(i)),D(i,x)),V(),i=j("",i),M(),P.length=0,_=x=P=O=I=N=null,i},tokenize:w}},7437:(e,t,n)=>{const{isArray:i,isObject:r,isFunction:o,isNumber:s,isString:a}=n(7646),c=n(4076),{PREFIX_BEFORE_ALL:u,PREFIX_BEFORE:l,PREFIX_AFTER_PROP:d,PREFIX_AFTER_COLON:h,PREFIX_AFTER_VALUE:p,PREFIX_AFTER:f,PREFIX_AFTER_ALL:g,BRACKET_OPEN:m,BRACKET_CLOSE:y,CURLY_BRACKET_OPEN:v,CURLY_BRACKET_CLOSE:b,COLON:S,COMMA:C,EMPTY:D,UNDEFINED:w}=n(5344),E=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,x="\n",_="null",k=e=>`${l}:${e}`,T=e=>`${p}:${e}`,F=e=>`${f}:${e}`,R={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},A=e=>`"${(e=>(E.lastIndex=0,E.test(e)?e.replace(E,(e=>{const t=R[e];return"string"==typeof t?t:e})):e))(e)}"`,P=(e,t,n,i)=>{const r=e[Symbol.for(t)];if(!r||!r.length)return D;let o=!1;const s=r.reduce(((e,{inline:t,type:i,value:r})=>(o="LineComment"===i,e+(t?" ":x+n)+((e,t)=>t?`//${e}`:`/*${e}*/`)(r,o))),D);return i||o?s+x+n:s};let O=null,I=D;const N=(e,t,n)=>e?t?e+t.trim()+x+n:e.trimRight()+x+n:t?t.trimRight()+x+n:D,M=(e,t,n)=>{const i=P(t,l,n+I,!0);return N(i,e,n)};function L(e,t,n){let s=t[e];switch(r(s)&&o(s.toJSON)&&(s=s.toJSON(e)),o(O)&&(s=O.call(t,e,s)),typeof s){case"string":return A(s);case"number":return Number.isFinite(s)?String(s):_;case"boolean":case"null":return String(s);case"object":return i(s)?((e,t)=>{const n=t+I,{length:i}=e;let r=D,o=D;for(let t=0;t<i;t++)0!==t&&(r+=C),r+=N(o,P(e,k(t),n),n)||x+n,r+=L(t,e,n)||_,r+=P(e,T(t),n),o=P(e,F(t),n);return r+=N(o,P(e,f,n),n),m+M(r,e,t)+y})(s,n):((e,t)=>{if(!e)return"null";const n=t+I;let r=D,o=D,s=!0;return(i(O)?O:Object.keys(e)).forEach((t=>{const i=L(t,e,n);if(i===w)return;s||(r+=C),s=!1;const a=N(o,P(e,k(t),n),n);r+=a||x+n,r+=A(t)+P(e,`${d}:${t}`,n)+S+P(e,`${h}:${t}`,n)+" "+i+P(e,T(t),n),o=P(e,F(t),n)})),r+=N(o,P(e,f,n),n),v+M(r,e,t)+b})(s,n)}}const{toString:j}=Object.prototype,q=["[object Number]","[object String]","[object Boolean]"];e.exports=(e,t,n)=>{const l=(e=>a(e)?e:s(e)?c(" ",e):D)(n);if(!l)return JSON.stringify(e,t);o(t)||i(t)||(t=null),O=t,I=l;const d=(e=>{if("object"!=typeof e)return!1;const t=j.call(e);return q.includes(t)})(e)?JSON.stringify(e):L("",{"":e},D);return O=null,I=D,r(e)?P(e,u,D).trimLeft()+d+P(e,g,D).trimRight():d}},4114:e=>{e.exports=function(e,n){for(var i=[],r=0;r<e.length;r++){var o=n(e[r],r);t(o)?i.push.apply(i,o):i.push(o)}return i};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},7646:(e,t,n)=>{function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(4300).Buffer.isBuffer},671:function(e){var t;t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),o=n(8),s=n(15);function a(e,t,n){var s=null,a=function(e,t){n&&n(e,t),s&&s.visit(e,t)},c="function"==typeof n?a:null,u=!1;if(t){u="boolean"==typeof t.comment&&t.comment;var l="boolean"==typeof t.attachComment&&t.attachComment;(u||l)&&((s=new i.CommentHandler).attach=l,t.comment=!0,c=a)}var d,h=!1;t&&"string"==typeof t.sourceType&&(h="module"===t.sourceType),d=t&&"boolean"==typeof t.jsx&&t.jsx?new r.JSXParser(e,t,c):new o.Parser(e,t,c);var p=h?d.parseModule():d.parseScript();return u&&s&&(p.comments=s.comments),d.config.tokens&&(p.tokens=d.tokens),d.config.tolerant&&(p.errors=d.errorHandler.errors),p}t.parse=a,t.parseModule=function(e,t,n){var i=t||{};return i.sourceType="module",a(e,i,n)},t.parseScript=function(e,t,n){var i=t||{};return i.sourceType="script",a(e,i,n)},t.tokenize=function(e,t,n){var i,r=new s.Tokenizer(e,t);i=[];try{for(;;){var o=r.getNextToken();if(!o)break;n&&(o=n(o)),i.push(o)}}catch(e){r.errorHandler.tolerate(e)}return r.errorHandler.tolerant&&(i.errors=r.errors()),i};var c=n(2);t.Syntax=c.Syntax,t.version="4.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(){function e(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return e.prototype.insertInnerComments=function(e,t){if(e.type===i.Syntax.BlockStatement&&0===e.body.length){for(var n=[],r=this.leading.length-1;r>=0;--r){var o=this.leading[r];t.end.offset>=o.start&&(n.unshift(o.comment),this.leading.splice(r,1),this.trailing.splice(r,1))}n.length&&(e.innerComments=n)}},e.prototype.findTrailingComments=function(e){var t=[];if(this.trailing.length>0){for(var n=this.trailing.length-1;n>=0;--n){var i=this.trailing[n];i.start>=e.end.offset&&t.unshift(i.comment)}return this.trailing.length=0,t}var r=this.stack[this.stack.length-1];if(r&&r.node.trailingComments){var o=r.node.trailingComments[0];o&&o.range[0]>=e.end.offset&&(t=r.node.trailingComments,delete r.node.trailingComments)}return t},e.prototype.findLeadingComments=function(e){for(var t,n=[];this.stack.length>0&&(o=this.stack[this.stack.length-1])&&o.start>=e.start.offset;)t=o.node,this.stack.pop();if(t){for(var i=(t.leadingComments?t.leadingComments.length:0)-1;i>=0;--i){var r=t.leadingComments[i];r.range[1]<=e.start.offset&&(n.unshift(r),t.leadingComments.splice(i,1))}return t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments,n}for(i=this.leading.length-1;i>=0;--i){var o;(o=this.leading[i]).start<=e.start.offset&&(n.unshift(o.comment),this.leading.splice(i,1))}return n},e.prototype.visitNode=function(e,t){if(!(e.type===i.Syntax.Program&&e.body.length>0)){this.insertInnerComments(e,t);var n=this.findTrailingComments(t),r=this.findLeadingComments(t);r.length>0&&(e.leadingComments=r),n.length>0&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset})}},e.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",i={type:n,value:e.value};if(e.range&&(i.range=e.range),e.loc&&(i.loc=e.loc),this.comments.push(i),this.attach){var r={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset};e.loc&&(r.comment.loc=e.loc),e.type=n,this.leading.push(r),this.trailing.push(r)}},e.prototype.visit=function(e,t){"LineComment"===e.type||"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},e}();t.CommentHandler=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),s=n(5),a=n(6),c=n(7),u=n(8),l=n(13),d=n(14);function h(e){var t;switch(e.type){case a.JSXSyntax.JSXIdentifier:t=e.name;break;case a.JSXSyntax.JSXNamespacedName:var n=e;t=h(n.namespace)+":"+h(n.name);break;case a.JSXSyntax.JSXMemberExpression:var i=e;t=h(i.object)+"."+h(i.property)}return t}l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";var p=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return r(t,e),t.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():e.prototype.parsePrimaryExpression.call(this)},t.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},t.prototype.finishJSX=function(){this.nextToken()},t.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},t.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},t.prototype.scanXHTMLEntity=function(e){for(var t="&",n=!0,i=!1,r=!1,s=!1;!this.scanner.eof()&&n&&!i;){var a=this.scanner.source[this.scanner.index];if(a===e)break;if(i=";"===a,t+=a,++this.scanner.index,!i)switch(t.length){case 2:r="#"===a;break;case 3:r&&(n=(s="x"===a)||o.Character.isDecimalDigit(a.charCodeAt(0)),r=r&&!s);break;default:n=(n=n&&!(r&&!o.Character.isDecimalDigit(a.charCodeAt(0))))&&!(s&&!o.Character.isHexDigit(a.charCodeAt(0)))}}if(n&&i&&t.length>2){var c=t.substr(1,t.length-2);r&&c.length>1?t=String.fromCharCode(parseInt(c.substr(1),10)):s&&c.length>2?t=String.fromCharCode(parseInt("0"+c.substr(1),16)):r||s||!d.XHTMLEntities[c]||(t=d.XHTMLEntities[c])}return t},t.prototype.lexJSX=function(){var e=this.scanner.source.charCodeAt(this.scanner.index);if(60===e||62===e||47===e||58===e||61===e||123===e||125===e)return{type:7,value:a=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===e||39===e){for(var t=this.scanner.index,n=this.scanner.source[this.scanner.index++],i="";!this.scanner.eof()&&(c=this.scanner.source[this.scanner.index++])!==n;)i+="&"===c?this.scanXHTMLEntity(n):c;return{type:8,value:i,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(46===e){var r=this.scanner.source.charCodeAt(this.scanner.index+1),s=this.scanner.source.charCodeAt(this.scanner.index+2),a=46===r&&46===s?"...":".";return t=this.scanner.index,this.scanner.index+=a.length,{type:7,value:a,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}if(96===e)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(e)&&92!==e){for(t=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var c=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(c)&&92!==c)++this.scanner.index;else{if(45!==c)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(t,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index}}return this.scanner.lex()},t.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},t.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,o.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var i={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return t.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(i)),i},t.prototype.peekJSXToken=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.lexJSX();return this.scanner.restoreState(e),t},t.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},t.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},t.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new s.JSXIdentifier(t.value))},t.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":")){var n=t;this.expectJSX(":");var i=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXNamespacedName(n,i))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var r=t;this.expectJSX(".");var o=this.parseJSXIdentifier();t=this.finalize(e,new s.JSXMemberExpression(r,o))}return t},t.prototype.parseJSXAttributeName=function(){var e,t=this.createJSXNode(),n=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=n;this.expectJSX(":");var r=this.parseJSXIdentifier();e=this.finalize(t,new s.JSXNamespacedName(i,r))}else e=n;return e},t.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken();8!==t.type&&this.throwUnexpectedToken(t);var n=this.getTokenRaw(t);return this.finalize(e,new c.Literal(t.value,n))},t.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXExpressionContainer(t))},t.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},t.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new s.JSXAttribute(t,n))},t.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var t=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(e,new s.JSXSpreadAttribute(t))},t.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},t.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode();this.expectJSX("<");var t=this.parseJSXElementName(),n=this.parseJSXAttributes(),i=this.matchJSX("/");return i&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(t,i,n))},t.prototype.parseJSXBoundaryElement=function(){var e=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var t=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(e,new s.JSXClosingElement(t))}var n=this.parseJSXElementName(),i=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new s.JSXOpeningElement(n,r,i))},t.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new s.JSXEmptyExpression)},t.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new s.JSXExpressionContainer(e))},t.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t=this.createJSXChildNode(),n=this.nextJSXText();if(n.start<n.end){var i=this.getTokenRaw(n),r=this.finalize(t,new s.JSXText(n.value,i));e.push(r)}if("{"!==this.scanner.source[this.scanner.index])break;var o=this.parseJSXExpressionContainer();e.push(o)}return e},t.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n=this.createJSXChildNode(),i=this.parseJSXBoundaryElement();if(i.type===a.JSXSyntax.JSXOpeningElement){var r=i;if(r.selfClosing){var o=this.finalize(n,new s.JSXElement(r,[],null));e.children.push(o)}else t.push(e),e={node:n,opening:r,closing:null,children:[]}}if(i.type===a.JSXSyntax.JSXClosingElement){e.closing=i;var c=h(e.opening.name);if(c!==h(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",c),!(t.length>0))break;o=this.finalize(e.node,new s.JSXElement(e.opening,e.children,e.closing)),(e=t[t.length-1]).children.push(o),t.pop()}}return e},t.prototype.parseJSXElement=function(){var e=this.createJSXNode(),t=this.parseJSXOpeningElement(),n=[],i=null;if(!t.selfClosing){var r=this.parseComplexJSXElement({node:e,opening:t,closing:i,children:n});n=r.children,i=r.closing}return this.finalize(e,new s.JSXElement(t,n,i))},t.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},t.prototype.isStartOfExpression=function(){return e.prototype.isStartOfExpression.call(this)||this.match("<")},t}(u.Parser);t.JSXParser=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return e>=48&&e<=57},isHexDigit:function(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102},isOctalDigit:function(e){return e>=48&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(6);t.JSXClosingElement=function(e){this.type=i.JSXSyntax.JSXClosingElement,this.name=e};t.JSXElement=function(e,t,n){this.type=i.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n};t.JSXEmptyExpression=function(){this.type=i.JSXSyntax.JSXEmptyExpression};t.JSXExpressionContainer=function(e){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=e};t.JSXIdentifier=function(e){this.type=i.JSXSyntax.JSXIdentifier,this.name=e};t.JSXMemberExpression=function(e,t){this.type=i.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t};t.JSXAttribute=function(e,t){this.type=i.JSXSyntax.JSXAttribute,this.name=e,this.value=t};t.JSXNamespacedName=function(e,t){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t};t.JSXOpeningElement=function(e,t,n){this.type=i.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n};t.JSXSpreadAttribute=function(e){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=e};t.JSXText=function(e,t){this.type=i.JSXSyntax.JSXText,this.value=e,this.raw=t}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.ArrayExpression=function(e){this.type=i.Syntax.ArrayExpression,this.elements=e};t.ArrayPattern=function(e){this.type=i.Syntax.ArrayPattern,this.elements=e};t.ArrowFunctionExpression=function(e,t,n){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1};t.AssignmentExpression=function(e,t,n){this.type=i.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n};t.AssignmentPattern=function(e,t){this.type=i.Syntax.AssignmentPattern,this.left=e,this.right=t};t.AsyncArrowFunctionExpression=function(e,t,n){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0};t.AsyncFunctionDeclaration=function(e,t,n){this.type=i.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AsyncFunctionExpression=function(e,t,n){this.type=i.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0};t.AwaitExpression=function(e){this.type=i.Syntax.AwaitExpression,this.argument=e};t.BinaryExpression=function(e,t,n){var r="||"===e||"&&"===e;this.type=r?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n};t.BlockStatement=function(e){this.type=i.Syntax.BlockStatement,this.body=e};t.BreakStatement=function(e){this.type=i.Syntax.BreakStatement,this.label=e};t.CallExpression=function(e,t){this.type=i.Syntax.CallExpression,this.callee=e,this.arguments=t};t.CatchClause=function(e,t){this.type=i.Syntax.CatchClause,this.param=e,this.body=t};t.ClassBody=function(e){this.type=i.Syntax.ClassBody,this.body=e};t.ClassDeclaration=function(e,t,n){this.type=i.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n};t.ClassExpression=function(e,t,n){this.type=i.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n};t.ComputedMemberExpression=function(e,t){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t};t.ConditionalExpression=function(e,t,n){this.type=i.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n};t.ContinueStatement=function(e){this.type=i.Syntax.ContinueStatement,this.label=e};t.DebuggerStatement=function(){this.type=i.Syntax.DebuggerStatement};t.Directive=function(e,t){this.type=i.Syntax.ExpressionStatement,this.expression=e,this.directive=t};t.DoWhileStatement=function(e,t){this.type=i.Syntax.DoWhileStatement,this.body=e,this.test=t};t.EmptyStatement=function(){this.type=i.Syntax.EmptyStatement};t.ExportAllDeclaration=function(e){this.type=i.Syntax.ExportAllDeclaration,this.source=e};t.ExportDefaultDeclaration=function(e){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=e};t.ExportNamedDeclaration=function(e,t,n){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n};t.ExportSpecifier=function(e,t){this.type=i.Syntax.ExportSpecifier,this.exported=t,this.local=e};t.ExpressionStatement=function(e){this.type=i.Syntax.ExpressionStatement,this.expression=e};t.ForInStatement=function(e,t,n){this.type=i.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1};t.ForOfStatement=function(e,t,n){this.type=i.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n};t.ForStatement=function(e,t,n,r){this.type=i.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r};t.FunctionDeclaration=function(e,t,n,r){this.type=i.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1};t.FunctionExpression=function(e,t,n,r){this.type=i.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1};t.Identifier=function(e){this.type=i.Syntax.Identifier,this.name=e};t.IfStatement=function(e,t,n){this.type=i.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n};t.ImportDeclaration=function(e,t){this.type=i.Syntax.ImportDeclaration,this.specifiers=e,this.source=t};t.ImportDefaultSpecifier=function(e){this.type=i.Syntax.ImportDefaultSpecifier,this.local=e};t.ImportNamespaceSpecifier=function(e){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=e};t.ImportSpecifier=function(e,t){this.type=i.Syntax.ImportSpecifier,this.local=e,this.imported=t};t.LabeledStatement=function(e,t){this.type=i.Syntax.LabeledStatement,this.label=e,this.body=t};t.Literal=function(e,t){this.type=i.Syntax.Literal,this.value=e,this.raw=t};t.MetaProperty=function(e,t){this.type=i.Syntax.MetaProperty,this.meta=e,this.property=t};t.MethodDefinition=function(e,t,n,r,o){this.type=i.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=r,this.static=o};t.Module=function(e){this.type=i.Syntax.Program,this.body=e,this.sourceType="module"};t.NewExpression=function(e,t){this.type=i.Syntax.NewExpression,this.callee=e,this.arguments=t};t.ObjectExpression=function(e){this.type=i.Syntax.ObjectExpression,this.properties=e};t.ObjectPattern=function(e){this.type=i.Syntax.ObjectPattern,this.properties=e};t.Property=function(e,t,n,r,o,s){this.type=i.Syntax.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=o,this.shorthand=s};t.RegexLiteral=function(e,t,n,r){this.type=i.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:r}};t.RestElement=function(e){this.type=i.Syntax.RestElement,this.argument=e};t.ReturnStatement=function(e){this.type=i.Syntax.ReturnStatement,this.argument=e};t.Script=function(e){this.type=i.Syntax.Program,this.body=e,this.sourceType="script"};t.SequenceExpression=function(e){this.type=i.Syntax.SequenceExpression,this.expressions=e};t.SpreadElement=function(e){this.type=i.Syntax.SpreadElement,this.argument=e};t.StaticMemberExpression=function(e,t){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t};t.Super=function(){this.type=i.Syntax.Super};t.SwitchCase=function(e,t){this.type=i.Syntax.SwitchCase,this.test=e,this.consequent=t};t.SwitchStatement=function(e,t){this.type=i.Syntax.SwitchStatement,this.discriminant=e,this.cases=t};t.TaggedTemplateExpression=function(e,t){this.type=i.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t};t.TemplateElement=function(e,t){this.type=i.Syntax.TemplateElement,this.value=e,this.tail=t};t.TemplateLiteral=function(e,t){this.type=i.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t};t.ThisExpression=function(){this.type=i.Syntax.ThisExpression};t.ThrowStatement=function(e){this.type=i.Syntax.ThrowStatement,this.argument=e};t.TryStatement=function(e,t,n){this.type=i.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n};t.UnaryExpression=function(e,t){this.type=i.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0};t.UpdateExpression=function(e,t,n){this.type=i.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n};t.VariableDeclaration=function(e,t){this.type=i.Syntax.VariableDeclaration,this.declarations=e,this.kind=t};t.VariableDeclarator=function(e,t){this.type=i.Syntax.VariableDeclarator,this.id=e,this.init=t};t.WhileStatement=function(e,t){this.type=i.Syntax.WhileStatement,this.test=e,this.body=t};t.WithStatement=function(e,t){this.type=i.Syntax.WithStatement,this.object=e,this.body=t};t.YieldExpression=function(e,t){this.type=i.Syntax.YieldExpression,this.argument=e,this.delegate=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(10),o=n(11),s=n(7),a=n(12),c=n(2),u=n(13),l="ArrowParameterPlaceHolder",d=function(){function e(e,t,n){void 0===t&&(t={}),this.config={range:"boolean"==typeof t.range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return e.prototype.throwError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,(function(e,t){return i.assert(t<r.length,"Message reference must be in range"),r[t]})),s=this.lastMarker.index,a=this.lastMarker.line,c=this.lastMarker.column+1;throw this.errorHandler.createError(s,a,c,o)},e.prototype.tolerateError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1),o=e.replace(/%(\d)/g,(function(e,t){return i.assert(t<r.length,"Message reference must be in range"),r[t]})),s=this.lastMarker.index,a=this.scanner.lineNumber,c=this.lastMarker.column+1;this.errorHandler.tolerateError(s,a,c,o)},e.prototype.unexpectedTokenError=function(e,t){var n,i=t||o.Messages.UnexpectedToken;if(e?(t||(i=2===e.type?o.Messages.UnexpectedEOS:3===e.type?o.Messages.UnexpectedIdentifier:6===e.type?o.Messages.UnexpectedNumber:8===e.type?o.Messages.UnexpectedString:10===e.type?o.Messages.UnexpectedTemplate:o.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?i=o.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(i=o.Messages.StrictReservedWord))),n=e.value):n="ILLEGAL",i=i.replace("%0",n),e&&"number"==typeof e.lineNumber){var r=e.start,s=e.lineNumber,a=this.lastMarker.index-this.lastMarker.column,c=e.start-a+1;return this.errorHandler.createError(r,s,c,i)}return r=this.lastMarker.index,s=this.lastMarker.line,c=this.lastMarker.column+1,this.errorHandler.createError(r,s,c,i)},e.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},e.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},e.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(e.length>0&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],i=void 0;i={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},this.config.range&&(i.range=n.range),this.config.loc&&(i.loc=n.loc);var r={start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}};this.delegate(i,r)}}else this.scanner.scanComments()},e.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},e.prototype.convertToken=function(e){var t={type:u.TokenName[e.type],value:this.getTokenRaw(e)};if(this.config.range&&(t.range=[e.start,e.end]),this.config.loc&&(t.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type){var n=e.pattern,i=e.flags;t.regex={pattern:n,flags:i}}return t},e.prototype.nextToken=function(){var e=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var t=this.scanner.lex();return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},e.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},e.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},e.prototype.startNode=function(e,t){void 0===t&&(t=0);var n=e.start-e.lineStart,i=e.lineNumber;return n<0&&(n+=t,i--),{index:e.start,line:i,column:n}},e.prototype.finalize=function(e,t){if(this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(t.loc.source=this.config.source)),this.delegate){var n={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(t,n)}return t},e.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var e=this.lookahead;7===e.type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,o.Messages.UnexpectedToken)}else this.expect(",")},e.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},e.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},e.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var e=this.lookahead.value;return"="===e||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e},e.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=i,r},e.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,i=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var r=e.call(this);return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=i||this.context.firstCoverInitializedNameError,r},e.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},e.prototype.parsePrimaryExpression=function(){var e,t,n,i=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(i,new s.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,o.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new s.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new s.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(i,new s.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(i,new s.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?e=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?e=this.finalize(i,new s.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?e=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),e=this.finalize(i,new s.ThisExpression)):e=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},e.prototype.parseSpreadElement=function(){var e=this.createNode();this.expect("...");var t=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new s.SpreadElement(t))},e.prototype.parseArrayInitializer=function(){var e=this.createNode(),t=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),t.push(null);else if(this.match("...")){var n=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),t.push(n)}else t.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(e,new s.ArrayExpression(t))},e.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective;this.context.allowStrictDirective=e.simple;var i=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,i},e.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters(),i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,i,!1))},e.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await;this.context.allowYield=!1,this.context.await=!0;var i=this.parseFormalParameters(),r=this.parsePropertyMethod(i);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new s.AsyncFunctionExpression(null,i.params,r))},e.prototype.parseObjectPropertyKey=function(){var e,t=this.createNode(),n=this.nextToken();switch(n.type){case 8:case 6:this.context.strict&&n.octal&&this.tolerateUnexpectedToken(n,o.Messages.StrictOctalLiteral);var i=this.getTokenRaw(n);e=this.finalize(t,new s.Literal(n.value,i));break;case 3:case 1:case 5:case 4:e=this.finalize(t,new s.Identifier(n.value));break;case 7:"["===n.value?(e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):e=this.throwUnexpectedToken(n);break;default:e=this.throwUnexpectedToken(n)}return e},e.prototype.isPropertyKey=function(e,t){return e.type===c.Syntax.Identifier&&e.name===t||e.type===c.Syntax.Literal&&e.value===t},e.prototype.parseObjectProperty=function(e){var t,n=this.createNode(),i=this.lookahead,r=null,a=null,c=!1,u=!1,l=!1,d=!1;if(3===i.type){var h=i.value;this.nextToken(),c=this.match("["),r=(d=!(this.hasLineTerminator||"async"!==h||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(n,new s.Identifier(h))}else this.match("*")?this.nextToken():(c=this.match("["),r=this.parseObjectPropertyKey());var p=this.qualifiedPropertyName(this.lookahead);if(3===i.type&&!d&&"get"===i.value&&p)t="get",c=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod();else if(3===i.type&&!d&&"set"===i.value&&p)t="set",c=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseSetterMethod();else if(7===i.type&&"*"===i.value&&p)t="init",c=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0;else if(r||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!d)!c&&this.isPropertyKey(r,"__proto__")&&(e.value&&this.tolerateError(o.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),a=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))a=d?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0;else if(3===i.type)if(h=this.finalize(n,new s.Identifier(i.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var f=this.isolateCoverGrammar(this.parseAssignmentExpression);a=this.finalize(n,new s.AssignmentPattern(h,f))}else l=!0,a=h;else this.throwUnexpectedToken(this.nextToken());return this.finalize(n,new s.Property(t,r,c,a,u,l))},e.prototype.parseObjectInitializer=function(){var e=this.createNode();this.expect("{");for(var t=[],n={value:!1};!this.match("}");)t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new s.ObjectExpression(t))},e.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new s.TemplateElement({raw:n,cooked:r},t.tail))},e.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,i=t.cooked;return this.finalize(e,new s.TemplateElement({raw:n,cooked:i},t.tail))},e.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],i=this.parseTemplateHead();for(n.push(i);!i.tail;)t.push(this.parseExpression()),i=this.parseTemplateElement(),n.push(i);return this.finalize(e,new s.TemplateLiteral(n,t))},e.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:e.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case c.Syntax.ArrayExpression:e.type=c.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case c.Syntax.ObjectExpression:for(e.type=c.Syntax.ObjectPattern,t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case c.Syntax.AssignmentExpression:e.type=c.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},e.prototype.parseGroupExpression=function(){var e;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),e={type:l,params:[],async:!1};else{var t=this.lookahead,n=[];if(this.match("..."))e=this.parseRestElement(n),this.expect(")"),this.match("=>")||this.expect("=>"),e={type:l,params:[e],async:!1};else{var i=!1;if(this.context.isBindingElement=!0,e=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var r=[];for(this.context.isAssignmentTarget=!1,r.push(e);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var o=0;o<r.length;o++)this.reinterpretExpressionAsPattern(r[o]);i=!0,e={type:l,params:r,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),r.push(this.parseRestElement(n)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,o=0;o<r.length;o++)this.reinterpretExpressionAsPattern(r[o]);i=!0,e={type:l,params:r,async:!1}}else r.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(i)break}i||(e=this.finalize(this.startNode(t),new s.SequenceExpression(r)))}if(!i){if(this.expect(")"),this.match("=>")&&(e.type===c.Syntax.Identifier&&"yield"===e.name&&(i=!0,e={type:l,params:[e],async:!1}),!i)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),e.type===c.Syntax.SequenceExpression)for(o=0;o<e.expressions.length;o++)this.reinterpretExpressionAsPattern(e.expressions[o]);else this.reinterpretExpressionAsPattern(e);var a=e.type===c.Syntax.SequenceExpression?e.expressions:[e];e={type:l,params:a,async:!1}}this.context.isBindingElement=!1}}}return e},e.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},e.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new s.Identifier(t.value))},e.prototype.parseNewExpression=function(){var e,t=this.createNode(),n=this.parseIdentifierName();if(i.assert("new"===n.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var r=this.parseIdentifierName();e=new s.MetaProperty(n,r)}else this.throwUnexpectedToken(this.lookahead);else{var o=this.isolateCoverGrammar(this.parseLeftHandSideExpression),a=this.match("(")?this.parseArguments():[];e=new s.NewExpression(o,a),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(t,e)},e.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},e.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},e.prototype.parseLeftHandSideExpressionAllowCall=function(){var e,t=this.lookahead,n=this.matchContextualKeyword("async"),i=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(e=this.createNode(),this.nextToken(),e=this.finalize(e,new s.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):e=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var r=this.parseIdentifierName();e=this.finalize(this.startNode(t),new s.StaticMemberExpression(e,r))}else if(this.match("(")){var o=n&&t.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var a=o?this.parseAsyncArguments():this.parseArguments();if(e=this.finalize(this.startNode(t),new s.CallExpression(e,a)),o&&this.match("=>")){for(var c=0;c<a.length;++c)this.reinterpretExpressionAsPattern(a[c]);e={type:l,params:a,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),r=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),e=this.finalize(this.startNode(t),new s.ComputedMemberExpression(e,r));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var u=this.parseTemplateLiteral();e=this.finalize(this.startNode(t),new s.TaggedTemplateExpression(e,u))}return this.context.allowIn=i,e},e.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new s.Super)},e.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new s.ComputedMemberExpression(t,n))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),t=this.finalize(e,new s.StaticMemberExpression(t,n));else{if(10!==this.lookahead.type||!this.lookahead.head)break;var r=this.parseTemplateLiteral();t=this.finalize(e,new s.TaggedTemplateExpression(t,r))}return t},e.prototype.parseUpdateExpression=function(){var e,t=this.lookahead;if(this.match("++")||this.match("--")){var n=this.startNode(t),i=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment);var r=!0;e=this.finalize(n,new s.UpdateExpression(i.value,e,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&e.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(o.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var a=this.nextToken().value;r=!1,e=this.finalize(this.startNode(t),new s.UpdateExpression(a,e,r))}return e},e.prototype.parseAwaitExpression=function(){var e=this.createNode();this.nextToken();var t=this.parseUnaryExpression();return this.finalize(e,new s.AwaitExpression(t))},e.prototype.parseUnaryExpression=function(){var e;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var t=this.startNode(this.lookahead),n=this.nextToken();e=this.inheritCoverGrammar(this.parseUnaryExpression),e=this.finalize(t,new s.UnaryExpression(n.value,e)),this.context.strict&&"delete"===e.operator&&e.argument.type===c.Syntax.Identifier&&this.tolerateError(o.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else e=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return e},e.prototype.parseExponentiationExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseUnaryExpression);if(t.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t,i=this.isolateCoverGrammar(this.parseExponentiationExpression);t=this.finalize(this.startNode(e),new s.BinaryExpression("**",n,i))}return t},e.prototype.binaryPrecedence=function(e){var t=e.value;return 7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0},e.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,i=this.binaryPrecedence(n);if(i>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var r=[e,this.lookahead],o=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),c=[o,n.value,a],u=[i];!((i=this.binaryPrecedence(this.lookahead))<=0);){for(;c.length>2&&i<=u[u.length-1];){a=c.pop();var l=c.pop();u.pop(),o=c.pop(),r.pop();var d=this.startNode(r[r.length-1]);c.push(this.finalize(d,new s.BinaryExpression(l,o,a)))}c.push(this.nextToken().value),u.push(i),r.push(this.lookahead),c.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var h=c.length-1;t=c[h];for(var p=r.pop();h>1;){var f=r.pop(),g=p&&p.lineStart;d=this.startNode(f,g),l=c[h-1],t=this.finalize(d,new s.BinaryExpression(l,c[h-2],t)),h-=2,p=f}}return t},e.prototype.parseConditionalExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var n=this.context.allowIn;this.context.allowIn=!0;var i=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=n,this.expect(":");var r=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new s.ConditionalExpression(t,i,r)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return t},e.prototype.checkPatternParam=function(e,t){switch(t.type){case c.Syntax.Identifier:this.validateParam(e,t,t.name);break;case c.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case c.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case c.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof s.Identifier},e.prototype.reinterpretAsCoverFormalsList=function(e){var t,n=[e],i=!1;switch(e.type){case c.Syntax.Identifier:break;case l:n=e.params,i=e.async;break;default:return null}t={simple:!0,paramSet:{}};for(var r=0;r<n.length;++r)(s=n[r]).type===c.Syntax.AssignmentPattern?s.right.type===c.Syntax.YieldExpression&&(s.right.argument&&this.throwUnexpectedToken(this.lookahead),s.right.type=c.Syntax.Identifier,s.right.name="yield",delete s.right.argument,delete s.right.delegate):i&&s.type===c.Syntax.Identifier&&"await"===s.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(t,s),n[r]=s;if(this.context.strict||!this.context.allowYield)for(r=0;r<n.length;++r){var s;(s=n[r]).type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(t.message===o.Messages.StrictParamDupe){var a=this.context.strict?t.stricted:t.firstRestricted;this.throwUnexpectedToken(a,t.message)}return{simple:t.simple,params:n,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.parseAssignmentExpression=function(){var e;if(!this.context.allowYield&&this.matchKeyword("yield"))e=this.parseYieldExpression();else{var t=this.lookahead,n=t;if(e=this.parseConditionalExpression(),3===n.type&&n.lineNumber===this.lookahead.lineNumber&&"async"===n.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var i=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(i),e={type:l,params:[i],async:!0}}if(e.type===l||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var r=e.async,a=this.reinterpretAsCoverFormalsList(e);if(a){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var u=this.context.strict,d=this.context.allowStrictDirective;this.context.allowStrictDirective=a.simple;var h=this.context.allowYield,p=this.context.await;this.context.allowYield=!0,this.context.await=r;var f=this.startNode(t);this.expect("=>");var g=void 0;if(this.match("{")){var m=this.context.allowIn;this.context.allowIn=!0,g=this.parseFunctionSourceElements(),this.context.allowIn=m}else g=this.isolateCoverGrammar(this.parseAssignmentExpression);var y=g.type!==c.Syntax.BlockStatement;this.context.strict&&a.firstRestricted&&this.throwUnexpectedToken(a.firstRestricted,a.message),this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message),e=r?this.finalize(f,new s.AsyncArrowFunctionExpression(a.params,g,y)):this.finalize(f,new s.ArrowFunctionExpression(a.params,g,y)),this.context.strict=u,this.context.allowStrictDirective=d,this.context.allowYield=h,this.context.await=p}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(o.Messages.InvalidLHSInAssignment),this.context.strict&&e.type===c.Syntax.Identifier){var v=e;this.scanner.isRestrictedWord(v.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(v.name)&&this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var b=(n=this.nextToken()).value,S=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new s.AssignmentExpression(b,e,S)),this.context.firstCoverInitializedNameError=null}}return e},e.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new s.SequenceExpression(n))}return t},e.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,o.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},e.prototype.parseBlock=function(){var e=this.createNode();this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new s.BlockStatement(t))},e.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),i=this.parsePattern([],e);this.context.strict&&i.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(o.Messages.StrictVarName);var r=null;return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(o.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&i.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),r=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new s.VariableDeclarator(i,r))},e.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},e.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState();this.scanner.scanComments();var t=this.scanner.lex();return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},e.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value;i.assert("let"===n||"const"===n,"Lexical declaration must be either let or const");var r=this.parseBindingList(n,e);return this.consumeSemicolon(),this.finalize(t,new s.VariableDeclaration(r,n))},e.prototype.parseBindingRestElement=function(e,t){var n=this.createNode();this.expect("...");var i=this.parsePattern(e,t);return this.finalize(n,new s.RestElement(i))},e.prototype.parseArrayPattern=function(e,t){var n=this.createNode();this.expect("[");for(var i=[];!this.match("]");)if(this.match(","))this.nextToken(),i.push(null);else{if(this.match("...")){i.push(this.parseBindingRestElement(e,t));break}i.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new s.ArrayPattern(i))},e.prototype.parsePropertyPattern=function(e,t){var n,i,r=this.createNode(),o=!1,a=!1;if(3===this.lookahead.type){var c=this.lookahead;n=this.parseVariableIdentifier();var u=this.finalize(r,new s.Identifier(c.value));if(this.match("=")){e.push(c),a=!0,this.nextToken();var l=this.parseAssignmentExpression();i=this.finalize(this.startNode(c),new s.AssignmentPattern(u,l))}else this.match(":")?(this.expect(":"),i=this.parsePatternWithDefault(e,t)):(e.push(c),a=!0,i=u)}else o=this.match("["),n=this.parseObjectPropertyKey(),this.expect(":"),i=this.parsePatternWithDefault(e,t);return this.finalize(r,new s.Property("init",n,o,i,!1,a))},e.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),i=[];for(this.expect("{");!this.match("}");)i.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new s.ObjectPattern(i))},e.prototype.parsePattern=function(e,t){var n;return this.match("[")?n=this.parseArrayPattern(e,t):this.match("{")?n=this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,o.Messages.LetInLexicalBinding),e.push(this.lookahead),n=this.parseVariableIdentifier(t)),n},e.prototype.parsePatternWithDefault=function(e,t){var n=this.lookahead,i=this.parsePattern(e,t);if(this.match("=")){this.nextToken();var r=this.context.allowYield;this.context.allowYield=!0;var o=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=r,i=this.finalize(this.startNode(n),new s.AssignmentPattern(i,o))}return i},e.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,o.Messages.StrictReservedWord):(this.context.strict||"let"!==n.value||"var"!==e)&&this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new s.Identifier(n.value))},e.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=this.parsePattern([],"var");this.context.strict&&n.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictVarName);var i=null;return this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===c.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new s.VariableDeclarator(n,i))},e.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},e.prototype.parseVariableStatement=function(){var e=this.createNode();this.expectKeyword("var");var t=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(e,new s.VariableDeclaration(t,"var"))},e.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new s.EmptyStatement)},e.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ExpressionStatement(t))},e.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(o.Messages.StrictFunction),this.parseStatement()},e.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null;this.expectKeyword("if"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new s.IfStatement(i,e,n))},e.prototype.parseDoWhileStatement=function(){var e=this.createNode();this.expectKeyword("do");var t=this.context.inIteration;this.context.inIteration=!0;var n=this.parseStatement();this.context.inIteration=t,this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new s.DoWhileStatement(n,i))},e.prototype.parseWhileStatement=function(){var e,t=this.createNode();this.expectKeyword("while"),this.expect("(");var n=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var i=this.context.inIteration;this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=i}return this.finalize(t,new s.WhileStatement(n,e))},e.prototype.parseForStatement=function(){var e,t,n,i=null,r=null,a=null,u=!0,l=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){i=this.createNode(),this.nextToken();var d=this.context.allowIn;this.context.allowIn=!1;var h=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=d,1===h.length&&this.matchKeyword("in")){var p=h[0];p.init&&(p.id.type===c.Syntax.ArrayPattern||p.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(o.Messages.ForInOfLoopInitializer,"for-in"),i=this.finalize(i,new s.VariableDeclaration(h,"var")),this.nextToken(),e=i,t=this.parseExpression(),i=null}else 1===h.length&&null===h[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new s.VariableDeclaration(h,"var")),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,u=!1):(i=this.finalize(i,new s.VariableDeclaration(h,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){i=this.createNode();var f=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(d=this.context.allowIn,this.context.allowIn=!1,h=this.parseBindingList(f,{inFor:!0}),this.context.allowIn=d,1===h.length&&null===h[0].init&&this.matchKeyword("in")?(i=this.finalize(i,new s.VariableDeclaration(h,f)),this.nextToken(),e=i,t=this.parseExpression(),i=null):1===h.length&&null===h[0].init&&this.matchContextualKeyword("of")?(i=this.finalize(i,new s.VariableDeclaration(h,f)),this.nextToken(),e=i,t=this.parseAssignmentExpression(),i=null,u=!1):(this.consumeSemicolon(),i=this.finalize(i,new s.VariableDeclaration(h,f)))):(i=this.finalize(i,new s.Identifier(f)),this.nextToken(),e=i,t=this.parseExpression(),i=null)}else{var g=this.lookahead;if(d=this.context.allowIn,this.context.allowIn=!1,i=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=d,this.matchKeyword("in"))this.context.isAssignmentTarget&&i.type!==c.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseExpression(),i=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&i.type!==c.Syntax.AssignmentExpression||this.tolerateError(o.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(i),e=i,t=this.parseAssignmentExpression(),i=null,u=!1;else{if(this.match(",")){for(var m=[i];this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));i=this.finalize(this.startNode(g),new s.SequenceExpression(m))}this.expect(";")}}if(void 0===e&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(a=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),n=this.finalize(this.createNode(),new s.EmptyStatement);else{this.expect(")");var y=this.context.inIteration;this.context.inIteration=!0,n=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=y}return void 0===e?this.finalize(l,new s.ForStatement(i,r,a,n)):u?this.finalize(l,new s.ForInStatement(e,t,n)):this.finalize(l,new s.ForOfStatement(e,t,n))},e.prototype.parseContinueStatement=function(){var e=this.createNode();this.expectKeyword("continue");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier();t=n;var i="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(o.Messages.UnknownLabel,n.name)}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.throwError(o.Messages.IllegalContinue),this.finalize(e,new s.ContinueStatement(t))},e.prototype.parseBreakStatement=function(){var e=this.createNode();this.expectKeyword("break");var t=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var n=this.parseVariableIdentifier(),i="$"+n.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,i)||this.throwError(o.Messages.UnknownLabel,n.name),t=n}return this.consumeSemicolon(),null!==t||this.context.inIteration||this.context.inSwitch||this.throwError(o.Messages.IllegalBreak),this.finalize(e,new s.BreakStatement(t))},e.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(o.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ReturnStatement(t))},e.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(o.Messages.StrictModeWith);var e,t=this.createNode();this.expectKeyword("with"),this.expect("(");var n=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new s.EmptyStatement)):(this.expect(")"),e=this.parseStatement()),this.finalize(t,new s.WithStatement(n,e))},e.prototype.parseSwitchCase=function(){var e,t=this.createNode();this.matchKeyword("default")?(this.nextToken(),e=null):(this.expectKeyword("case"),e=this.parseExpression()),this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(t,new s.SwitchCase(e,n))},e.prototype.parseSwitchStatement=function(){var e=this.createNode();this.expectKeyword("switch"),this.expect("(");var t=this.parseExpression();this.expect(")");var n=this.context.inSwitch;this.context.inSwitch=!0;var i=[],r=!1;for(this.expect("{");!this.match("}");){var a=this.parseSwitchCase();null===a.test&&(r&&this.throwError(o.Messages.MultipleDefaultsInSwitch),r=!0),i.push(a)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new s.SwitchStatement(t,i))},e.prototype.parseLabelledStatement=function(){var e,t=this.createNode(),n=this.parseExpression();if(n.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var i=n,r="$"+i.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)&&this.throwError(o.Messages.Redeclaration,"Label",i.name),this.context.labelSet[r]=!0;var a=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),a=this.parseClassDeclaration();else if(this.matchKeyword("function")){var u=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(u,o.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(u,o.Messages.GeneratorInLegacyContext),a=l}else a=this.parseStatement();delete this.context.labelSet[r],e=new s.LabeledStatement(i,a)}else this.consumeSemicolon(),e=new s.ExpressionStatement(n);return this.finalize(t,e)},e.prototype.parseThrowStatement=function(){var e=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(o.Messages.NewlineAfterThrow);var t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new s.ThrowStatement(t))},e.prototype.parseCatchClause=function(){var e=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var t=[],n=this.parsePattern(t),i={},r=0;r<t.length;r++){var a="$"+t[r].value;Object.prototype.hasOwnProperty.call(i,a)&&this.tolerateError(o.Messages.DuplicateBinding,t[r].value),i[a]=!0}this.context.strict&&n.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(o.Messages.StrictCatchVariable),this.expect(")");var u=this.parseBlock();return this.finalize(e,new s.CatchClause(n,u))},e.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},e.prototype.parseTryStatement=function(){var e=this.createNode();this.expectKeyword("try");var t=this.parseBlock(),n=this.matchKeyword("catch")?this.parseCatchClause():null,i=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||i||this.throwError(o.Messages.NoCatchOrFinally),this.finalize(e,new s.TryStatement(t,n,i))},e.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new s.DebuggerStatement)},e.prototype.parseStatement=function(){var e;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:e=this.parseExpressionStatement();break;case 7:var t=this.lookahead.value;e="{"===t?this.parseBlock():"("===t?this.parseExpressionStatement():";"===t?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:e=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":e=this.parseBreakStatement();break;case"continue":e=this.parseContinueStatement();break;case"debugger":e=this.parseDebuggerStatement();break;case"do":e=this.parseDoWhileStatement();break;case"for":e=this.parseForStatement();break;case"function":e=this.parseFunctionDeclaration();break;case"if":e=this.parseIfStatement();break;case"return":e=this.parseReturnStatement();break;case"switch":e=this.parseSwitchStatement();break;case"throw":e=this.parseThrowStatement();break;case"try":e=this.parseTryStatement();break;case"var":e=this.parseVariableStatement();break;case"while":e=this.parseWhileStatement();break;case"with":e=this.parseWithStatement();break;default:e=this.parseExpressionStatement()}break;default:e=this.throwUnexpectedToken(this.lookahead)}return e},e.prototype.parseFunctionSourceElements=function(){var e=this.createNode();this.expect("{");var t=this.parseDirectivePrologues(),n=this.context.labelSet,i=this.context.inIteration,r=this.context.inSwitch,o=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=i,this.context.inSwitch=r,this.context.inFunctionBody=o,this.finalize(e,new s.BlockStatement(t))},e.prototype.validateParam=function(e,t,n){var i="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=o.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,i)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=o.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,i)&&(e.stricted=t,e.message=o.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,i,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[i]=!0},e.prototype.parseRestElement=function(e){var t=this.createNode();this.expect("...");var n=this.parsePattern(e);return this.match("=")&&this.throwError(o.Messages.DefaultRestParameter),this.match(")")||this.throwError(o.Messages.ParameterAfterRestParameter),this.finalize(t,new s.RestElement(n))},e.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),i=0;i<t.length;i++)this.validateParam(e,t[i],t[i].value);e.simple=e.simple&&n instanceof s.Identifier,e.params.push(n)},e.prototype.parseFormalParameters=function(e){var t;if(t={simple:!0,params:[],firstRestricted:e},this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},e.prototype.matchAsyncFunction=function(){var e=this.matchContextualKeyword("async");if(e){var t=this.scanner.saveState();this.scanner.scanComments();var n=this.scanner.lex();this.scanner.restoreState(t),e=t.lineNumber===n.lineNumber&&4===n.type&&"function"===n.value}return e},e.prototype.parseFunctionDeclaration=function(e){var t=this.createNode(),n=this.matchContextualKeyword("async");n&&this.nextToken(),this.expectKeyword("function");var i,r=!n&&this.match("*");r&&this.nextToken();var a=null,c=null;if(!e||!this.match("(")){var u=this.lookahead;a=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(u.value)&&this.tolerateUnexpectedToken(u,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(u.value)?(c=u,i=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(u.value)&&(c=u,i=o.Messages.StrictReservedWord)}var l=this.context.await,d=this.context.allowYield;this.context.await=n,this.context.allowYield=!r;var h=this.parseFormalParameters(c),p=h.params,f=h.stricted;c=h.firstRestricted,h.message&&(i=h.message);var g=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=h.simple;var y=this.parseFunctionSourceElements();return this.context.strict&&c&&this.throwUnexpectedToken(c,i),this.context.strict&&f&&this.tolerateUnexpectedToken(f,i),this.context.strict=g,this.context.allowStrictDirective=m,this.context.await=l,this.context.allowYield=d,n?this.finalize(t,new s.AsyncFunctionDeclaration(a,p,y)):this.finalize(t,new s.FunctionDeclaration(a,p,y,r))},e.prototype.parseFunctionExpression=function(){var e=this.createNode(),t=this.matchContextualKeyword("async");t&&this.nextToken(),this.expectKeyword("function");var n,i=!t&&this.match("*");i&&this.nextToken();var r,a=null,c=this.context.await,u=this.context.allowYield;if(this.context.await=t,this.context.allowYield=!i,!this.match("(")){var l=this.lookahead;a=this.context.strict||i||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,o.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(r=l,n=o.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(r=l,n=o.Messages.StrictReservedWord)}var d=this.parseFormalParameters(r),h=d.params,p=d.stricted;r=d.firstRestricted,d.message&&(n=d.message);var f=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var m=this.parseFunctionSourceElements();return this.context.strict&&r&&this.throwUnexpectedToken(r,n),this.context.strict&&p&&this.tolerateUnexpectedToken(p,n),this.context.strict=f,this.context.allowStrictDirective=g,this.context.await=c,this.context.allowYield=u,t?this.finalize(e,new s.AsyncFunctionExpression(a,h,m)):this.finalize(e,new s.FunctionExpression(a,h,m,i))},e.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),i=n.type===c.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,i?new s.Directive(n,i):new s.ExpressionStatement(n))},e.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(8!==n.type)break;var i=this.parseDirective();t.push(i);var r=i.directive;if("string"!=typeof r)break;"use strict"===r?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,o.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,o.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},e.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},e.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();n.params.length>0&&this.tolerateError(o.Messages.BadGetterArity);var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,i,!1))},e.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();1!==n.params.length?this.tolerateError(o.Messages.BadSetterArity):n.params[0]instanceof s.RestElement&&this.tolerateError(o.Messages.BadSetterRestParameter);var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,i,!1))},e.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield;this.context.allowYield=!0;var n=this.parseFormalParameters();this.context.allowYield=!1;var i=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new s.FunctionExpression(null,n.params,i,!0))},e.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},e.prototype.parseYieldExpression=function(){var e=this.createNode();this.expectKeyword("yield");var t=null,n=!1;if(!this.hasLineTerminator){var i=this.context.allowYield;this.context.allowYield=!1,(n=this.match("*"))?(this.nextToken(),t=this.parseAssignmentExpression()):this.isStartOfExpression()&&(t=this.parseAssignmentExpression()),this.context.allowYield=i}return this.finalize(e,new s.YieldExpression(t,n))},e.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),i="",r=null,a=null,c=!1,u=!1,l=!1,d=!1;if(this.match("*"))this.nextToken();else if(c=this.match("["),"static"===(r=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,l=!0,c=this.match("["),this.match("*")?this.nextToken():r=this.parseObjectPropertyKey()),3===t.type&&!this.hasLineTerminator&&"async"===t.value){var h=this.lookahead.value;":"!==h&&"("!==h&&"*"!==h&&(d=!0,t=this.lookahead,r=this.parseObjectPropertyKey(),3===t.type&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,o.Messages.ConstructorIsAsync))}var p=this.qualifiedPropertyName(this.lookahead);return 3===t.type?"get"===t.value&&p?(i="get",c=this.match("["),r=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod()):"set"===t.value&&p&&(i="set",c=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseSetterMethod()):7===t.type&&"*"===t.value&&p&&(i="init",c=this.match("["),r=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0),!i&&r&&this.match("(")&&(i="init",a=d?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0),i||this.throwUnexpectedToken(this.lookahead),"init"===i&&(i="method"),c||(l&&this.isPropertyKey(r,"prototype")&&this.throwUnexpectedToken(t,o.Messages.StaticPrototype),!l&&this.isPropertyKey(r,"constructor")&&(("method"!==i||!u||a&&a.generator)&&this.throwUnexpectedToken(t,o.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,o.Messages.DuplicateConstructor):e.value=!0,i="constructor")),this.finalize(n,new s.MethodDefinition(r,c,a,i,l))},e.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},e.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new s.ClassBody(t))},e.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=e&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var o=this.parseClassBody();return this.context.strict=n,this.finalize(t,new s.ClassDeclaration(i,r,o))},e.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var n=3===this.lookahead.type?this.parseVariableIdentifier():null,i=null;this.matchKeyword("extends")&&(this.nextToken(),i=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var r=this.parseClassBody();return this.context.strict=t,this.finalize(e,new s.ClassExpression(n,i,r))},e.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Module(t))},e.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new s.Script(t))},e.prototype.parseModuleSpecifier=function(){var e=this.createNode();8!==this.lookahead.type&&this.throwError(o.Messages.InvalidModuleSpecifier);var t=this.nextToken(),n=this.getTokenRaw(t);return this.finalize(e,new s.Literal(t.value,n))},e.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new s.ImportSpecifier(t,e))},e.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},e.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new s.ImportDefaultSpecifier(t))},e.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(o.Messages.NoAsAfterImportNamespace),this.nextToken();var t=this.parseIdentifierName();return this.finalize(e,new s.ImportNamespaceSpecifier(t))},e.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalImportDeclaration);var e,t=this.createNode();this.expectKeyword("import");var n=[];if(8===this.lookahead.type)e=this.parseModuleSpecifier();else{if(this.match("{")?n=n.concat(this.parseNamedImports()):this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(n.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?n.push(this.parseImportNamespaceSpecifier()):this.match("{")?n=n.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var i=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken(),e=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(t,new s.ImportDeclaration(n,e))},e.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new s.ExportSpecifier(t,n))},e.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(o.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var n=this.parseFunctionDeclaration(!0);e=this.finalize(t,new s.ExportDefaultDeclaration(n))}else this.matchKeyword("class")?(n=this.parseClassDeclaration(!0),e=this.finalize(t,new s.ExportDefaultDeclaration(n))):this.matchContextualKeyword("async")?(n=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),e=this.finalize(t,new s.ExportDefaultDeclaration(n))):(this.matchContextualKeyword("from")&&this.throwError(o.Messages.UnexpectedToken,this.lookahead.value),n=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),e=this.finalize(t,new s.ExportDefaultDeclaration(n)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var i=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause;this.throwError(i,this.lookahead.value)}this.nextToken();var r=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new s.ExportAllDeclaration(r))}else if(4===this.lookahead.type){switch(n=void 0,this.lookahead.value){case"let":case"const":n=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":n=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new s.ExportNamedDeclaration(n,[],null))}else if(this.matchAsyncFunction())n=this.parseFunctionDeclaration(),e=this.finalize(t,new s.ExportNamedDeclaration(n,[],null));else{var a=[],c=null,u=!1;for(this.expect("{");!this.match("}");)u=u||this.matchKeyword("default"),a.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),c=this.parseModuleSpecifier(),this.consumeSemicolon()):u?(i=this.lookahead.value?o.Messages.UnexpectedToken:o.Messages.MissingFromClause,this.throwError(i,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new s.ExportNamedDeclaration(null,a,c))}return e},e}();t.Parser=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.errors=[],this.tolerant=!1}return e.prototype.recordError=function(e){this.errors.push(e)},e.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},e.prototype.constructError=function(e,t){var n=new Error(e);try{throw n}catch(e){Object.create&&Object.defineProperty&&(n=Object.create(e),Object.defineProperty(n,"column",{value:t}))}return n},e.prototype.createError=function(e,t,n,i){var r="Line "+t+": "+i,o=this.constructError(r,n);return o.index=e,o.lineNumber=t,o.description=i,o},e.prototype.throwError=function(e,t,n,i){throw this.createError(e,t,n,i)},e.prototype.tolerateError=function(e,t,n,i){var r=this.createError(e,t,n,i);if(!this.tolerant)throw r;this.recordError(r)},e}();t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),r=n(4),o=n(11);function s(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function a(e){return"01234567".indexOf(e)}var c=function(){function e(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=e.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return e.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},e.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},e.prototype.eof=function(){return this.index>=this.length},e.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=o.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},e.prototype.skipSingleLineComment=function(e){var t,n,i=[];for(this.trackComment&&(i=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var o=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(o)){if(this.trackComment){n.end={line:this.lineNumber,column:this.index-this.lineStart-1};var s={multiLine:!1,slice:[t+e,this.index-1],range:[t,this.index-1],loc:n};i.push(s)}return 13===o&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,i}}return this.trackComment&&(n.end={line:this.lineNumber,column:this.index-this.lineStart},s={multiLine:!1,slice:[t+e,this.index],range:[t,this.index],loc:n},i.push(s)),i},e.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var i=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(i))13===i&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===i){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){t.end={line:this.lineNumber,column:this.index-this.lineStart};var o={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t};n.push(o)}return n}++this.index}else++this.index}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},o={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},n.push(o)),this.tolerateUnexpectedToken(),n},e.prototype.scanComments=function(){var e;this.trackComment&&(e=[]);for(var t=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(n))++this.index;else if(r.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var i=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(i)),t=!0}else{if(42!==n)break;this.index+=2,i=this.skipMultiLineComment(),this.trackComment&&(e=e.concat(i))}else if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3,i=this.skipSingleLineComment(3),this.trackComment&&(e=e.concat(i))}else{if(60!==n||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4,i=this.skipSingleLineComment(4),this.trackComment&&(e=e.concat(i))}}return e},e.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},e.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},e.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},e.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},e.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);if(t>=55296&&t<=56319){var n=this.source.charCodeAt(e+1);n>=56320&&n<=57343&&(t=1024*(t-55296)+n-56320+65536)}return t},e.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,i=0;i<t;++i){if(this.eof()||!r.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+s(this.source[this.index++])}return String.fromCharCode(n)},e.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],r.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+s(e);return(t>1114111||"}"!==e)&&this.throwUnexpectedToken(),r.Character.fromCodePoint(t)},e.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(t>=55296&&t<57343)return this.index=e,this.getComplexIdentifier();if(!r.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},e.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=r.Character.fromCodePoint(t);for(this.index+=n.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),n=e);!this.eof()&&(t=this.codePointAt(this.index),r.Character.isIdentifierPart(t));)n+=e=r.Character.fromCodePoint(t),this.index+=e.length,92===t&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&r.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),n+=e);return n},e.prototype.octalToDecimal=function(e){var t="0"!==e,n=a(e);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+a(this.source[this.index++]),"0123".indexOf(e)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(n=8*n+a(this.source[this.index++]))),{code:n,octal:t}},e.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier();if(3!=(e=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3)&&t+n.length!==this.index){var i=this.index;this.index=t,this.tolerateUnexpectedToken(o.Messages.InvalidEscapedReservedWord),this.index=i}return{type:e,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],"<>=!+-*%&|^/".indexOf(t)>=0&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),this.eof()||(t=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(t)||r.Character.isDecimalDigit(t))&&this.throwUnexpectedToken()),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanOctalLiteral=function(e,t){var n="",i=!1;for(r.Character.isOctalDigit(e.charCodeAt(0))?(i=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return i||0!==n.length||this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},e.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!r.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},e.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e];i.assert(r.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point");var n="";if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&r.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(n+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanStringLiteral=function(){var e=this.index,t=this.source[e];i.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index;for(var n=!1,s="";!this.eof();){var a=this.source[this.index++];if(a===t){t="";break}if("\\"===a)if((a=this.source[this.index++])&&r.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(a){case"u":if("{"===this.source[this.index])++this.index,s+=this.scanUnicodeCodePointEscape();else{var c=this.scanHexEscape(a);null===c&&this.throwUnexpectedToken(),s+=c}break;case"x":var u=this.scanHexEscape(a);null===u&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),s+=u;break;case"n":s+="\n";break;case"r":s+="\r";break;case"t":s+="\t";break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;case"8":case"9":s+=a,this.tolerateUnexpectedToken();break;default:if(a&&r.Character.isOctalDigit(a.charCodeAt(0))){var l=this.octalToDecimal(a);n=l.octal||n,s+=String.fromCharCode(l.code)}else s+=a}else{if(r.Character.isLineTerminator(a.charCodeAt(0)))break;s+=a}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:s,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,i="`"===this.source[n],s=!1,a=2;for(++this.index;!this.eof();){var c=this.source[this.index++];if("`"===c){a=1,s=!0,t=!0;break}if("$"===c){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=c}else if("\\"===c)if(c=this.source[this.index++],r.Character.isLineTerminator(c.charCodeAt(0)))++this.lineNumber,"\r"===c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(c){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":if("{"===this.source[this.index])++this.index,e+=this.scanUnicodeCodePointEscape();else{var u=this.index,l=this.scanHexEscape(c);null!==l?e+=l:(this.index=u,e+=c)}break;case"x":var d=this.scanHexEscape(c);null===d&&this.throwUnexpectedToken(o.Messages.InvalidHexEscapeSequence),e+=d;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===c?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral),e+="\0"):r.Character.isOctalDigit(c.charCodeAt(0))?this.throwUnexpectedToken(o.Messages.TemplateOctalLiteral):e+=c}else r.Character.isLineTerminator(c.charCodeAt(0))?(++this.lineNumber,"\r"===c&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=c}return t||this.throwUnexpectedToken(),i||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-a),cooked:e,head:i,tail:s,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},e.prototype.testRegExp=function(e,t){var n=e,i=this;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(e,t,n){var r=parseInt(t||n,16);return r>1114111&&i.throwUnexpectedToken(o.Messages.InvalidRegExp),r<=65535?String.fromCharCode(r):"￿"})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(n)}catch(e){this.throwUnexpectedToken(o.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},e.prototype.scanRegExpBody=function(){var e=this.source[this.index];i.assert("/"===e,"Regular expression literal must start with a slash");for(var t=this.source[this.index++],n=!1,s=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],r.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t+=e;else if(r.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(o.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){s=!0;break}"["===e&&(n=!0)}return s||this.throwUnexpectedToken(o.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},e.prototype.scanRegExpFlags=function(){for(var e="";!this.eof();){var t=this.source[this.index];if(!r.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,"\\"!==t||this.eof())e+=t;else if("u"===(t=this.source[this.index])){++this.index;var n=this.index,i=this.scanHexEscape("u");if(null!==i)for(e+=i;n<this.index;++n)this.source[n];else this.index=n,e+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return e},e.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},e.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var e=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():e>=55296&&e<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},e}();t.Scanner=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(12),o=n(13),s=function(){function e(){this.values=[],this.curly=this.paren=-1}return e.prototype.beforeFunctionExpression=function(e){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)>=0},e.prototype.isRegexStart=function(){var e=this.values[this.values.length-1],t=null!==e;switch(e){case"this":case"]":t=!1;break;case")":var n=this.values[this.paren-1];t="if"===n||"while"===n||"for"===n||"with"===n;break;case"}":if(t=!1,"function"===this.values[this.curly-3])t=!!(i=this.values[this.curly-4])&&!this.beforeFunctionExpression(i);else if("function"===this.values[this.curly-4]){var i;t=!(i=this.values[this.curly-5])||!this.beforeFunctionExpression(i)}}return t},e.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},e}(),a=function(){function e(e,t){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new r.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new s}return e.prototype.errors=function(){return this.errorHandler.errors},e.prototype.getNextToken=function(){if(0===this.buffer.length){var e=this.scanner.scanComments();if(this.scanner.trackComment)for(var t=0;t<e.length;++t){var n=e[t],i=this.scanner.source.slice(n.slice[0],n.slice[1]),r={type:n.multiLine?"BlockComment":"LineComment",value:i};this.trackRange&&(r.range=n.range),this.trackLoc&&(r.loc=n.loc),this.buffer.push(r)}if(!this.scanner.eof()){var s=void 0;this.trackLoc&&(s={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var a="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(a);var c={type:o.TokenName[a.type],value:this.scanner.source.slice(a.start,a.end)};if(this.trackRange&&(c.range=[a.start,a.end]),this.trackLoc&&(s.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},c.loc=s),9===a.type){var u=a.pattern,l=a.flags;c.regex={pattern:u,flags:l}}this.buffer.push(c)}}return this.buffer.shift()},e}();t.Tokenizer=a}])},e.exports=t()},2178:(e,t,n)=>{"use strict";const i=n(85),r=n(1017),o=n(5145).mkdirsSync,s=n(2450).utimesMillisSync,a=n(3719);function c(e,t,n,o){const s=(o.dereference?i.statSync:i.lstatSync)(t);if(s.isDirectory())return function(e,t,n,r,o){return t?d(n,r,o):function(e,t,n,r){return i.mkdirSync(n),d(t,n,r),l(n,e)}(e.mode,n,r,o)}(s,e,t,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,n,r,o){return t?function(e,t,n,r){if(r.overwrite)return i.unlinkSync(n),u(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,r,o):u(e,n,r,o)}(s,e,t,n,o);if(s.isSymbolicLink())return function(e,t,n,o){let s=i.readlinkSync(t);if(o.dereference&&(s=r.resolve(process.cwd(),s)),e){let e;try{e=i.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return i.symlinkSync(s,n);throw e}if(o.dereference&&(e=r.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(i.statSync(n).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return i.unlinkSync(t),i.symlinkSync(e,t)}(s,n)}return i.symlinkSync(s,n)}(e,t,n,o);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function u(e,t,n,r){return i.copyFileSync(t,n),r.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){l(e,128|t)}(n,e),function(e,t){const n=i.statSync(e);s(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),l(n,e.mode)}function l(e,t){return i.chmodSync(e,t)}function d(e,t,n){i.readdirSync(e).forEach((i=>function(e,t,n,i){const o=r.join(t,e),s=r.join(n,e),{destStat:u}=a.checkPathsSync(o,s,"copy",i);return function(e,t,n,i){if(!i.filter||i.filter(t,n))return c(e,t,n,i)}(u,o,s,i)}(i,e,t,n)))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:s,destStat:u}=a.checkPathsSync(e,t,"copy",n);return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,n,s){if(s.filter&&!s.filter(t,n))return;const a=r.dirname(n);return i.existsSync(a)||o(a),c(e,t,n,s)}(u,e,t,n)}},5205:(e,t,n)=>{"use strict";const i=n(85),r=n(1017),o=n(5145).mkdirs,s=n(9699).pathExists,a=n(2450).utimesMillis,c=n(3719);function u(e,t,n,i,a){const c=r.dirname(n);s(c,((r,s)=>r?a(r):s?d(e,t,n,i,a):void o(c,(r=>r?a(r):d(e,t,n,i,a)))))}function l(e,t,n,i,r,o){Promise.resolve(r.filter(n,i)).then((s=>s?e(t,n,i,r,o):o()),(e=>o(e)))}function d(e,t,n,o,s){(o.dereference?i.stat:i.lstat)(t,((a,u)=>a?s(a):u.isDirectory()?function(e,t,n,r,o,s){return t?g(n,r,o,s):function(e,t,n,r,o){i.mkdir(n,(i=>{if(i)return o(i);g(t,n,r,(t=>t?o(t):f(n,e,o)))}))}(e.mode,n,r,o,s)}(u,e,t,n,o,s):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?function(e,t,n,r,o,s){return t?function(e,t,n,r,o){if(!r.overwrite)return r.errorOnExist?o(new Error(`'${n}' already exists`)):o();i.unlink(n,(i=>i?o(i):h(e,t,n,r,o)))}(e,n,r,o,s):h(e,n,r,o,s)}(u,e,t,n,o,s):u.isSymbolicLink()?function(e,t,n,o,s){i.readlink(t,((t,a)=>t?s(t):(o.dereference&&(a=r.resolve(process.cwd(),a)),e?void i.readlink(n,((t,u)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?i.symlink(a,n,s):s(t):(o.dereference&&(u=r.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&c.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(e,t,n){i.unlink(t,(r=>r?n(r):i.symlink(e,t,n)))}(a,n,s)))):i.symlink(a,n,s))))}(e,t,n,o,s):u.isSocket()?s(new Error(`Cannot copy a socket file: ${t}`)):u.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${t}`)):s(new Error(`Unknown file: ${t}`))))}function h(e,t,n,r,o){i.copyFile(t,n,(i=>i?o(i):r.preserveTimestamps?function(e,t,n,i){return function(e){return 0==(128&e)}(e)?function(e,t,n){return f(e,128|t,n)}(n,e,(r=>r?i(r):p(e,t,n,i))):p(e,t,n,i)}(e.mode,t,n,o):f(n,e.mode,o)))}function p(e,t,n,r){!function(e,t,n){i.stat(e,((e,i)=>e?n(e):a(t,i.atime,i.mtime,n)))}(t,n,(t=>t?r(t):f(n,e,r)))}function f(e,t,n){return i.chmod(e,t,n)}function g(e,t,n,r){i.readdir(e,((i,o)=>i?r(i):m(o,e,t,n,r)))}function m(e,t,n,i,o){const s=e.pop();return s?function(e,t,n,i,o,s){const a=r.join(n,t),u=r.join(i,t);c.checkPaths(a,u,"copy",o,((t,r)=>{if(t)return s(t);const{destStat:c}=r;!function(e,t,n,i,r){i.filter?l(d,e,t,n,i,r):d(e,t,n,i,r)}(c,a,u,o,(t=>t?s(t):m(e,n,i,o,s)))}))}(e,s,t,n,i,o):o()}e.exports=function(e,t,n,i){"function"!=typeof n||i?"function"==typeof n&&(n={filter:n}):(i=n,n={}),i=i||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),c.checkPaths(e,t,"copy",n,((r,o)=>{if(r)return i(r);const{srcStat:s,destStat:a}=o;c.checkParentPaths(e,s,t,"copy",(r=>r?i(r):n.filter?l(u,a,e,t,n,i):u(a,e,t,n,i)))}))}},1889:(e,t,n)=>{"use strict";const i=n(5725).fromCallback;e.exports={copy:i(n(5205)),copySync:n(2178)}},4088:(e,t,n)=>{"use strict";const i=n(5725).fromPromise,r=n(2143),o=n(1017),s=n(5145),a=n(3495),c=i((async function(e){let t;try{t=await r.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map((t=>a.remove(o.join(e,t)))))}));function u(e){let t;try{t=r.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},1454:(e,t,n)=>{"use strict";const i=n(5725).fromCallback,r=n(1017),o=n(85),s=n(5145);e.exports={createFile:i((function(e,t){function n(){o.writeFile(e,"",(e=>{if(e)return t(e);t()}))}o.stat(e,((i,a)=>{if(!i&&a.isFile())return t();const c=r.dirname(e);o.stat(c,((e,i)=>{if(e)return"ENOENT"===e.code?s.mkdirs(c,(e=>{if(e)return t(e);n()})):t(e);i.isDirectory()?n():o.readdir(c,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const n=r.dirname(e);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(n)}o.writeFileSync(e,"")}}},2689:(e,t,n)=>{"use strict";const{createFile:i,createFileSync:r}=n(1454),{createLink:o,createLinkSync:s}=n(462),{createSymlink:a,createSymlinkSync:c}=n(3318);e.exports={createFile:i,createFileSync:r,ensureFile:i,ensureFileSync:r,createLink:o,createLinkSync:s,ensureLink:o,ensureLinkSync:s,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},462:(e,t,n)=>{"use strict";const i=n(5725).fromCallback,r=n(1017),o=n(85),s=n(5145),a=n(9699).pathExists,{areIdentical:c}=n(3719);e.exports={createLink:i((function(e,t,n){function i(e,t){o.link(e,t,(e=>{if(e)return n(e);n(null)}))}o.lstat(t,((u,l)=>{o.lstat(e,((o,u)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);if(l&&c(u,l))return n(null);const d=r.dirname(t);a(d,((r,o)=>r?n(r):o?i(e,t):void s.mkdirs(d,(r=>{if(r)return n(r);i(e,t)}))))}))}))})),createLinkSync:function(e,t){let n;try{n=o.lstatSync(t)}catch{}try{const t=o.lstatSync(e);if(n&&c(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const i=r.dirname(t);return o.existsSync(i)||s.mkdirsSync(i),o.linkSync(e,t)}}},7650:(e,t,n)=>{"use strict";const i=n(1017),r=n(85),o=n(9699).pathExists;e.exports={symlinkPaths:function(e,t,n){if(i.isAbsolute(e))return r.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})));{const s=i.dirname(t),a=i.join(s,e);return o(a,((t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):r.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:i.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let n;if(i.isAbsolute(e)){if(n=r.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=i.dirname(t),s=i.join(o,e);if(n=r.existsSync(s),n)return{toCwd:s,toDst:e};if(n=r.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:i.relative(o,e)}}}}},2947:(e,t,n)=>{"use strict";const i=n(85);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);i.lstat(e,((e,i)=>{if(e)return n(null,"file");t=i&&i.isDirectory()?"dir":"file",n(null,t)}))},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=i.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},3318:(e,t,n)=>{"use strict";const i=n(5725).fromCallback,r=n(1017),o=n(2143),s=n(5145),a=s.mkdirs,c=s.mkdirsSync,u=n(7650),l=u.symlinkPaths,d=u.symlinkPathsSync,h=n(2947),p=h.symlinkType,f=h.symlinkTypeSync,g=n(9699).pathExists,{areIdentical:m}=n(3719);function y(e,t,n,i){l(e,t,((s,c)=>{if(s)return i(s);e=c.toDst,p(c.toCwd,n,((n,s)=>{if(n)return i(n);const c=r.dirname(t);g(c,((n,r)=>n?i(n):r?o.symlink(e,t,s,i):void a(c,(n=>{if(n)return i(n);o.symlink(e,t,s,i)}))))}))}))}e.exports={createSymlink:i((function(e,t,n,i){i="function"==typeof n?n:i,n="function"!=typeof n&&n,o.lstat(t,((r,s)=>{!r&&s.isSymbolicLink()?Promise.all([o.stat(e),o.stat(t)]).then((([r,o])=>{if(m(r,o))return i(null);y(e,t,n,i)})):y(e,t,n,i)}))})),createSymlinkSync:function(e,t,n){let i;try{i=o.lstatSync(t)}catch{}if(i&&i.isSymbolicLink()){const n=o.statSync(e),i=o.statSync(t);if(m(n,i))return}const s=d(e,t);e=s.toDst,n=f(s.toCwd,n);const a=r.dirname(t);return o.existsSync(a)||c(a),o.symlinkSync(e,t,n)}}},2143:(e,t,n)=>{"use strict";const i=n(5725).fromCallback,r=n(85),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof r[e]));Object.assign(t,r),o.forEach((e=>{t[e]=i(r[e])})),t.exists=function(e,t){return"function"==typeof t?r.exists(e,t):new Promise((t=>r.exists(e,t)))},t.read=function(e,t,n,i,o,s){return"function"==typeof s?r.read(e,t,n,i,o,s):new Promise(((s,a)=>{r.read(e,t,n,i,o,((e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?r.write(e,t,...n):new Promise(((i,o)=>{r.write(e,t,...n,((e,t,n)=>{if(e)return o(e);i({bytesWritten:t,buffer:n})}))}))},"function"==typeof r.writev&&(t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?r.writev(e,t,...n):new Promise(((i,o)=>{r.writev(e,t,...n,((e,t,n)=>{if(e)return o(e);i({bytesWritten:t,buffers:n})}))}))}),"function"==typeof r.realpath.native?t.realpath.native=i(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},890:(e,t,n)=>{"use strict";e.exports={...n(2143),...n(1889),...n(4088),...n(2689),...n(9270),...n(5145),...n(4146),...n(5048),...n(9699),...n(3495)}},9270:(e,t,n)=>{"use strict";const i=n(5725).fromPromise,r=n(9691);r.outputJson=i(n(8700)),r.outputJsonSync=n(2286),r.outputJSON=r.outputJson,r.outputJSONSync=r.outputJsonSync,r.writeJSON=r.writeJson,r.writeJSONSync=r.writeJsonSync,r.readJSON=r.readJson,r.readJSONSync=r.readJsonSync,e.exports=r},9691:(e,t,n)=>{"use strict";const i=n(370);e.exports={readJson:i.readFile,readJsonSync:i.readFileSync,writeJson:i.writeFile,writeJsonSync:i.writeFileSync}},2286:(e,t,n)=>{"use strict";const{stringify:i}=n(1120),{outputFileSync:r}=n(5048);e.exports=function(e,t,n){const o=i(t,n);r(e,o,n)}},8700:(e,t,n)=>{"use strict";const{stringify:i}=n(1120),{outputFile:r}=n(5048);e.exports=async function(e,t,n={}){const o=i(t,n);await r(e,o,n)}},5145:(e,t,n)=>{"use strict";const i=n(5725).fromPromise,{makeDir:r,makeDirSync:o}=n(646),s=i(r);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},646:(e,t,n)=>{"use strict";const i=n(2143),{checkPath:r}=n(7668),o=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(r(e),i.mkdir(e,{mode:o(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(r(e),i.mkdirSync(e,{mode:o(t),recursive:!0}))},7668:(e,t,n)=>{"use strict";const i=n(1017);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(i.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},4146:(e,t,n)=>{"use strict";const i=n(5725).fromCallback;e.exports={move:i(n(2571)),moveSync:n(1612)}},1612:(e,t,n)=>{"use strict";const i=n(85),r=n(1017),o=n(1889).copySync,s=n(3495).removeSync,a=n(5145).mkdirpSync,c=n(3719);function u(e,t,n){try{i.renameSync(e,t)}catch(i){if("EXDEV"!==i.code)throw i;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:!0}),s(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l,isChangingCase:d=!1}=c.checkPathsSync(e,t,"move",n);return c.checkParentPathsSync(e,l,t,"move"),function(e){const t=r.dirname(e);return r.parse(t).root===t}(t)||a(r.dirname(t)),function(e,t,n,r){if(r)return u(e,t,n);if(n)return s(t),u(e,t,n);if(i.existsSync(t))throw new Error("dest already exists.");return u(e,t,n)}(e,t,o,d)}},2571:(e,t,n)=>{"use strict";const i=n(85),r=n(1017),o=n(1889).copy,s=n(3495).remove,a=n(5145).mkdirp,c=n(9699).pathExists,u=n(3719);function l(e,t,n,i,r){return i?d(e,t,n,r):n?s(t,(i=>i?r(i):d(e,t,n,r))):void c(t,((i,o)=>i?r(i):o?r(new Error("dest already exists.")):d(e,t,n,r)))}function d(e,t,n,r){i.rename(e,t,(i=>i?"EXDEV"!==i.code?r(i):function(e,t,n,i){o(e,t,{overwrite:n,errorOnExist:!0},(t=>t?i(t):s(e,i)))}(e,t,n,r):r()))}e.exports=function(e,t,n,i){"function"==typeof n&&(i=n,n={});const o=(n=n||{}).overwrite||n.clobber||!1;u.checkPaths(e,t,"move",n,((n,s)=>{if(n)return i(n);const{srcStat:c,isChangingCase:d=!1}=s;u.checkParentPaths(e,c,t,"move",(n=>n?i(n):function(e){const t=r.dirname(e);return r.parse(t).root===t}(t)?l(e,t,o,d,i):void a(r.dirname(t),(n=>n?i(n):l(e,t,o,d,i)))))}))}},5048:(e,t,n)=>{"use strict";const i=n(5725).fromCallback,r=n(85),o=n(1017),s=n(5145),a=n(9699).pathExists;e.exports={outputFile:i((function(e,t,n,i){"function"==typeof n&&(i=n,n="utf8");const c=o.dirname(e);a(c,((o,a)=>o?i(o):a?r.writeFile(e,t,n,i):void s.mkdirs(c,(o=>{if(o)return i(o);r.writeFile(e,t,n,i)}))))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(r.existsSync(n))return r.writeFileSync(e,...t);s.mkdirsSync(n),r.writeFileSync(e,...t)}}},9699:(e,t,n)=>{"use strict";const i=n(5725).fromPromise,r=n(2143);e.exports={pathExists:i((function(e){return r.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:r.existsSync}},3495:(e,t,n)=>{"use strict";const i=n(85),r=n(5725).fromCallback,o=n(9373);e.exports={remove:r((function(e,t){if(i.rm)return i.rm(e,{recursive:!0,force:!0},t);o(e,t)})),removeSync:function(e){if(i.rmSync)return i.rmSync(e,{recursive:!0,force:!0});o.sync(e)}}},9373:(e,t,n)=>{"use strict";const i=n(85),r=n(1017),o=n(9491),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||i[t],e[t+="Sync"]=e[t]||i[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let i=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,(function r(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&i<t.maxBusyTries)return i++,setTimeout((()=>u(e,t,r)),100*i);"ENOENT"===o.code&&(o=null)}n(o)}))}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,((i,r)=>i&&"ENOENT"===i.code?n(null):i&&"EPERM"===i.code&&s?l(e,t,i,n):r&&r.isDirectory()?h(e,t,i,n):void t.unlink(e,(i=>{if(i){if("ENOENT"===i.code)return n(null);if("EPERM"===i.code)return s?l(e,t,i,n):h(e,t,i,n);if("EISDIR"===i.code)return h(e,t,i,n)}return n(i)}))))}function l(e,t,n,i){o(e),o(t),o("function"==typeof i),t.chmod(e,438,(r=>{r?i("ENOENT"===r.code?null:n):t.stat(e,((r,o)=>{r?i("ENOENT"===r.code?null:n):o.isDirectory()?h(e,t,n,i):t.unlink(e,i)}))}))}function d(e,t,n){let i;o(e),o(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{i=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}i.isDirectory()?f(e,t,n):t.unlinkSync(e)}function h(e,t,n,i){o(e),o(t),o("function"==typeof i),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?i(n):i(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,((i,o)=>{if(i)return n(i);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach((i=>{c(r.join(e,i),t,(i=>{if(!s)return i?n(s=i):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,i)}))}function p(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&d(e,t,n)}try{n&&n.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?d(e,t,n):f(e,t,n);if("EISDIR"!==n.code)throw n;f(e,t,n)}}function f(e,t,n){o(e),o(t);try{t.rmdirSync(e)}catch(i){if("ENOTDIR"===i.code)throw n;if("ENOTEMPTY"===i.code||"EEXIST"===i.code||"EPERM"===i.code)!function(e,t){if(o(e),o(t),t.readdirSync(e).forEach((n=>p(r.join(e,n),t))),!s)return t.rmdirSync(e,t);{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==i.code)throw i}}e.exports=c,c.sync=p},3719:(e,t,n)=>{"use strict";const i=n(2143),r=n(1017),o=n(3837);function s(e,t,n){const r=n.dereference?e=>i.stat(e,{bigint:!0}):e=>i.lstat(e,{bigint:!0});return Promise.all([r(e),r(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function c(e,t){const n=r.resolve(e).split(r.sep).filter((e=>e)),i=r.resolve(t).split(r.sep).filter((e=>e));return n.reduce(((e,t,n)=>e&&i[n]===t),!0)}function u(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,i,l){o.callbackify(s)(e,t,i,((i,o)=>{if(i)return l(i);const{srcStat:s,destStat:d}=o;if(d){if(a(s,d)){const i=r.basename(e),o=r.basename(t);return"move"===n&&i!==o&&i.toLowerCase()===o.toLowerCase()?l(null,{srcStat:s,destStat:d,isChangingCase:!0}):l(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!d.isDirectory())return l(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&d.isDirectory())return l(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&c(e,t)?l(new Error(u(e,t,n))):l(null,{srcStat:s,destStat:d})}))},checkPathsSync:function(e,t,n,o){const{srcStat:s,destStat:l}=function(e,t,n){let r;const o=n.dereference?e=>i.statSync(e,{bigint:!0}):e=>i.lstatSync(e,{bigint:!0}),s=o(e);try{r=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:r}}(e,t,o);if(l){if(a(s,l)){const i=r.basename(e),o=r.basename(t);if("move"===n&&i!==o&&i.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&c(e,t))throw new Error(u(e,t,n));return{srcStat:s,destStat:l}},checkParentPaths:function e(t,n,o,s,c){const l=r.resolve(r.dirname(t)),d=r.resolve(r.dirname(o));if(d===l||d===r.parse(d).root)return c();i.stat(d,{bigint:!0},((i,r)=>i?"ENOENT"===i.code?c():c(i):a(n,r)?c(new Error(u(t,o,s))):e(t,n,d,s,c)))},checkParentPathsSync:function e(t,n,o,s){const c=r.resolve(r.dirname(t)),l=r.resolve(r.dirname(o));if(l===c||l===r.parse(l).root)return;let d;try{d=i.statSync(l,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(n,d))throw new Error(u(t,o,s));return e(t,n,l,s)},isSrcSubdir:c,areIdentical:a}},2450:(e,t,n)=>{"use strict";const i=n(85);e.exports={utimesMillis:function(e,t,n,r){i.open(e,"r+",((e,o)=>{if(e)return r(e);i.futimes(o,t,n,(e=>{i.close(o,(t=>{r&&r(e||t)}))}))}))},utimesMillisSync:function(e,t,n){const r=i.openSync(e,"r+");return i.futimesSync(r,t,n),i.closeSync(r)}}},4203:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},85:(e,t,n)=>{var i,r,o=n(7147),s=n(2965),a=n(5361),c=n(4203),u=n(3837);function l(e,t){Object.defineProperty(e,i,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(i=Symbol.for("graceful-fs.queue"),r=Symbol.for("graceful-fs.previous")):(i="___graceful-fs.queue",r="___graceful-fs.previous");var d,h=function(){};if(u.debuglog?h=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[i]){var p=global[i]||[];l(o,p),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,r,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),m()}return Object.defineProperty(t,r,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(o[i]),n(9491).equal(o[i].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,i){return"function"==typeof n&&(i=n,n=null),function e(n,i,r,o){return t(n,i,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof r&&r.apply(this,arguments):g([e,[n,i,r],t,o||Date.now(),Date.now()])}))}(e,n,i)};var n=e.writeFile;e.writeFile=function(e,t,i,r){return"function"==typeof i&&(r=i,i=null),function e(t,i,r,o,s){return n(t,i,r,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,i,r,o],n,s||Date.now(),Date.now()])}))}(e,t,i,r)};var i=e.appendFile;i&&(e.appendFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,o,s){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,n,r,o],i,s||Date.now(),Date.now()])}))}(e,t,n,r)});var r=e.copyFile;r&&(e.copyFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=0),function e(t,n,i,o,s){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,n,i,o],r,s||Date.now(),Date.now()])}))}(e,t,n,i)});var o=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var i=c.test(process.version)?function(e,t,n,i){return o(e,r(e,t,n,i))}:function(e,t,n,i){return o(e,t,r(e,t,n,i))};return i(e,t,n);function r(e,t,n,r){return function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof n&&n.call(this,o,s)):g([i,[e,t,n],o,r||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var u=a(e);m=u.ReadStream,y=u.WriteStream}var l=e.ReadStream;l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var d=e.WriteStream;d&&(y.prototype=Object.create(d.prototype),y.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var h=m;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=y;function m(e,t){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function y(e,t){return this instanceof y?(d.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var v=e.open;function b(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,r,o){return v(t,n,i,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof r&&r.apply(this,arguments):g([e,[t,n,i,r],s,o||Date.now(),Date.now()])}))}(e,t,n,i)}return e.open=b,e}function g(e){h("ENQUEUE",e[0].name,e[1]),o[i].push(e),y()}function m(){for(var e=Date.now(),t=0;t<o[i].length;++t)o[i][t].length>2&&(o[i][t][3]=e,o[i][t][4]=e);y()}function y(){if(clearTimeout(d),d=void 0,0!==o[i].length){var e=o[i].shift(),t=e[0],n=e[1],r=e[2],s=e[3],a=e[4];if(void 0===s)h("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-s>=6e4){h("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,r)}else{var u=Date.now()-a,l=Math.max(a-s,1);u>=Math.min(1.2*l,100)?(h("RETRY",t.name,n),t.apply(null,n.concat([s]))):o[i].push(e)}void 0===d&&(d=setTimeout(y,0))}}global[i]||l(global,o[i]),e.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},5361:(e,t,n)=>{var i=n(2781).Stream;e.exports=function(e){return{ReadStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var s=Object.keys(r),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=r[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var o=Object.keys(r),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=r[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2965:(e,t,n)=>{var i=n(2057),r=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=r.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(n,i,r){return t.call(e,n,i,(function(e){u(e)&&(e=null),r&&r.apply(this,arguments)}))}:t}function n(t){return t?function(n,i){try{return t.call(e,n,i)}catch(e){if(!u(e))throw e}}:t}function r(t){return t?function(n,i,r,o){return t.call(e,n,i,r,(function(e){u(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function o(t){return t?function(n,i,r){try{return t.call(e,n,i,r)}catch(e){if(!u(e))throw e}}:t}function a(t){return t?function(n,i,r){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),r&&r.apply(this,arguments)}return"function"==typeof i&&(r=i,i=null),i?t.call(e,n,i,o):t.call(e,n,o)}:t}function c(t){return t?function(n,i){var r=i?t.call(e,n,i):t.call(e,n);return r&&(r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296)),r}:t}function u(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var l;i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,(function(t,i){t?r&&r(t):e.fchmod(i,n,(function(t){e.close(i,(function(e){r&&r(t||e)}))}))}))},e.lchmodSync=function(t,n){var r,o=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n),s=!0;try{r=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return r}}(e),e.lutimes||function(e){i.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,r,o){e.open(t,i.O_SYMLINK,(function(t,i){t?o&&o(t):e.futimes(i,n,r,(function(t){e.close(i,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,r){var o,s=e.openSync(t,i.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,r),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):e.futimes&&(e.lutimes=function(e,t,n,i){i&&process.nextTick(i)},e.lutimesSync=function(){})}(e),e.chown=r(e.chown),e.fchown=r(e.fchown),e.lchown=r(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,i){i&&process.nextTick(i)},e.lchownSync=function(){}),"win32"===s&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,i,r){var o=Date.now(),s=0;t(n,i,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(i,(function(e,o){e&&"ENOENT"===e.code?t(n,i,a):r(c)}))}),s),void(s<100&&(s+=10));r&&r(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,i,r,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,d,h){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,i,r,o,s,c);a.apply(this,arguments)}}return t.call(e,n,i,r,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(l=e.readSync,function(t,n,i,r,o){for(var s=0;;)try{return l.call(e,t,n,i,r,o)}catch(e){if("EAGAIN"===e.code&&s<10){s++;continue}throw e}})}},2001:e=>{"use strict";const t=Object.prototype.hasOwnProperty;e.exports=(e,n)=>t.call(e,n)},370:(e,t,n)=>{let i;try{i=n(85)}catch(e){i=n(7147)}const r=n(5725),{stringify:o,stripBom:s}=n(1120),a={readFile:r.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||i,o=!("throws"in t)||t.throws;let a,c=await r.fromCallback(n.readFile)(e,t);c=s(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||i,r=!("throws"in t)||t.throws;try{let i=n.readFileSync(e,t);return i=s(i),JSON.parse(i,t.reviver)}catch(t){if(r)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:r.fromPromise((async function(e,t,n={}){const s=n.fs||i,a=o(t,n);await r.fromCallback(s.writeFile)(e,a,n)})),writeFileSync:function(e,t,n={}){const r=n.fs||i,s=o(t,n);return r.writeFileSync(e,s,n)}};e.exports=a},1120:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:i=null,spaces:r}={}){const o=n?t:"";return JSON.stringify(e,i,r).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},7945:(e,t,n)=>{"use strict";function i(e){var t=function(){};return t.prototype=e,new t}function r(e){var t=arguments.length,n=void 0,i=void 0;for(n=1;n<t;n++)for(i in arguments[n])e[i]=arguments[n][i];return e}function o(e,t){var n=arguments.length,o=void 0;for(e.prototype=i(t.prototype),e.prototype.constructor=e,o=2;o<n;o++)r(e.prototype,arguments[o]);return e}n.r(t),n.d(t,{Kefir:()=>zn,Observable:()=>b,Pool:()=>an,Property:()=>C,Stream:()=>S,combine:()=>le,concat:()=>sn,constant:()=>H,constantError:()=>z,default:()=>Gn,dissableDeprecationWarnings:()=>Hn,fromCallback:()=>j,fromESObservable:()=>oe,fromEvents:()=>W,fromNodeCallback:()=>q,fromPoll:()=>P,fromPromise:()=>te,interval:()=>T,later:()=>_,merge:()=>nn,never:()=>w,pool:()=>Wn,repeat:()=>on,sequentially:()=>R,staticLand:()=>he,stream:()=>L,withInterval:()=>N,zip:()=>Qt}),e=n.hmd(e);var s=["<nothing>"],a="end",c="value",u="error",l="any";function d(e,t){var n=void 0,i=void 0,r=void 0,o=void 0;if(0===e.length)return t;if(0===t.length)return e;for(o=0,n=new Array(e.length+t.length),i=e.length,r=0;r<i;r++,o++)n[o]=e[r];for(i=t.length,r=0;r<i;r++,o++)n[o]=t[r];return n}function h(e,t){var n=e.length,i=void 0;for(i=0;i<n;i++)if(e[i]===t)return i;return-1}function p(e,t){var n=e.length,i=void 0;for(i=0;i<n;i++)if(t(e[i]))return i;return-1}function f(e){var t=e.length,n=new Array(t),i=void 0;for(i=0;i<t;i++)n[i]=e[i];return n}function g(e,t){var n=e.length,i=void 0,r=void 0,o=void 0;if(t>=0&&t<n){if(1===n)return[];for(i=new Array(n-1),r=0,o=0;r<n;r++)r!==t&&(i[o]=e[r],o++);return i}return e}function m(e,t){var n=e.length,i=new Array(n),r=void 0;for(r=0;r<n;r++)i[r]=t(e[r]);return i}function y(e,t,n){e===l?t(n):e===n.type&&(e===c||e===u?t(n.value):t())}function v(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function b(){this._dispatcher=new v,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function S(){b.call(this)}function C(){b.call(this),this._currentEvent=null}r(v.prototype,{add:function(e,t){return this._items=d(this._items,[{type:e,fn:t}]),this._items.length},remove:function(e,t){var n=p(this._items,(function(n){return n.type===e&&n.fn===t}));return 0!==this._inLoop&&-1!==n&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=g(this._items,n),this._items.length},addSpy:function(e){return this._spies=d(this._spies,[e]),this._spies.length},removeSpy:function(e){return this._spies=g(this._spies,this._spies.indexOf(e)),this._spies.length},dispatch:function(e){this._inLoop++;for(var t=0,n=this._spies;null!==this._spies&&t<n.length;t++)n[t](e);for(var i=0,r=this._items;i<r.length&&null!==this._items;i++)null!==this._removedItems&&-1!==h(this._removedItems,r[i])||y(r[i].type,r[i].fn,e);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),r(b.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(e){this._active!==e&&(this._active=e,e?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(e,t){switch(e){case c:return this._emitValue(t);case u:return this._emitError(t);case a:return this._emitEnd()}},_emitValue:function(e){this._alive&&this._dispatcher.dispatch({type:c,value:e})},_emitError:function(e){this._alive&&this._dispatcher.dispatch({type:u,value:e})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:a}),this._clear())},_on:function(e,t){return this._alive?(this._dispatcher.add(e,t),this._setActive(!0)):y(e,t,{type:a}),this},_off:function(e,t){return this._alive&&0===this._dispatcher.remove(e,t)&&this._setActive(!1),this},onValue:function(e){return this._on(c,e)},onError:function(e){return this._on(u,e)},onEnd:function(e){return this._on(a,e)},onAny:function(e){return this._on(l,e)},offValue:function(e){return this._off(c,e)},offError:function(e){return this._off(u,e)},offEnd:function(e){return this._off(a,e)},offAny:function(e){return this._off(l,e)},observe:function(e,t,n){var i=this,r=!1,o=e&&"function"!=typeof e?e:{value:e,error:t,end:n},s=function(e){e.type===a&&(r=!0),e.type===c&&o.value?o.value(e.value):e.type===u&&o.error?o.error(e.value):e.type===a&&o.end&&o.end(e.value)};return this.onAny(s),{unsubscribe:function(){r||(i.offAny(s),r=!0)},get closed(){return r}}},_ofSameType:function(e,t){return e.prototype.getType()===this.getType()?e:t},setName:function(e,t){return this._name=t?e._name+"."+t:e,this},log:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=void 0,n=function(n){var i="<"+n.type+(t?":current":"")+">";n.type===a?console.log(e,i):console.log(e,i,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:e,handler:n})),t=!0,this.onAny(n),t=!1,this},offLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._logHandlers){var t=p(this._logHandlers,(function(t){return t.name===e}));-1!==t&&(this.offAny(this._logHandlers[t].handler),this._logHandlers.splice(t,1))}return this},spy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString(),t=function(t){var n="<"+t.type+">";t.type===a?console.log(e,n):console.log(e,n,t.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:e,handler:t}),this._dispatcher.addSpy(t)),this},offSpy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.toString();if(this._spyHandlers){var t=p(this._spyHandlers,(function(t){return t.name===e}));-1!==t&&(this._dispatcher.removeSpy(this._spyHandlers[t].handler),this._spyHandlers.splice(t,1))}return this}}),b.prototype.toString=function(){return"["+this._name+"]"},o(S,b,{_name:"stream",getType:function(){return"stream"}}),o(C,b,{_name:"property",_emitValue:function(e){this._alive&&(this._currentEvent={type:c,value:e},this._activating||this._dispatcher.dispatch({type:c,value:e}))},_emitError:function(e){this._alive&&(this._currentEvent={type:u,value:e},this._activating||this._dispatcher.dispatch({type:u,value:e}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:a}),this._clear())},_on:function(e,t){return this._alive&&(this._dispatcher.add(e,t),this._setActive(!0)),null!==this._currentEvent&&y(e,t,this._currentEvent),this._alive||y(e,t,{type:a}),this},getType:function(){return"property"}});var D=new S;function w(){return D}function E(e){function t(e,t){var n=this;S.call(this),this._wait=e,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(t)}return o(t,S,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){S.prototype._clear.call(this),this._$onTick=null,this._free()}},e),t}D._emitEnd(),D._name="never";var x=E({_name:"later",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});function _(e,t){return new x(e,{x:t})}var k=E({_name:"interval",_init:function(e){var t=e.x;this._x=t},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});function T(e,t){return new k(e,{x:t})}var F=E({_name:"sequentially",_init:function(e){var t=e.xs;this._xs=f(t)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});function R(e,t){return 0===t.length?w():new F(e,{xs:t})}var A=E({_name:"fromPoll",_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_onTick:function(){var e=this._fn;this._emitValue(e())}});function P(e,t){return new A(e,{fn:t})}function O(e){function t(t){return e._emitValue(t),e._active}function n(t){return e._emit(t.type,t.value),e._active}return{value:t,error:function(t){return e._emitError(t),e._active},end:function(){return e._emitEnd(),e._active},event:n,emit:t,emitEvent:n}}var I=E({_name:"withInterval",_init:function(e){var t=e.fn;this._fn=t,this._emitter=O(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){(0,this._fn)(this._emitter)}});function N(e,t){return new I(e,{fn:t})}function M(e){S.call(this),this._fn=e,this._unsubscribe=null}function L(e){return new M(e)}function j(e){var t=!1;return L((function(n){t||(e((function(e){n.emit(e),n.end()})),t=!0)})).setName("fromCallback")}function q(e){var t=!1;return L((function(n){t||(e((function(e,t){e?n.error(e):n.emit(t),n.end()})),t=!0)})).setName("fromNodeCallback")}function B(e,t){switch(t){case 0:return function(){return e()};case 1:return function(t){return e(t[0])};case 2:return function(t){return e(t[0],t[1])};case 3:return function(t){return e(t[0],t[1],t[2])};case 4:return function(t){return e(t[0],t[1],t[2],t[3])};default:return function(t){return e.apply(null,t)}}}function U(e,t,n){var i=n?n.length:0;if(null!=t)return 0===i?e.call(t):e.apply(t,n);switch(i){case 0:return e();case 1:return e(n[0]);case 2:return e(n[0],n[1]);case 3:return e(n[0],n[1],n[2]);case 4:return e(n[0],n[1],n[2],n[3]);default:return e.apply(null,n)}}o(M,S,{_name:"stream",_onActivation:function(){var e=(0,this._fn)(O(this));this._unsubscribe="function"==typeof e?e:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){S.prototype._clear.call(this),this._fn=null}});var $=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function W(e,t,n){for(var i=void 0,r=void 0,o=0;o<$.length;o++)if("function"==typeof e[$[o][0]]&&"function"==typeof e[$[o][1]]){i=$[o][0],r=$[o][1];break}if(void 0===i)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return function(e,t,n){return L((function(i){var r=n?function(){i.emit(U(n,this,arguments))}:function(e){i.emit(e)};return e(r),function(){return t(r)}})).setName("fromSubUnsub")}((function(n){return e[i](t,n)}),(function(n){return e[r](t,n)}),n).setName("fromEvents")}function K(e){this._currentEvent={type:"value",value:e,current:!0}}function H(e){return new K(e)}function V(e){this._currentEvent={type:"error",value:e,current:!0}}function z(e){return new V(e)}function G(e,t){return function(n,i){var r=this;e.call(this),this._source=n,this._name=n._name+"."+t,this._init(i),this._$handleAny=function(e){return r._handleAny(e)}}}function J(e){return{_init:function(){},_free:function(){},_handleValue:function(e){this._emitValue(e)},_handleError:function(e){this._emitError(e)},_handleEnd:function(){this._emitEnd()},_handleAny:function(e){switch(e.type){case c:return this._handleValue(e.value);case u:return this._handleError(e.value);case a:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){e.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function X(e,t){var n=G(S,e);return o(n,S,J(S),t),n}function Y(e,t){var n=G(C,e);return o(n,C,J(C),t),n}o(K,C,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),o(V,C,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var Q=Y("toProperty",{_init:function(e){var t=e.fn;this._getInitialCurrent=t},_onActivation:function(){if(null!==this._getInitialCurrent){var e=this._getInitialCurrent;this._emitValue(e())}this._source.onAny(this._$handleAny)}});function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==t&&"function"!=typeof t)throw new Error("You should call toProperty() with a function or no arguments.");return new Q(e,{fn:t})}var ee=X("changes",{_handleValue:function(e){this._activating||this._emitValue(e)},_handleError:function(e){this._activating||this._emitError(e)}});function te(e){var t=!1,n=L((function(n){if(!t){var i=e.then((function(e){n.emit(e),n.end()}),(function(e){n.error(e),n.end()}));i&&"function"==typeof i.done&&i.done(),t=!0}}));return Z(n,null).setName("fromPromise")}function ne(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var ie=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e),re=ie.default?ie.default:ie;function oe(e){var t=e[re]?e[re]():e;return L((function(e){var n=t.subscribe({error:function(t){e.error(t),e.end()},next:function(t){e.emit(t)},complete:function(){e.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n})).setName("fromESObservable")}function se(e){this._observable=e.takeErrors(1)}function ae(){return new se(this)}function ce(e,t,n){for(var i in e)e.hasOwnProperty(i)&&(t.push(i),n.push(e[i]))}function ue(e,t,n){var i=this;S.call(this),this._activeCount=e.length,this._sources=d(e,t),this._combinator=n,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),function(e,t){var n=e.length,i=void 0;for(i=0;i<n;i++)e[i]=t}(this._latestValues,s),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var r=function(e){i._$handlers.push((function(t){return i._handleAny(e,t)}))},o=0;o<this._sources.length;o++)r(o)}function le(e,t,n){return"function"==typeof t&&(n=t,t=void 0),Array.isArray(e)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");return n=n?B(n,e.length+t.length):function(e){return e},0===e.length?w():new ue(e,t,n)}(e,t,n):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if("object"!=typeof t||Array.isArray(t))throw new Error("Combine can only combine active and passive collections of the same type.");var i=[],r=[],o=[];ce(e,i,r),ce(t,i,o);var s=function(e){for(var t={},r=e.length-1;0<=r;r--)t[i[r]]=e[r];return n?n(t):t};return 0===r.length?w():new ue(r,o,s)}(e,t,n)}r(se.prototype,{subscribe:function(e,t,n){var i=this,r="function"==typeof e?{next:e,error:t,complete:n}:e,o=function(e){e.type===a&&(s=!0),e.type===c&&r.next?r.next(e.value):e.type===u&&r.error?r.error(e.value):e.type===a&&r.complete&&r.complete(e.value)};this._observable.onAny(o);var s=!1;return{unsubscribe:function(){s=!0,i._observable.offAny(o)},get closed(){return s}}}}),se.prototype[re]=function(){return this},o(ue,S,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var e=this._activeCount;e<this._sources.length;e++)this._sources[e].onAny(this._$handlers[e]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var e=this._sources.length,t=void 0;for(t=0;t<e;t++)this._sources[t].offAny(this._$handlers[t])},_emitIfFull:function(){for(var e=!0,t=!1,n=this._latestValues.length,i=new Array(n),r=new Array(n),o=0;o<n;o++)i[o]=this._latestValues[o],r[o]=this._latestErrors[o],i[o]===s&&(e=!1),void 0!==r[o]&&(t=!0);if(e){var a=this._combinator;this._emitValue(a(i))}t&&this._emitError(function(e){for(var t=void 0,n=0;n<e.length;n++)void 0!==e[n]&&(void 0===t||t.index<e[n].index)&&(t=e[n]);return t.error}(r))},_handleAny:function(e,t){t.type===c||t.type===u?(t.type===c&&(this._latestValues[e]=t.value,this._latestErrors[e]=void 0),t.type===u&&(this._latestValues[e]=s,this._latestErrors[e]={index:this._latestErrorIndex++,error:t.value}),e<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):e<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){S.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var de={empty:function(){return w()},concat:function(e,t){return e.merge(t)},of:function(e){return H(e)},map:function(e,t){return t.map(e)},bimap:function(e,t,n){return n.mapErrors(e).map(t)},ap:function(e,t){return le([e,t],(function(e,t){return e(t)}))},chain:function(e,t){return t.flatMap(e)}},he=Object.freeze({Observable:de}),pe={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;this._emitValue(t(e))}},fe=X("map",pe),ge=Y("map",pe),me=function(e){return e};function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me;return new(e._ofSameType(fe,ge))(e,{fn:t})}var ve={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)&&this._emitValue(e)}},be=X("filter",ve),Se=Y("filter",ve),Ce=function(e){return e},De={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleValue:function(e){0!==this._n&&(this._n--,this._emitValue(e),0===this._n&&this._emitEnd())}},we=X("take",De),Ee=Y("take",De),xe={_init:function(e){var t=e.n;this._n=t,t<=0&&this._emitEnd()},_handleError:function(e){0!==this._n&&(this._n--,this._emitError(e),0===this._n&&this._emitEnd())}},_e=X("takeErrors",xe),ke=Y("takeErrors",xe),Te={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){(0,this._fn)(e)?this._emitValue(e):this._emitEnd()}},Fe=X("takeWhile",Te),Re=Y("takeWhile",Te),Ae=function(e){return e},Pe={_init:function(){this._lastValue=s},_free:function(){this._lastValue=null},_handleValue:function(e){this._lastValue=e},_handleEnd:function(){this._lastValue!==s&&this._emitValue(this._lastValue),this._emitEnd()}},Oe=X("last",Pe),Ie=Y("last",Pe),Ne={_init:function(e){var t=e.n;this._n=Math.max(0,t)},_handleValue:function(e){0===this._n?this._emitValue(e):this._n--}},Me=X("skip",Ne),Le=Y("skip",Ne),je={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=this._fn;null===this._fn||t(e)||(this._fn=null),null===this._fn&&this._emitValue(e)}},qe=X("skipWhile",je),Be=Y("skipWhile",je),Ue=function(e){return e},$e={_init:function(e){var t=e.fn;this._fn=t,this._prev=s},_free:function(){this._fn=null,this._prev=null},_handleValue:function(e){var t=this._fn;this._prev!==s&&t(this._prev,e)||(this._prev=e,this._emitValue(e))}},We=X("skipDuplicates",$e),Ke=Y("skipDuplicates",$e),He=function(e,t){return e===t};function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He;return new(e._ofSameType(We,Ke))(e,{fn:t})}var ze={_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(e){if(this._prev!==s){var t=this._fn;this._emitValue(t(this._prev,e))}this._prev=e}},Ge=X("diff",ze),Je=Y("diff",ze);function Xe(e,t){return[e,t]}var Ye=Y("scan",{_init:function(e){var t=e.fn,n=e.seed;this._fn=t,this._seed=n,n!==s&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(e){var t=this._fn;null===this._currentEvent||this._currentEvent.type===u?this._emitValue(this._seed===s?e:t(this._seed,e)):this._emitValue(t(this._currentEvent.value,e))}}),Qe=X("flatten",{_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){for(var t=(0,this._fn)(e),n=0;n<t.length;n++)this._emitValue(t[n])}}),Ze=function(e){return e},et={},tt={_init:function(e){var t=this,n=e.wait;this._wait=Math.max(0,n),this._buff=[],this._$shiftBuff=function(){var e=t._buff.shift();e===et?t._emitEnd():t._emitValue(e)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._buff.push(e),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(et),setTimeout(this._$shiftBuff,this._wait))}},nt=X("delay",tt),it=Y("delay",tt),rt=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},ot={_init:function(e){var t=this,n=e.wait,i=e.leading,r=e.trailing;this._wait=Math.max(0,n),this._leading=i,this._trailing=r,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return t._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(e){if(this._activating)this._emitValue(e);else{var t=rt();0!==this._lastCallTime||this._leading||(this._lastCallTime=t);var n=this._wait-(t-this._lastCallTime);n<=0?(this._cancelTrailing(),this._lastCallTime=t,this._emitValue(e)):this._trailing&&(this._cancelTrailing(),this._trailingValue=e,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?rt():0,this._endLater&&this._emitEnd()}},st=X("throttle",ot),at=Y("throttle",ot),ct={_init:function(e){var t=this,n=e.wait,i=e.immediate;this._wait=Math.max(0,n),this._immediate=i,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return t._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(e){this._activating?this._emitValue(e):(this._lastAttempt=rt(),this._immediate&&!this._timeoutId&&this._emitValue(e),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=e))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var e=rt()-this._lastAttempt;if(e<this._wait&&e>=0)this._timeoutId=setTimeout(this._$later,this._wait-e);else{if(this._timeoutId=null,!this._immediate){var t=this._laterValue;this._laterValue=null,this._emitValue(t)}this._endLater&&this._emitEnd()}}},ut=X("debounce",ct),lt=Y("debounce",ct),dt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=this._fn;this._emitError(t(e))}},ht=X("mapErrors",dt),pt=Y("mapErrors",dt),ft=function(e){return e},gt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){(0,this._fn)(e)&&this._emitError(e)}},mt=X("filterErrors",gt),yt=Y("filterErrors",gt),vt=function(e){return e},bt={_handleValue:function(){}},St=X("ignoreValues",bt),Ct=Y("ignoreValues",bt),Dt={_handleError:function(){}},wt=X("ignoreErrors",Dt),Et=Y("ignoreErrors",Dt),xt={_handleEnd:function(){}},_t=X("ignoreEnd",xt),kt=Y("ignoreEnd",xt),Tt={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleEnd:function(){var e=this._fn;this._emitValue(e()),this._emitEnd()}},Ft=X("beforeEnd",Tt),Rt=Y("beforeEnd",Tt),At={_init:function(e){var t=e.min,n=e.max;this._max=n,this._min=t,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(e){this._buff=function(e,t,n){var i=Math.min(n,e.length+1),r=e.length-i+1,o=new Array(i),s=void 0;for(s=r;s<i;s++)o[s-r]=e[s];return o[i-1]=t,o}(this._buff,e,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},Pt=X("slidingWindow",At),Ot=Y("slidingWindow",At),It={_init:function(e){var t=e.fn,n=e.flushOnEnd;this._fn=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),(0,this._fn)(e)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Nt=X("bufferWhile",It),Mt=Y("bufferWhile",It),Lt=function(e){return e},jt={_init:function(e){var t=e.count,n=e.flushOnEnd;this._count=t,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},qt=X("bufferWithCount",jt),Bt=Y("bufferWithCount",jt),Ut={_init:function(e){var t=this,n=e.wait,i=e.count,r=e.flushOnEnd;this._wait=n,this._count=i,this._flushOnEnd=r,this._intervalId=null,this._$onTick=function(){return t._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(e){this._buff.push(e),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},$t=X("bufferWithTimeOrCount",Ut),Wt=Y("bufferWithTimeOrCount",Ut),Kt={_init:function(e){var t,n=e.transducer;this._xform=n((t=this,{"@@transducer/step":function(e,n){return t._emitValue(n),null},"@@transducer/result":function(){return t._emitEnd(),null}}))},_free:function(){this._xform=null},_handleValue:function(e){null!==this._xform["@@transducer/step"](null,e)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},Ht=X("transduce",Kt),Vt=Y("transduce",Kt),zt={_init:function(e){var t=e.fn;this._handler=t,this._emitter=O(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(e){this._handler(this._emitter,e)}},Gt=X("withHandler",zt),Jt=Y("withHandler",zt),Xt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Yt(e,t){var n=this;S.call(this),this._buffers=m(e,(function(e){return Xt(e)?f(e):[]})),this._sources=m(e,(function(e){return Xt(e)?w():e})),this._combinator=t?B(t,this._sources.length):function(e){return e},this._aliveCount=0,this._$handlers=[];for(var i=function(e){n._$handlers.push((function(t){return n._handleAny(e,t)}))},r=0;r<this._sources.length;r++)i(r)}function Qt(e,t){return 0===e.length?w():new Yt(e,t)}o(Yt,S,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var e=this._sources.length;this._aliveCount=e;for(var t=0;t<e&&this._active;t++)this._sources[t].onAny(this._$handlers[t])},_onDeactivation:function(){for(var e=0;e<this._sources.length;e++)this._sources[e].offAny(this._$handlers[e])},_emit:function(){for(var e=new Array(this._buffers.length),t=0;t<this._buffers.length;t++)e[t]=this._buffers[t].shift();var n=this._combinator;this._emitValue(n(e))},_isFull:function(){for(var e=0;e<this._buffers.length;e++)if(0===this._buffers[e].length)return!1;return!0},_handleAny:function(e,t){t.type===c&&(this._buffers[e].push(t.value),this._isFull()&&this._emit()),t.type===u&&this._emitError(t.value),t.type===a&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){S.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var Zt=function(e){return e};function en(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.queueLim,i=void 0===n?0:n,r=t.concurLim,o=void 0===r?-1:r,s=t.drop,a=void 0===s?"new":s;S.call(this),this._queueLim=i<0?-1:i,this._concurLim=o<0?-1:o,this._drop=a,this._queue=[],this._curSources=[],this._$handleSubAny=function(t){return e._handleSubAny(t)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function tn(e){en.call(this),this._addAll(e),this._initialised=!0}function nn(e){return 0===e.length?w():new tn(e)}function rn(e){var t=this;S.call(this),this._generator=e,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(e){return t._handleAny(e)}}o(en,S,{_name:"abstractPool",_add:function(e,t){t=t||Zt,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(t(e)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(t(e)):"old"===this._drop&&(this._removeOldest(),this._add(e,t))},_addAll:function(e){var t=this;!function(e,n){var i,r=e.length,o=void 0;for(o=0;o<r;o++)i=e[o],t._add(i)}(e)},_remove:function(e){-1===this._removeCur(e)&&this._removeQueue(e)},_addToQueue:function(e){this._queue=d(this._queue,[e])},_addToCur:function(e){if(this._active){if(!e._alive)return e._currentEvent&&this._emit(e._currentEvent.type,e._currentEvent.value),void(this._active&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()));this._currentlyAdding=e,e.onAny(this._$handleSubAny),this._currentlyAdding=null,e._alive?(this._curSources=d(this._curSources,[e]),this._active&&this._subToEnd(e)):0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()}else this._curSources=d(this._curSources,[e])},_subToEnd:function(e){var t=this,n=function(){return t._removeCur(e)};this._$endHandlers.push({obs:e,handler:n}),e.onEnd(n)},_subscribe:function(e){e.onAny(this._$handleSubAny),this._active&&this._subToEnd(e)},_unsubscribe:function(e){e.offAny(this._$handleSubAny);var t=p(this._$endHandlers,(function(t){return t.obs===e}));-1!==t&&(e.offEnd(this._$endHandlers[t].handler),this._$endHandlers.splice(t,1))},_handleSubAny:function(e){e.type===c?this._emitValue(e.value):e.type===u&&this._emitError(e.value)},_removeQueue:function(e){var t=h(this._queue,e);return this._queue=g(this._queue,t),t},_removeCur:function(e){this._active&&this._unsubscribe(e);var t=h(this._curSources,e);return this._curSources=g(this._curSources,t),-1!==t&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),t},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=f(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var e=0,t=this._curSources;e<t.length&&this._active;e++)this._subscribe(t[e])},_onDeactivation:function(){for(var e=0,t=this._curSources;e<t.length;e++)this._unsubscribe(t[e]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){S.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),o(tn,en,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),o(rn,S,{_name:"repeat",_handleAny:function(e){e.type===a?(this._source=null,this._getSource()):this._emit(e.type,e.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var e=this._generator;null===this._source&&this._alive&&this._active;)this._source=e(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){S.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var on=function(e){return new rn(e)};function sn(e){return on((function(t){return e.length>t&&e[t]})).setName("concat")}function an(){en.call(this)}function cn(e,t,n){var i=this;en.call(this,n),this._source=e,this._fn=t,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(e){return i._handleMain(e)}}function un(e,t){cn.call(this,e,t)}function ln(e,t){return function(n,i,r){var o=this;e.call(this),this._primary=n,this._secondary=i,this._name=n._name+"."+t,this._lastSecondary=s,this._$handleSecondaryAny=function(e){return o._handleSecondaryAny(e)},this._$handlePrimaryAny=function(e){return o._handlePrimaryAny(e)},this._init(r)}}function dn(e){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(e){this._emitValue(e)},_handlePrimaryError:function(e){this._emitError(e)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(e){this._lastSecondary=e},_handleSecondaryError:function(e){this._emitError(e)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(e){switch(e.type){case c:return this._handlePrimaryValue(e.value);case u:return this._handlePrimaryError(e.value);case a:return this._handlePrimaryEnd(e.value)}},_handleSecondaryAny:function(e){switch(e.type){case c:return this._handleSecondaryValue(e.value);case u:return this._handleSecondaryError(e.value);case a:this._handleSecondaryEnd(e.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){e.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function hn(e,t){var n=ln(S,e);return o(n,S,dn(S),t),n}function pn(e,t){var n=ln(C,e);return o(n,C,dn(C),t),n}o(an,en,{_name:"pool",plug:function(e){return this._add(e),this},unplug:function(e){return this._remove(e),this}}),o(cn,en,{_onActivation:function(){en.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){en.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(e){e.type===c&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1),e.type===u&&this._emitError(e.value),e.type===a&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){en.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),o(un,cn,{_handleMain:function(e){e.type===u&&(this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===e.value||this._add(e.value,this._fn),this._lastCurrent=e.value,this._hadNoEvSinceDeact=!1),e.type===c&&this._emitValue(e.value),e.type===a&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var fn={_handlePrimaryValue:function(e){this._lastSecondary!==s&&this._lastSecondary&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary!==s&&this._lastSecondary||this._emitEnd()}},gn=hn("filterBy",fn),mn=pn("filterBy",fn),yn=function(e,t){return t},vn={_handlePrimaryValue:function(e){this._lastSecondary!==s&&this._emitValue(e)},_handleSecondaryEnd:function(){this._lastSecondary===s&&this._emitEnd()}},bn=hn("skipUntilBy",vn),Sn=pn("skipUntilBy",vn),Cn={_handleSecondaryValue:function(){this._emitEnd()}},Dn=hn("takeUntilBy",Cn),wn=pn("takeUntilBy",Cn),En={_init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flushOnEnd,n=void 0===t||t;this._buff=[],this._flushOnEnd=n},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(e){this._buff.push(e)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},xn=hn("bufferBy",En),_n=pn("bufferBy",En),kn={_init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flushOnEnd,n=void 0===t||t,i=e.flushOnChange,r=void 0!==i&&i;this._buff=[],this._flushOnEnd=n,this._flushOnChange=r},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(e){this._buff.push(e),this._lastSecondary===s||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==s&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(e){this._flushOnChange&&!e&&this._flush(),this._lastSecondary=e}},Tn=hn("bufferWhileBy",kn),Fn=pn("bufferWhileBy",kn),Rn=function(){return!1},An=function(){return!0},Pn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleValue:function(e){var t=(0,this._fn)(e);t.convert?this._emitError(t.error):this._emitValue(e)}},On=X("valuesToErrors",Pn),In=Y("valuesToErrors",Pn),Nn=function(e){return{convert:!0,error:e}},Mn={_init:function(e){var t=e.fn;this._fn=t},_free:function(){this._fn=null},_handleError:function(e){var t=(0,this._fn)(e);t.convert?this._emitValue(t.value):this._emitError(e)}},Ln=X("errorsToValues",Mn),jn=Y("errorsToValues",Mn),qn=function(e){return{convert:!0,value:e}},Bn={_handleError:function(e){this._emitError(e),this._emitEnd()}},Un=X("endOnError",Bn),$n=Y("endOnError",Bn);b.prototype.toProperty=function(e){return Z(this,e)},b.prototype.changes=function(){return new ee(this)},b.prototype.toPromise=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne(),n=null;return new t((function(t,i){e.onAny((function(e){e.type===a&&null!==n?((n.type===c?t:i)(n.value),n=null):n=e}))}))}(this,e)},b.prototype.toESObservable=ae,b.prototype[re]=ae,b.prototype.map=function(e){return ye(this,e)},b.prototype.filter=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce;return new(e._ofSameType(be,Se))(e,{fn:t})}(this,e)},b.prototype.take=function(e){return function(e,t){return new(e._ofSameType(we,Ee))(e,{n:t})}(this,e)},b.prototype.takeErrors=function(e){return function(e,t){return new(e._ofSameType(_e,ke))(e,{n:t})}(this,e)},b.prototype.takeWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae;return new(e._ofSameType(Fe,Re))(e,{fn:t})}(this,e)},b.prototype.last=function(){return new((e=this)._ofSameType(Oe,Ie))(e);var e},b.prototype.skip=function(e){return function(e,t){return new(e._ofSameType(Me,Le))(e,{n:t})}(this,e)},b.prototype.skipWhile=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ue;return new(e._ofSameType(qe,Be))(e,{fn:t})}(this,e)},b.prototype.skipDuplicates=function(e){return Ve(this,e)},b.prototype.diff=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;return new(e._ofSameType(Ge,Je))(e,{fn:t||Xe,seed:n})}(this,e,t)},b.prototype.scan=function(e,t){return function(e,t){return new Ye(e,{fn:t,seed:arguments.length>2&&void 0!==arguments[2]?arguments[2]:s})}(this,e,t)},b.prototype.flatten=function(e){return function(e){return new Qe(e,{fn:arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ze})}(this,e)},b.prototype.delay=function(e){return function(e,t){return new(e._ofSameType(nt,it))(e,{wait:t})}(this,e)},b.prototype.throttle=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.leading,r=void 0===i||i,o=n.trailing,s=void 0===o||o;return new(e._ofSameType(st,at))(e,{wait:t,leading:r,trailing:s})}(this,e,t)},b.prototype.debounce=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).immediate,i=void 0!==n&&n;return new(e._ofSameType(ut,lt))(e,{wait:t,immediate:i})}(this,e,t)},b.prototype.mapErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft;return new(e._ofSameType(ht,pt))(e,{fn:t})}(this,e)},b.prototype.filterErrors=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt;return new(e._ofSameType(mt,yt))(e,{fn:t})}(this,e)},b.prototype.ignoreValues=function(){return new((e=this)._ofSameType(St,Ct))(e);var e},b.prototype.ignoreErrors=function(){return new((e=this)._ofSameType(wt,Et))(e);var e},b.prototype.ignoreEnd=function(){return new((e=this)._ofSameType(_t,kt))(e);var e},b.prototype.beforeEnd=function(e){return function(e,t){return new(e._ofSameType(Ft,Rt))(e,{fn:t})}(this,e)},b.prototype.slidingWindow=function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new(e._ofSameType(Pt,Ot))(e,{min:n,max:t})}(this,e,t)},b.prototype.bufferWhile=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,i=void 0===n||n;return new(e._ofSameType(Nt,Mt))(e,{fn:t||Lt,flushOnEnd:i})}(this,e,t)},b.prototype.bufferWithCount=function(e,t){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).flushOnEnd,i=void 0===n||n;return new(e._ofSameType(qt,Bt))(e,{count:t,flushOnEnd:i})}(this,e,t)},b.prototype.bufferWithTimeOrCount=function(e,t,n){return function(e,t,n){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).flushOnEnd,r=void 0===i||i;return new(e._ofSameType($t,Wt))(e,{wait:t,count:n,flushOnEnd:r})}(this,e,t,n)},b.prototype.transduce=function(e){return function(e,t){return new(e._ofSameType(Ht,Vt))(e,{transducer:t})}(this,e)},b.prototype.withHandler=function(e){return function(e,t){return new(e._ofSameType(Gt,Jt))(e,{fn:t})}(this,e)},b.prototype.thru=function(e){return e(this)},b.prototype.combine=function(e,t){return le([this,e],t)},b.prototype.zip=function(e,t){return Qt([this,e],t)},b.prototype.merge=function(e){return nn([this,e])},b.prototype.concat=function(e){return sn([this,e])};var Wn=function(){return new an};b.prototype.flatMap=function(e){return new cn(this,e).setName(this,"flatMap")},b.prototype.flatMapLatest=function(e){return new cn(this,e,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},b.prototype.flatMapFirst=function(e){return new cn(this,e,{concurLim:1}).setName(this,"flatMapFirst")},b.prototype.flatMapConcat=function(e){return new cn(this,e,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},b.prototype.flatMapConcurLimit=function(e,t){return new cn(this,e,{queueLim:-1,concurLim:t}).setName(this,"flatMapConcurLimit")},b.prototype.flatMapErrors=function(e){return new un(this,e).setName(this,"flatMapErrors")},b.prototype.filterBy=function(e){return n=e,new((t=this)._ofSameType(gn,mn))(t,n);var t,n},b.prototype.sampledBy=function(e,t){return function(e,t,n){return le([t],[e],n?function(e,t){return n(t,e)}:yn).setName(e,"sampledBy")}(this,e,t)},b.prototype.skipUntilBy=function(e){return n=e,new((t=this)._ofSameType(bn,Sn))(t,n);var t,n},b.prototype.takeUntilBy=function(e){return n=e,new((t=this)._ofSameType(Dn,wn))(t,n);var t,n},b.prototype.bufferBy=function(e,t){return function(e,t,n){return new(e._ofSameType(xn,_n))(e,t,n)}(this,e,t)},b.prototype.bufferWhileBy=function(e,t){return function(e,t,n){return new(e._ofSameType(Tn,Fn))(e,t,n)}(this,e,t)};var Kn=!0;function Hn(){Kn=!1}function Vn(e){Kn&&console&&"function"==typeof console.warn&&console.warn(e,"\nHere is an Error object for you containing the call stack:",new Error)}b.prototype.awaiting=function(e){return Vn("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),function(e,t){var n=nn([ye(e,An),ye(t,Rn)]);return(n=Z(n=Ve(n),Rn)).setName(e,"awaiting")}(this,e)},b.prototype.valuesToErrors=function(e){return Vn("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn;return new(e._ofSameType(On,In))(e,{fn:t})}(this,e)},b.prototype.errorsToValues=function(e){return Vn("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn;return new(e._ofSameType(Ln,jn))(e,{fn:t})}(this,e)},b.prototype.endOnError=function(){return Vn("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),new((e=this)._ofSameType(Un,$n))(e);var e};var zn={Observable:b,Stream:S,Property:C,never:w,later:_,interval:T,sequentially:R,fromPoll:P,withInterval:N,fromCallback:j,fromNodeCallback:q,fromEvents:W,stream:L,constant:H,constantError:z,fromPromise:te,fromESObservable:oe,combine:le,zip:Qt,merge:nn,concat:sn,Pool:an,pool:Wn,repeat:on,staticLand:he};zn.Kefir=zn;const Gn=zn},7105:(e,t,n)=>{"use strict";const i=n(8006),r=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1,g=(e,t,n)=>{const i=e[h].get(t);if(i){const t=i.value;if(m(e,t)){if(v(e,i),!e[a])return}else n&&(e[p]&&(i.value.now=Date.now()),e[d].unshiftNode(i));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},y=e=>{if(e[o]>e[r])for(let t=e[d].tail;e[o]>e[r]&&null!==t;){const n=t.prev;v(e,t),t=n}},v=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[o]-=n.length,e[h].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,i,r){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=r||0}}const S=(e,t,n,i)=>{let r=n.value;m(e,r)&&(v(e,n),e[a]||(r=void 0)),r&&t.call(i,r.value,r.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[r]=e.max||1/0;const t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||1/0,y(this)}get max(){return this[r]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,y(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),y(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const i=n.prev;S(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const i=n.next;S(this,e,n,t),n=i}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[h]=new Map,this[d]=new i,this[o]=0}dump(){return this[d].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const i=n?Date.now():0,a=this[s](t,e);if(this[h].has(e)){if(a>this[r])return v(this,this[h].get(e)),!1;const s=this[h].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=i,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),y(this),!0}const p=new b(e,t,a,i,n);return p.length>this[r]?(this[u]&&this[u](e,t),!1):(this[o]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],r=i.e||0;if(0===r)this.set(i.k,i.v);else{const e=r-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[h].forEach(((e,t)=>g(this,t,!1)))}}},7339:(e,t,n)=>{e.exports=h,h.Minimatch=p;var i=function(){try{return n(1017)}catch(e){}}()||{sep:"/"};h.sep=i.sep;var r=h.GLOBSTAR=p.GLOBSTAR={},o=n(9766),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function d(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function h(e,t,n){return g(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new p(t,n).match(e)}function p(e,t){if(!(this instanceof p))return new p(e,t);g(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===i.sep||(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof p?this.options:{}),e=void 0===e?this.pattern:e,g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}h.filter=function(e,t){return t=t||{},function(n,i,r){return h(n,e,t)}},h.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return h;var t=h,n=function(n,i,r){return t(n,i,d(e,r))};return(n.Minimatch=function(n,i){return new t.Minimatch(n,d(e,i))}).defaults=function(n){return t.defaults(d(e,n)).Minimatch},n.filter=function(n,i){return t.filter(n,d(e,i))},n.defaults=function(n){return t.defaults(d(e,n))},n.makeRe=function(n,i){return t.makeRe(n,d(e,i))},n.braceExpand=function(n,i){return t.braceExpand(n,d(e,i))},n.match=function(n,i,r){return t.match(n,i,d(e,r))},n},p.defaults=function(e){return h.defaults(e).Minimatch},p.prototype.debug=function(){},p.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var i=0,r=e.length;i<r&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},h.braceExpand=function(e,t){return f(e,t)},p.prototype.braceExpand=f;var g=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};p.prototype.parse=function(e,t){g(e);var n=this.options;if("**"===e){if(!n.noglobstar)return r;e="*"}if(""===e)return"";var i,o="",l=!!n.nocase,d=!1,h=[],p=[],f=!1,y=-1,v=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=this;function C(){if(i){switch(i){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+i}S.debug("clearStateChar %j %j",i,o),i=!1}}for(var D,w=0,E=e.length;w<E&&(D=e.charAt(w));w++)if(this.debug("%s\t%s %s %j",e,w,o,D),d&&u[D])o+="\\"+D,d=!1;else switch(D){case"/":return!1;case"\\":C(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,w,o,D),f){this.debug("  in class"),"!"===D&&w===v+1&&(D="^"),o+=D;continue}S.debug("call clearStateChar %j",i),C(),i=D,n.noext&&C();continue;case"(":if(f){o+="(";continue}if(!i){o+="\\(";continue}h.push({type:i,start:w-1,reStart:o.length,open:s[i].open,close:s[i].close}),o+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,o),i=!1;continue;case")":if(f||!h.length){o+="\\)";continue}C(),l=!0;var x=h.pop();o+=x.close,"!"===x.type&&p.push(x),x.reEnd=o.length;continue;case"|":if(f||!h.length||d){o+="\\|",d=!1;continue}C(),o+="|";continue;case"[":if(C(),f){o+="\\"+D;continue}f=!0,v=w,y=o.length,o+=D;continue;case"]":if(w===v+1||!f){o+="\\"+D,d=!1;continue}var _=e.substring(v+1,w);try{RegExp("["+_+"]")}catch(e){var k=this.parse(_,m);o=o.substr(0,y)+"\\["+k[0]+"\\]",l=l||k[1],f=!1;continue}l=!0,f=!1,o+=D;continue;default:C(),d?d=!1:!u[D]||"^"===D&&f||(o+="\\"),o+=D}for(f&&(_=e.substr(v+1),k=this.parse(_,m),o=o.substr(0,y)+"\\["+k[0],l=l||k[1]),x=h.pop();x;x=h.pop()){var T=o.slice(x.reStart+x.open.length);this.debug("setting tail",o,x),T=T.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",T,T,x,o);var F="*"===x.type?c:"?"===x.type?a:"\\"+x.type;l=!0,o=o.slice(0,x.reStart)+F+"\\("+T}C(),d&&(o+="\\\\");var R=!1;switch(o.charAt(0)){case"[":case".":case"(":R=!0}for(var A=p.length-1;A>-1;A--){var P=p[A],O=o.slice(0,P.reStart),I=o.slice(P.reStart,P.reEnd-8),N=o.slice(P.reEnd-8,P.reEnd),M=o.slice(P.reEnd);N+=M;var L=O.split("(").length-1,j=M;for(w=0;w<L;w++)j=j.replace(/\)[+*?]?/,"");var q="";""===(M=j)&&t!==m&&(q="$"),o=O+I+M+q+N}if(""!==o&&l&&(o="(?=.)"+o),R&&(o=b+o),t===m)return[o,l];if(!l)return e.replace(/\\(.)/g,"$1");var B=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",B)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=o,U};var m={};h.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===r?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,i)}catch(e){this.regexp=!1}return this.regexp},h.match=function(e,t,n){var i=new p(t,n=n||{});return e=e.filter((function(e){return i.match(e)})),i.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var r,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(r=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[r]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===r){this.debug("GLOBSTAR",[t,l,d]);var h=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!i.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},9766:(e,t,n)=>{var i=n(4114),r=n(2294);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function h(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var i=n.pre,o=n.body,s=n.post,a=i.split(",");a[a.length-1]+="{"+o+"}";var c=h(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function m(e,t){return e>=t}function y(e,t){var n=[],o=r("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),d=c||u,v=o.body.indexOf(",")>=0;if(!d&&!v)return o.post.match(/,.*\}/)?y(e=o.pre+"{"+o.body+a+o.post):[e];if(d)s=o.body.split(/\.\./);else if(1===(s=h(o.body)).length&&1===(s=y(s[0],!1).map(p)).length)return(C=o.post.length?y(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var b,S=o.pre,C=o.post.length?y(o.post,!1):[""];if(d){var D=l(s[0]),w=l(s[1]),E=Math.max(s[0].length,s[1].length),x=3==s.length?Math.abs(l(s[2])):1,_=g;w<D&&(x*=-1,_=m);var k=s.some(f);b=[];for(var T=D;_(T,w);T+=x){var F;if(u)"\\"===(F=String.fromCharCode(T))&&(F="");else if(F=String(T),k){var R=E-F.length;if(R>0){var A=new Array(R+1).join("0");F=T<0?"-"+A+F.slice(1):A+F}}b.push(F)}}else b=i(s,(function(e){return y(e,!1)}));for(var P=0;P<b.length;P++)for(var O=0;O<C.length;O++){var I=S+b[P]+C[O];(!t||d||I)&&n.push(I)}return n}},4076:e=>{"use strict";var t,n="";e.exports=function(e,i){if("string"!=typeof e)throw new TypeError("expected a string");if(1===i)return e;if(2===i)return e+e;var r=e.length*i;if(t!==e||void 0===t)t=e,n="";else if(n.length>=r)return n.substr(0,r);for(;r>n.length&&i>1;)1&i&&(n+=e),i>>=1,e+=e;return n=(n+=e).substr(0,r)}},7847:(e,t,n)=>{const i=Symbol("SemVer ANY");class r{static get ANY(){return i}constructor(e,t){if(t=o(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new d(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new d(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||u}}e.exports=r;const o=n(1388),{re:s,t:a}=n(4808),c=n(8117),u=n(952),l=n(2435),d=n(6843)},6843:(e,t,n)=>{class i{constructor(e,t){if(t=o(t),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=r.get(t);if(n)return n;const i=this.options.loose,o=i?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(o,k(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[l.COMPARATORTRIM],d),a("comparator trim",e);let c=(e=(e=(e=e.replace(u[l.TILDETRIM],h)).replace(u[l.CARETTRIM],p)).split(/\s+/).join(" ")).split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>_(e,this.options)));i&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(u[l.COMPARATORLOOSE]))))),a("range list",c);const g=new Map,m=c.map((e=>new s(e,this.options)));for(const e of m){if(f(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return r.set(t,v),v}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Range is required");return this.set.some((n=>m(n,t)&&e.set.some((e=>m(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(T(this.set[t],e,this.options))return!0;return!1}}e.exports=i;const r=new(n(7105))({max:1e3}),o=n(1388),s=n(7847),a=n(952),c=n(2435),{re:u,t:l,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=n(4808),f=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,m=(e,t)=>{let n=!0;const i=e.slice();let r=i.pop();for(;n&&i.length;)n=i.every((e=>r.intersects(e,t))),r=i.pop();return n},y=(e,t)=>(a("comp",e,t),e=C(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=w(e,t),a("xrange",e),e=x(e,t),a("stars",e),e),v=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{const n=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(n,((t,n,i,r,o)=>{let s;return a("tilde",e,t,n,i,r,o),v(n)?s="":v(i)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:v(r)?s=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${i}.${r}-${o} <${n}.${+i+1}.0-0`):s=`>=${n}.${i}.${r} <${n}.${+i+1}.0-0`,a("tilde return",s),s}))},C=(e,t)=>e.trim().split(/\s+/).map((e=>D(e,t))).join(" "),D=(e,t)=>{a("caret",e,t);const n=t.loose?u[l.CARETLOOSE]:u[l.CARET],i=t.includePrerelease?"-0":"";return e.replace(n,((t,n,r,o,s)=>{let c;return a("caret",e,t,n,r,o,s),v(n)?c="":v(r)?c=`>=${n}.0.0${i} <${+n+1}.0.0-0`:v(o)?c="0"===n?`>=${n}.${r}.0${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.0${i} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===n?"0"===r?`>=${n}.${r}.${o}-${s} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}-${s} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),c="0"===n?"0"===r?`>=${n}.${r}.${o}${i} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o} <${+n+1}.0.0-0`),a("caret return",c),c}))},w=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>E(e,t))).join(" ")),E=(e,t)=>{e=e.trim();const n=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(n,((n,i,r,o,s,c)=>{a("xRange",e,n,i,r,o,s,c);const u=v(r),l=u||v(o),d=l||v(s),h=d;return"="===i&&h&&(i=""),c=t.includePrerelease?"-0":"",u?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&h?(l&&(o=0),s=0,">"===i?(i=">=",l?(r=+r+1,o=0,s=0):(o=+o+1,s=0)):"<="===i&&(i="<",l?r=+r+1:o=+o+1),"<"===i&&(c="-0"),n=`${i+r}.${o}.${s}${c}`):l?n=`>=${r}.0.0${c} <${+r+1}.0.0-0`:d&&(n=`>=${r}.${o}.0${c} <${r}.${+o+1}.0-0`),a("xRange return",n),n}))},x=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[l.STAR],"")),_=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),k=e=>(t,n,i,r,o,s,a,c,u,l,d,h,p)=>`${n=v(i)?"":v(r)?`>=${i}.0.0${e?"-0":""}`:v(o)?`>=${i}.${r}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=v(u)?"":v(l)?`<${+u+1}.0.0-0`:v(d)?`<${u}.${+l+1}.0-0`:h?`<=${u}.${l}.${d}-${h}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),T=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},2435:(e,t,n)=>{const i=n(952),{MAX_LENGTH:r,MAX_SAFE_INTEGER:o}=n(5558),{re:s,t:a}=n(4808),c=n(1388),{compareIdentifiers:u}=n(4935);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},8117:(e,t,n)=>{const i=n(3276),r=n(7893),o=n(6379),s=n(9151),a=n(1897),c=n(506);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return i(e,n,u);case"!=":return r(e,n,u);case">":return o(e,n,u);case">=":return s(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},2271:(e,t,n)=>{const i=n(2435);e.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},3276:(e,t,n)=>{const i=n(2271);e.exports=(e,t,n)=>0===i(e,t,n)},6379:(e,t,n)=>{const i=n(2271);e.exports=(e,t,n)=>i(e,t,n)>0},9151:(e,t,n)=>{const i=n(2271);e.exports=(e,t,n)=>i(e,t,n)>=0},1897:(e,t,n)=>{const i=n(2271);e.exports=(e,t,n)=>i(e,t,n)<0},506:(e,t,n)=>{const i=n(2271);e.exports=(e,t,n)=>i(e,t,n)<=0},7893:(e,t,n)=>{const i=n(2271);e.exports=(e,t,n)=>0!==i(e,t,n)},9943:(e,t,n)=>{const{MAX_LENGTH:i}=n(5558),{re:r,t:o}=n(4808),s=n(2435),a=n(1388);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>i)return null;if(!(t.loose?r[o.LOOSE]:r[o.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},9844:(e,t,n)=>{const i=n(6843);e.exports=(e,t,n)=>{try{t=new i(t,n)}catch(e){return!1}return t.test(e)}},5558:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},952:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4935:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const i=t.test(e),r=t.test(n);return i&&r&&(e=+e,n=+n),e===n?0:i&&!r?-1:r&&!i?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},1388:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},4808:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:i}=n(5558),r=n(952),o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,n)=>{const i=c++;r(e,i,t),a[e]=i,s[i]=t,o[i]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},6695:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.registerCspellInlineCompletionProviders=void 0;const s=o(n(9496)),a=n(1750),c=o(n(2411)),u=n(1419),l=new Set(["tex","bibtex","latex","latex-expl3","jlweave","rsweave","doctex"]);t.registerCspellInlineCompletionProviders=async function(e){const t=await async function(){const e=await s.languages.getLanguages(),{value:t,byLangId:n}=function(){var e,t;const n="showAutocompleteSuggestions",i=null!==(e=(0,u.inspectConfigByScopeAndKey)(void 0,n).languageIds)&&void 0!==e?e:[],r=null!==(t=(0,u.getSettingFromVSConfig)(n,void 0))&&void 0!==t&&t,o=i.map((e=>[e,(0,u.getSettingFromVSConfig)(n,{languageId:e})]));return{value:r,byLangId:new Map(o)}}();return e.filter((e=>{var i;return null!==(i=n.get(e))&&void 0!==i?i:!l.has(e)&&t}))}();e.push(s.languages.registerCompletionItemProvider(t,d,":"),s.languages.registerCompletionItemProvider(t,d," "),s.languages.registerCompletionItemProvider(t,g," "),s.languages.registerCompletionItemProvider(t,m," "))};const d={provideCompletionItems(e,t){const n=f((0,a.getCSpellDiags)(e.uri),t,1),i=e.lineAt(t).text.substr(0,t.character);if(!/cspell:\s?$/i.test(i))return;const r={words:n.map((t=>e.getText(t.range)))};return p.map((e=>"function"==typeof e?e(r):e)).map(h)},resolveCompletionItem:e=>e};function h(e){const t=new s.CompletionItem(e.label,e.kind||s.CompletionItemKind.Text);return t.insertText=new s.SnippetString(e.insertText),t.documentation=e.description,t.sortText=e.sortText,t.commitCharacters=e.commitCharacters||[" "],t}const p=[{label:"words",insertText:"words",description:"Words to be allowed in the document",sortText:"1",kind:s.CompletionItemKind.Snippet},{label:"ignore words",insertText:"ignore",description:"Words to be ignored in the document",sortText:"2",kind:s.CompletionItemKind.Snippet},{label:"ignoreRegExp",insertText:"ignoreRegExp /${1:expression}/g",description:"Ignore text matching the regular expression."},{label:"disable-next-line",insertText:"disable-next-line",description:"Do not spell check the next line",sortText:"3"},{label:"disable-line",insertText:"disable-line",description:"Do not spell check the current line"},{label:"disable spell checker",insertText:"disable",description:"Disable spell checking from this point further."},{label:"enable spell checker",insertText:"enable",description:"Enable spell checking from this point further."},{label:"dictionaries",insertText:"dictionaries",commitCharacters:[" "],description:"Add dictionaries to be used in this document.",kind:s.CompletionItemKind.Snippet},{label:"locale",insertText:"locale ${1:en}",description:"Set the language locale to be used in this document. (i.e. fr,en)",kind:s.CompletionItemKind.Snippet},{label:"disable compound words",insertText:"disableCompoundWords",description:"Turn OFF Allow Compound Words."},{label:"enable compound words",insertText:"enableCompoundWords",description:"Turn ON Allow Compound Words."}];function f(e,t,n){function i(e){const n=e.range.start;return 1e3*Math.abs(n.line-t.line)+n.character}return[...e].sort(((e,t)=>i(e)-i(t))).slice(0,n)}const g={async provideCompletionItems(e,t){const n=e.lineAt(t).text.substr(0,t.character);if(!/cspell:\s*dictionaries/i.test(n))return;const i=await c.get("client").getConfigurationForDocument(e),r=i.docSettings||i.settings;if(!r)return;const o=new Set(r.dictionaries||[]);return(r.dictionaryDefinitions||[]).map((e=>e.name)).filter((e=>!!e)).filter((e=>!o.has(e))).map((e=>new s.CompletionItem(e,s.CompletionItemKind.Text))).map((e=>(e.commitCharacters=[" "],e)))},resolveCompletionItem:e=>e},m={provideCompletionItems(e,t){const n=e.lineAt(t),i=n.text.substr(0,t.character);if(!/cspell:\s*(words|ignore)/i.test(i))return;const r=new Set(n.text.split(/[\s:.]/)),o=f((0,a.getCSpellDiags)(e.uri).filter((t=>!r.has(e.getText(t.range)))),t,10);return o.length?[...new Set(o.map((t=>e.getText(t.range))))].sort().map((e=>new s.CompletionItem(e,s.CompletionItemKind.Text))).map((e=>(e.commitCharacters=[" "],e))):void 0},resolveCompletionItem:e=>e}},3320:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Resolvable=t.ResolutionState=void 0;const r=i(n(9491));var o;!function(e){e[e.pending=0]="pending",e[e.resolved=1]="resolved",e[e.rejected=2]="rejected"}(o=t.ResolutionState||(t.ResolutionState={})),t.Resolvable=class{constructor(){this.resolutionState=o.pending,this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,(0,r.default)(void 0===this.resolution,"Already Resolved")}))}resolve(e){var t;(0,r.default)(void 0===this.resolution,"Already Resolved"),this.resolution={value:e},null===(t=this._resolve)||void 0===t||t.call(this,e),this.resolutionState=o.resolved}reject(e){var t;(0,r.default)(void 0===this.resolution,"Already Resolved"),this.resolution={reject:e},null===(t=this._reject)||void 0===t||t.call(this,e),this.resolutionState=o.rejected}isPending(){return this.resolutionState===o.pending}isResolved(){return this.resolutionState===o.resolved}isRejected(){return this.resolutionState===o.rejected}}},1287:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CSpellClient=void 0;const s=n(4561),a=n(9496),c=o(n(165)),u=n(165),l=n(6742),d=o(n(2979)),h=n(2979),p=o(n(2187)),f=n(7053),g=n(8422),m=n(8051),y=n(3320),v=n(6997),b=["--nolazy","--inspect=60048"],S=l.diagnosticSource;class C{constructor(e,t){this.import=new Set,this.disposables=new Set,this.broadcasterOnSpellCheckDocument=(0,f.createBroadcaster)(),this.ready=new y.Resolvable,this.getConfigurationForDocument=this.factoryGetConfigurationForDocument(),this.cacheGetConfigurationForDocument=new Map;const n=e.asAbsolutePath("packages/_server/dist/main.js"),i=d.getScopedSettingFromVSConfig("enabledLanguageIds",d.Scopes.Workspace);this.allowedSchemas=new Set(d.getScopedSettingFromVSConfig("allowedSchemas",d.Scopes.Workspace)||s.supportedSchemes),s.setOfSupportedSchemes.clear(),this.allowedSchemas.forEach((e=>s.setOfSupportedSchemes.add(e))),this.languageIds=new Set(t.concat(i||[]).concat(p.languageIds));const r=[...this.languageIds],o={documentSelector:[...this.allowedSchemas].map((e=>r.map((t=>({language:t,scheme:e}))))).reduce(((e,t)=>e.concat(t))),diagnosticCollectionName:S,synchronize:{configurationSection:[h.sectionCSpell,"search"]},middleware:{handleDiagnostics(e,t,n){n(e,t)}}},a=this.calcServerArgs(),c={execArgv:a},l={execArgv:[...a,...b]},g={run:{module:n,transport:u.TransportKind.ipc,options:c},debug:{module:n,transport:u.TransportKind.ipc,options:l}};this.client=new u.LanguageClient("cspell","Code Spell Checker",g,o),this.client.registerProposedFeatures(),this.serverApi=(0,v.createServerApi)(this.client),this.initWhenReady()}start(){return this.ready.isPending()&&this.ready.resolve(this.client.start()),this.ready.promise}async isSpellCheckEnabled(e){const{uri:t,languageId:n=""}=e;if(!t||!n)return{uri:t};const i=await this.serverApi.isSpellCheckEnabled({uri:t.toString(),languageId:n});return Object.assign(Object.assign({},i),{uri:t})}async _getConfigurationForDocument(e){const{uri:t,languageId:n}=e||{},i=w(t);return t?this.serverApi.getConfigurationForDocument({uri:t.toString(),languageId:n,workspaceConfig:i}):this.serverApi.getConfigurationForDocument({workspaceConfig:i})}factoryGetConfigurationForDocument(){return e=>{var t;const n=null===(t=null==e?void 0:e.uri)||void 0===t?void 0:t.toString(),i=this.cacheGetConfigurationForDocument.get(n);if(i)return i;const r=this._getConfigurationForDocument(e);return this.cacheGetConfigurationForDocument.set(n,r),setTimeout((()=>this.cacheGetConfigurationForDocument.delete(n)),2e3),r}}notifySettingsChanged(){return this.cacheGetConfigurationForDocument.clear(),setTimeout((()=>this.cacheGetConfigurationForDocument.clear()),250),(0,m.silenceErrors)(this.whenReady((()=>this.serverApi.notifyConfigChange())),"notifySettingsChanged")}registerConfiguration(e){return(0,m.logErrors)(this.whenReady((()=>this.serverApi.registerConfigurationFile(e))),"registerConfiguration")}get diagnostics(){return this.client&&this.client.diagnostics||void 0}triggerSettingsRefresh(){return this.notifySettingsChanged()}async whenReady(e){return await this.onReady(),e()}onReady(){return this.ready.promise}static create(e){return Promise.resolve(a.languages.getLanguages().then((t=>new C(e,t))))}registerDisposable(...e){for(const t of e)this.disposables.add(t)}dispose(){this.client.stop();const e=[...this.disposables];this.disposables.clear(),a.Disposable.from(...e).dispose()}calcServerArgs(){return[]}onSpellCheckDocumentNotification(e){return this.broadcasterOnSpellCheckDocument.listen(e)}async requestSpellingSuggestions(e,t,n){const i={textDocument:c.TextDocumentIdentifier.create(e.uri.toString()),range:F(t),context:c.CodeActionContext.create(n.map(T))},r=await(0,v.requestCodeAction)(this.client,i);return r?r.filter(x).map(_):[]}async initWhenReady(){await this.onReady(),this.registerHandleNotificationsFromServer(),this.registerHandleOnWorkspaceConfigForDocumentRequest()}registerHandleOnWorkspaceConfigForDocumentRequest(){this.registerDisposable(this.serverApi.onWorkspaceConfigForDocumentRequest(D))}registerHandleNotificationsFromServer(){this.registerDisposable(this.serverApi.onSpellCheckDocument((e=>this.broadcasterOnSpellCheckDocument.send(e))))}}function D(e){const{uri:t}=e;return w(a.Uri.parse(t))}function w(e){var t,n;const i=(0,g.findConicalDocumentScope)(e),r=(0,h.inspectConfigKeys)(i,["words","userWords","ignoreWords"]),o=null===(t=a.workspace.workspaceFile)||void 0===t?void 0:t.toString(),s=i&&(null===(n=a.workspace.getWorkspaceFolder(i))||void 0===n?void 0:n.uri.toString()),c=void 0!==o,u=E(r.userWords,c),l=E(r.words,c),d=E(r.ignoreWords,c);return l.user=u.user,{uri:null==e?void 0:e.toString(),workspaceFile:o,workspaceFolder:s,words:l,ignoreWords:d}}function E(e,t){if(!e)return{};const{globalValue:n,workspaceValue:i,workspaceFolderValue:r}=e;return{user:void 0!==n||void 0,workspace:void 0!==i||void 0,folder:t&&(void 0!==r||void 0)}}function x(e){return c.CodeAction.is(e)}function _(e){const t=void 0!==e.kind&&a.CodeActionKind.Empty.append(e.kind)||void 0,n=new a.CodeAction(e.title,t);return n.command=e.command&&e.command,n}t.CSpellClient=C;const k={[a.DiagnosticSeverity.Error]:c.DiagnosticSeverity.Error,[a.DiagnosticSeverity.Warning]:c.DiagnosticSeverity.Warning,[a.DiagnosticSeverity.Information]:c.DiagnosticSeverity.Information,[a.DiagnosticSeverity.Hint]:c.DiagnosticSeverity.Hint};function T(e){return c.Diagnostic.create(F(e.range),e.message,k[e.severity],void 0,e.source)}function F(e){const{start:t,end:n}=e;return c.Range.create(R(t),R(n))}function R(e){const{line:t,character:n}=e;return c.Position.create(t,n)}},9540:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeLocale=void 0,r(n(1287),t);var o=n(6997);Object.defineProperty(t,"normalizeLocale",{enumerable:!0,get:function(){return o.normalizeLocale}})},6997:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5972),t),r(n(607),t)},5972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServerApi=t.requestCodeAction=void 0;const i=n(165);t.requestCodeAction=async function(e,t){const n=i.CodeActionRequest.type;return await e.sendRequest(n,t)},t.createServerApi=function(e){async function t(t,n){const r=new i.RequestType(t);return await e.sendRequest(r,n)}function n(t,...n){e.sendNotification(t,n)}return{isSpellCheckEnabled:e=>t("isSpellCheckEnabled",e),getConfigurationForDocument:e=>t("getConfigurationForDocument",e),splitTextIntoWords:e=>t("splitTextIntoWords",e),spellingSuggestions:e=>t("spellingSuggestions",e),notifyConfigChange:(...e)=>n("notifyConfigChange",...e),registerConfigurationFile:(...e)=>n("registerConfigurationFile",...e),onSpellCheckDocument:t=>function(t,n){const r=new i.NotificationType("onSpellCheckDocument");return e.onNotification(r,n)}(0,t),onWorkspaceConfigForDocumentRequest:t=>function(t,n){const r=new i.RequestType("onWorkspaceConfigForDocumentRequest");return e.onRequest(r,n)}(0,t)}}},607:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeToLocales=t.normalizeLocale=t.extractScope=t.extractCustomDictionaries=t.extractActiveDictionaries=t.extractDictionariesGroupByName=t.extractDictionariesByLocaleLanguageSettings=t.extractDictionariesByLocale=t.extractLocalesFromLanguageSettings=t.extractLocales=t.extractLanguage=void 0;const s=n(9841),a=o(n(9759)),c=n(9759);function u(e=[]){return g(e.map((e=>e.locale||e.local||"")).map(f).join(","))}function l(e=[]){const t=new Map;return e.map((({local:e,locale:t,dictionaries:n=[]})=>({locale:f(t||e),dictionaries:n}))).filter((e=>!!e.locale)).filter((e=>e.dictionaries.length>0)).forEach((e=>{e.locale.split(",").forEach((n=>{t.set(n,(t.get(n)||[]).concat(e.dictionaries).filter(a.uniqueFilter()))}))})),t}function d(e){var t;return new Map((null===(t=e.dictionaryDefinitions)||void 0===t?void 0:t.map((e=>[e.name,e])))||[])}function h(e){const t=d(e);return(e.dictionaries||[]).map((e=>t.get(e))).filter(c.isDefined)}function p(e){var t;return null!==(t=e.addWords)&&void 0!==t&&t}function f(e=""){return Array.isArray(e)&&(e=e.join(",")),g(e).join(",")}function g(e=""){return e.replace(/[|;\s]/g,",").replace(/[*]/g,"").split(",").map(s.normalizeCode).map((e=>e.trim())).filter((e=>!!e)).filter(a.uniqueFilter())}t.extractLanguage=function(e){return e&&e.language&&g(e.language)||void 0},t.extractLocales=function(e={}){return u(e.languageSettings)},t.extractLocalesFromLanguageSettings=u,t.extractDictionariesByLocale=function(e={}){return l(e.languageSettings)},t.extractDictionariesByLocaleLanguageSettings=l,t.extractDictionariesGroupByName=d,t.extractActiveDictionaries=h,t.extractCustomDictionaries=function(e){return h(e).filter(p).filter((e=>e.addWords))},t.extractScope=function(e){return new Set("string"==typeof e.scope?[e.scope]:e.scope||[])},t.normalizeLocale=f,t.normalizeToLocales=g},8768:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.disableCurrentLanguage=t.enableCurrentLanguage=t.enableDisableLocaleLegacy=t.enableDisableLocale=t.enableDisableLanguageId=t.disableLanguageIdCmd=t.enableLanguageIdCmd=t.addWordToUserDictionary=t.addWordToWorkspaceDictionary=t.registerCommands=void 0;const s=n(9496),a=o(n(2411)),c=n(1750),u=n(3735),l=o(n(2979)),d=n(2979),h=n(5026),p=n(5023),f=n(5076),g=n(8506),m=n(3047),y=n(94),v=n(6225),b=n(8051),S=n(5294),C=n(8781),D=n(2511),w=n(7469),E={"cSpell.addWordsToConfigFileFromServer":(e,t,n)=>W(e,(0,h.createCSpellConfigRepository)((0,D.toUri)(n.uri),n.name)),"cSpell.addWordsToDictionaryFileFromServer":(e,t,n)=>function(e,t){return(0,b.handleErrors)(a.get("dictionaryHelper").addWordToDictionary(e,t),"addWordsToDictionaryTarget")}(e,(0,m.createDictionaryTargetForFile)((0,D.toUri)(n.uri),n.name)),"cSpell.addWordsToVSCodeSettingsFromServer":(e,t,n)=>{const i=(0,v.dictionaryScopeToConfigurationTarget)(n);return W(e,(0,h.createVSCodeConfigRepository)(i,(0,D.toUri)(t),!1))}},x=function(e,t){return async function(){var n,i;const r=null===(n=s.window.activeTextEditor)||void 0===n?void 0:n.document,o=null===(i=s.window.activeTextEditor)||void 0===i?void 0:i.selection,a=o&&(null==r?void 0:r.getWordRangeAtPosition(o.active)),u=r?(0,c.getCSpellDiags)(r.uri):void 0,l=(0,g.normalizeWords)((0,c.extractMatchingDiagTexts)(r,o,u)||[]);if(l.length){const n=(null==o?void 0:o.anchor.isEqual(o.active))&&1===l.length?l:await se(l.sort(oe),{title:e,placeHolder:"Choose words"});if(!n)return;return t(n.join(" "),null==r?void 0:r.uri)}if(!(a&&o&&r&&r.getText(a))){const n=await s.window.showInputBox({title:e,prompt:e});if(!n)return;return t(n,null==r?void 0:r.uri)}const d=o.contains(a)?r.getText(o):r.getText(a),h=(0,g.normalizeWords)(d),p=h.length>1?await se(h.sort(oe),{title:e,placeHolder:"Choose words"}):[await s.window.showInputBox({title:e,prompt:e,value:h[0]})];if(p)return t(p.join(" "),null==r?void 0:r.uri)}},_=(e,t=!1)=>ne(e,void 0,void 0,t),k=x("Add Words to Folder Dictionary",(function(e,t){return z(e,f.dictionaryTargetBestMatchesFolder,t)})),T=x("Add Words to Workspace Dictionaries",H),F=x("Add Words to User Dictionary",V),R=x("Add Words to Folder Settings",ue(z,f.dictionaryTargetBestMatchesVSCodeFolder)),A=x("Add Words to Workspace Settings",ue(z,f.dictionaryTargetBestMatchesVSCodeWorkspace)),P=x("Add Words to User Settings",ue(z,f.dictionaryTargetBestMatchesVSCodeUser)),O=x("Remove Words from Folder Dictionary",(function(e,t){return J(e,d.ConfigurationTarget.WorkspaceFolder,t)})),I=x("Remove Words from Workspace Dictionaries",(function(e,t){return J(e,d.ConfigurationTarget.Workspace,t)})),N=x("Remove Words from Global Dictionary",(function(e){return J(e,d.ConfigurationTarget.Global,void 0)})),M=x("Ignore Words",ue(G,void 0)),L=x("Ignore Words in Folder Settings",ue(G,d.ConfigurationTarget.WorkspaceFolder)),j=x("Ignore Words in Workspace Settings",ue(G,d.ConfigurationTarget.Workspace)),q=x("Ignore Words in User Settings",ue(G,d.ConfigurationTarget.Global)),B=x("Add Words to cSpell Configuration",ue(z,f.dictionaryTargetBestMatchesCSpell)),U={"cSpell.addWordToDictionary":x("Add Words to Dictionary",ue(z,f.dictionaryTargetBestMatches)),"cSpell.addWordToFolderDictionary":k,"cSpell.addWordToWorkspaceDictionary":T,"cSpell.addWordToUserDictionary":F,"cSpell.addWordToFolderSettings":R,"cSpell.addWordToWorkspaceSettings":A,"cSpell.addWordToUserSettings":P,"cSpell.removeWordFromFolderDictionary":O,"cSpell.removeWordFromWorkspaceDictionary":I,"cSpell.removeWordFromUserDictionary":N,"cSpell.addIgnoreWord":M,"cSpell.addIgnoreWordsToFolder":L,"cSpell.addIgnoreWordsToWorkspace":j,"cSpell.addIgnoreWordsToUser":q,"cSpell.suggestSpellingCorrections":ce,"cSpell.goToNextSpellingIssue":()=>le("next",!1),"cSpell.goToPreviousSpellingIssue":()=>le("previous",!1),"cSpell.goToNextSpellingIssueAndSuggest":()=>le("next",!0),"cSpell.goToPreviousSpellingIssueAndSuggest":()=>le("previous",!0),"cSpell.enableLanguage":X,"cSpell.disableLanguage":Y,"cSpell.enableForGlobal":async()=>(0,d.setEnableSpellChecking)(await _(d.ConfigurationTarget.Global),!0),"cSpell.disableForGlobal":async()=>(0,d.setEnableSpellChecking)(await _(d.ConfigurationTarget.Global),!1),"cSpell.toggleEnableForGlobal":async()=>(0,d.toggleEnableSpellChecker)(await _(d.ConfigurationTarget.Global,!0)),"cSpell.enableForWorkspace":async()=>(0,d.setEnableSpellChecking)(await _(d.ConfigurationTarget.Workspace),!0),"cSpell.disableForWorkspace":async()=>(0,d.setEnableSpellChecking)(await _(d.ConfigurationTarget.Workspace),!1),"cSpell.toggleEnableForWorkspace":async()=>(0,d.toggleEnableSpellChecker)(await _(d.ConfigurationTarget.Workspace)),"cSpell.toggleEnableSpellChecker":async()=>(0,d.toggleEnableSpellChecker)(await _(d.ConfigurationTarget.Global)),"cSpell.enableCurrentLanguage":ee,"cSpell.disableCurrentLanguage":te,"cSpell.editText":async function(e,t,n){const i=a.get("client").client,r=s.window.activeTextEditor;if(!r||r.document.uri.toString()!==e)return;if(r.document.version!==t)return $(s.window.showInformationMessage("Spelling changes are outdated and cannot be applied to the document."),"handlerApplyTextEdits");const o=s.workspace.getConfiguration(l.sectionCSpell,r.document);if(o.get("fixSpellingWithRenameProvider")&&1===n.length){const e=!!o.get("advanced.feature.useReferenceProviderWithRename"),t=function(e,t="g"){if(e)try{return(0,u.toRegExp)(e,t)}catch(t){console.log("Invalid Regular Expression: %s",e)}}(o.get("advanced.feature.useReferenceProviderRemove")),a=n[0],c=i.protocol2CodeConverter.asRange(a.range);if(await async function(e,t,n,i){if(t.start.line!==t.end.line)return!1;const{useReference:r,removeRegExp:o}=i,a=await async function(e,t,n){if(n){const n=await async function(e,t){try{const n=await s.commands.executeCommand("vscode.executeReferenceProvider",e,t.start);if(!Array.isArray(n))return;return n.find((n=>n.range.contains(t)&&n.uri.toString()===e.toString()))}catch(e){return}}(e.uri,t);return null==n?void 0:n.range}const i=e.getWordRangeAtPosition(t.start);if(i&&i.contains(t))return i}(e,t,r);if(!a||!a.contains(t))return!1;const c=a.start.character,u=t.start.character-c,l=t.end.character-c,d=e.getText(a),h=[d.slice(0,u),n,d.slice(l)].join(""),p=o?h.replace(o,""):h;try{const n=await s.commands.executeCommand("vscode.executeDocumentRenameProvider",e.uri,t.start,p).then((e=>e),(e=>(console.log(e),!1)));return!!n&&n.size>0&&await s.workspace.applyEdit(n)}catch(e){return!1}}(r.document,c,a.newText,{useReference:e,removeRegExp:t}))return}return r.edit((e=>{for(const t of n)e.replace(i.protocol2CodeConverter.asRange(t.range),t.newText)})).then((e=>e?void 0:$(s.window.showErrorMessage("Failed to apply spelling changes to the document."),"handlerApplyTextEdits2")))},"cSpell.logPerfTimeline":function(){S.performance.getEntries().forEach((e=>{console.log(e.name,(0,S.toMilliseconds)(e.startTime),e.duration)}))},"cSpell.addWordToCSpellConfig":B,"cSpell.addIssuesToDictionary":function(){return(0,b.handleErrors)(a.get("dictionaryHelper").addIssuesToDictionary(),"addAllIssuesFromDocument")},"cSpell.createCustomDictionary":async function(){var e;const t=await ie(null===(e=s.window.activeTextEditor)||void 0===e?void 0:e.document),n=await(0,f.quickPickTarget)(t);if(!n)return;const i=(0,p.configTargetToConfigRepo)(n);i&&await a.get("dictionaryHelper").createCustomDictionary(i)},"cSpell.createCSpellConfig":async function(){var e;const t=await(0,d.createConfigFileRelativeToDocumentUri)(null===(e=s.window.activeTextEditor)||void 0===e?void 0:e.document.uri);if(t){const e=await s.window.showTextDocument(t);(0,C.scrollToText)(e,'"cspell":')}},"cSpell.openFileAtLine":async function(e,t){e=(0,D.toUri)(e);const n=t&&{selection:de(t)}||void 0;await s.window.showTextDocument(e,n)}};function $(e,t,n=b.ignoreError){const i=Promise.resolve(e).then((()=>{}));return(0,b.handleErrors)(i,t,n)}function W(e,t){return(0,b.handleErrors)(a.get("dictionaryHelper").addWordsToConfigRep(e,t),"addWordsToConfig")}function K(e,t){return s.commands.registerCommand(e,(0,b.catchErrors)(t,`Register command: ${e}`))}function H(e,t){return console.log("addWordToWorkspaceDictionary %o",arguments),z(e,f.dictionaryTargetBestMatchesWorkspace,t)}function V(e){return z(e,f.dictionaryTargetBestMatchesUser,void 0)}function z(e,t,n){return(0,b.handleErrors)(function(e,t,n){return n=(0,D.toUri)(n),a.get("dictionaryHelper").addWordsToTargets(e,t,n)}(e,t,n),"addWordToTarget")}function G(e,t,n){return(0,b.handleErrors)(async function(e,t,n){n=(0,D.toUri)(n);const i=await re(n),r=t?i.filter((e=>e.scope===(0,v.configurationTargetToDictionaryScope)(t))):i;return l.addIgnoreWordsToSettings(r,e)}(e,t,n),ae("addIgnoreWordsToTarget",void 0,n))}function J(e,t,n){return(0,b.handleErrors)(function(e,t,n){n=(0,D.toUri)(n);const i=(0,f.createClientConfigTargetVSCode)(t,n,void 0);return a.get("dictionaryHelper").removeWordsFromTargets(e,[i],n)}(e,t,n),ae("removeWordFromTarget",t,n))}function X(e,t){return Q(e,(0,D.toUri)(t),void 0,!0)}function Y(e,t){return Q(e,(0,D.toUri)(t),void 0,!1)}function Q(e,t,n,i){return(0,b.handleErrors)((async()=>{const r=await(n?async function(e,t,n){const i=await ne(e,t,void 0),{targets:r,scopes:o}=i,s=new Set(o);return r.filter((e=>s.has(e.scope)))}(n,t):re(t));return l.enableLanguageIdForTarget(e,i,r)}),ae(`enableDisableLanguageId enable: ${i}`,n,t))}function Z(e,t,n,i,r){return(0,b.handleErrors)((async()=>{const{targets:o,scopes:s}=await ne(n||d.ConfigurationTarget.Global,t,i);return l.enableLocaleForTarget(e,r,o,s)}),ae(`enableDisableLocale enable: ${r}`,n,t))}function ee(){return(0,b.handleErrors)((async()=>{var e;const t=null===(e=s.window.activeTextEditor)||void 0===e?void 0:e.document;if(!t)return;const n=await ie(t);return l.enableLanguageId(n,t.languageId)}),"enableCurrentLanguage")}function te(){return(0,b.handleErrors)((async()=>{var e;const t=null===(e=s.window.activeTextEditor)||void 0===e?void 0:e.document;if(!t)return;const n=await ie(t);return l.disableLanguageId(n,t.languageId)}),"disableCurrentLanguage")}async function ne(e,t,n,i){var r;const o=i?[(0,v.configurationTargetToClientConfigScope)(e)]:(0,v.configurationTargetToClientConfigScopeInfluenceRange)(e),a=(0,f.createConfigTargetMatchPattern)(f.matchKindAll,f.matchScopeAll,{dictionary:!1});return t=(0,D.toUri)(t),{targets:(await(t?re(t,a):ie(null===(r=s.window.activeTextEditor)||void 0===r?void 0:r.document,a))).map((e=>"vscode"===e.kind?Object.assign(Object.assign({},e),{configScope:n}):e)),scopes:o}}async function ie(e,t=f.patternMatchNoDictionaries){const{uri:n,languageId:i}=e||{},r=(await a.get("client").getConfigurationForDocument({uri:n,languageId:i})).configTargets.map(y.mapConfigTargetToClientConfigTarget);return(0,f.filterClientConfigTargets)(r,t)}async function re(e,t=f.patternMatchNoDictionaries){var n;return ie((e=(0,D.toUri)(e))?await async function(e){const t=(0,w.findMatchingDocument)(e);return t||((await s.workspace.fs.stat(e)).type!==s.FileType.File?{uri:e}:await s.workspace.openTextDocument(e))}(e):null===(n=s.window.activeTextEditor)||void 0===n?void 0:n.document,t)}t.registerCommands=function(){return[...Object.entries(U).map((([e,t])=>K(e,t))),...Object.entries(E).map((([e,t])=>K(e,t)))]},t.addWordToWorkspaceDictionary=H,t.addWordToUserDictionary=V,t.enableLanguageIdCmd=X,t.disableLanguageIdCmd=Y,t.enableDisableLanguageId=Q,t.enableDisableLocale=Z,t.enableDisableLocaleLegacy=function(e,t,n){const i="boolean"==typeof e?e?d.ConfigurationTarget.Global:d.ConfigurationTarget.Workspace:e,r=(0,d.normalizeTarget)(i);return Z(t,r.uri,r.target,r.configScope,n)},t.enableCurrentLanguage=ee,t.disableCurrentLanguage=te;const oe=(new Intl.Collator).compare;async function se(e,t){if(e.length<=1){const n=await s.window.showInputBox(Object.assign(Object.assign({},t),{value:e[0]}));if(!n)return;return[n]}const n=e.map((e=>({label:e,picked:!0}))),i=await s.window.showQuickPick(n,Object.assign(Object.assign({},t),{canPickMany:!0}));return null==i?void 0:i.map((e=>e.label))}function ae(e,t,n){const i=t?(0,v.configurationTargetToDictionaryScope)(t):"";return i?`${e} ${i} ${(0,D.toUri)(n)}`:`${e} ${(0,D.toUri)(n)}`}async function ce(){var e,t;const n=null===(e=s.window.activeTextEditor)||void 0===e?void 0:e.document,i=null===(t=s.window.activeTextEditor)||void 0===t?void 0:t.selection,r=i&&(null==n?void 0:n.getWordRangeAtPosition(i.active)),o=n?(0,c.getCSpellDiags)(n.uri):void 0,u=(0,c.extractMatchingDiagRanges)(n,i,o),l=(null==u?void 0:u[0])||r,h=l&&(null==o?void 0:o.filter((e=>!!e.range.intersection(l))));if(!(n&&i&&l&&h))return $(s.window.showInformationMessage("Nothing to suggest."),"actionSuggestSpellingCorrections");if("quickFix"===(0,d.getSettingFromVSConfig)(d.ConfigFields.suggestionMenuType,n))return await s.commands.executeCommand("editor.action.quickFix");const p=await a.get("client").requestSpellingSuggestions(n,l,h);if(!p||!p.length)return $(s.window.showInformationMessage(`No Suggestions Found for ${n.getText(l)}`),"actionSuggestSpellingCorrections");const f=p.map((e=>({label:e.title,_action:e}))),g=await s.window.showQuickPick(f);if(g&&g._action.command){const{command:e,arguments:t=[]}=g._action.command;s.commands.executeCommand(e,...t)}}function ue(e,t){return(n,i)=>e(n,t,i)}async function le(e,t){const n=s.window.activeTextEditor;if(!n)return;const i=n.document,r=n.selection,o=i?(0,c.getCSpellDiags)(i.uri):void 0,a=o?"next"===e?function(e,t){return e.filter((e=>{var n;return null===(n=e.range)||void 0===n?void 0:n.start.isAfter(t.end)})).concat(e[0])[0]}(o,r):function(e,t){return[e[e.length-1]].concat(e.filter((e=>{var n;return null===(n=e.range)||void 0===n?void 0:n.end.isBefore(t.start)}))).pop()}(o,r):void 0,u=null==a?void 0:a.range;return i&&r&&u&&a?(n.revealRange(u,s.TextEditorRevealType.InCenterIfOutsideViewport),n.selection=new s.Selection(u.start,u.end),t?ce():void 0):$(s.window.showInformationMessage("No issues found in this document."),"actionJumpToSpellingError")}function de(e){if(void 0===e)return;e="string"==typeof e?Number.parseInt(e):e;const t=new s.Position(e-1,0);return new s.Range(t,t)}t.__testing__={commandHandlers:U}},6742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diagnosticSource=t.extensionId=void 0,t.extensionId="cSpell",t.diagnosticSource=t.extensionId},6677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDocumentRelatedContext=void 0;const i=n(9496),r=n(6742),o=n(1750),s=n(2511),a=r.extensionId;function*c(e,t){"object"!=typeof t&&(yield[e,t]);for(const[n,i]of Object.entries(t))yield*c(`${e}.${n}`,i)}const u=new Map,l=Object.freeze({usesConfigFile:!1,usesCustomDictionary:!1,hasIssues:!1,showCreateConfig:!1,showCreateDictionary:!1}),d=Object.freeze({addWordToFolderDictionary:!1,addWordToWorkspaceDictionary:!1,addWordToUserDictionary:!1,addWordToFolderSettings:!1,addWordToWorkspaceSettings:!1,addWordToUserSettings:!1,addWordToDictionary:!1,addWordToCSpellConfig:!1,addIssuesToDictionary:!1,showSuggestions:!1,createCustomDictionary:!1,createCSpellConfig:!1,addIgnoreWord:!1});async function h(e){const t=[...c(a,e)].filter((([e,t])=>t!==u.get(e))),n=t.map((([e,t])=>i.commands.executeCommand("setContext",e,t)));t.forEach((([e,t])=>u.set(e,t))),await Promise.all(n)}const p=new WeakMap;async function f(e,t){var n,r;const a={documentConfigContext:Object.assign({},l),editorMenuContext:Object.assign({},d)},c=e.getConfigurationForDocument(t),u=(0,o.getCSpellDiags)(t.uri),p=await c,{agg:f,matrix:g,configFoundInWorkspace:m}=function(e){const t={},n={vscode:{},cspell:{},dictionary:{}};let r=!1;for(const o of e)t[o.kind]=(t[o.kind]||0)+1,t[o.scope]=(t[o.scope]||0)+1,n[o.kind][o.scope]=(n[o.kind][o.scope]||0)+1,r=r||"cspell"===o.kind&&!!i.workspace.getWorkspaceFolder((0,s.toUri)(o.configUri));return{agg:t,matrix:n,configFoundInWorkspace:r}}(p.configTargets),y=(f.dictionary||0)-(g.dictionary.user||0),v=!!f.cspell,b=y>0,S=u.length>0,C=u.length>1,D=!m||!f.cspell,w=!b,E=!!g.vscode.workspace,x=!!g.vscode.folder;a.documentConfigContext={usesConfigFile:v,usesCustomDictionary:b,hasIssues:S,showCreateConfig:D,showCreateDictionary:w};const _=!!(null===(n=p.settings)||void 0===n?void 0:n.showCommandsInEditorContextMenu);a.editorMenuContext.addWordToFolderDictionary=_&&S&&!!g.dictionary.folder,a.editorMenuContext.addWordToWorkspaceDictionary=_&&S&&!!g.dictionary.workspace,a.editorMenuContext.addWordToUserDictionary=_&&S&&!!g.dictionary.user,a.editorMenuContext.addWordToFolderSettings=_&&S&&x,a.editorMenuContext.addWordToWorkspaceSettings=_&&S&&E,a.editorMenuContext.addWordToUserSettings=_&&S&&!g.dictionary.user,a.editorMenuContext.addWordToDictionary=_&&S&&!!g.dictionary.unknown,a.editorMenuContext.addWordToCSpellConfig=_&&S&&v&&!b,a.editorMenuContext.addIssuesToDictionary=_&&S&&C,a.editorMenuContext.createCustomDictionary=_&&w,a.editorMenuContext.createCSpellConfig=_&&D,a.editorMenuContext.addIgnoreWord=_&&S,a.editorMenuContext.showSuggestions=!(!_&&!(null===(r=p.settings)||void 0===r?void 0:r.showSuggestionsLinkInEditorContextMenu))&&S,await h(a)}t.updateDocumentRelatedContext=async function e(t,n){const i={documentConfigContext:Object.assign({},l),editorMenuContext:Object.assign({},d)};if(!n)return void await h(i);const r=n,o=p.get(r);if(o)return o.stale=!o.pending,o.value;const s={value:f(t,r),pending:!0,stale:!1};function a(){p.delete(r),s.stale&&e(t,r)}return s.value.finally((()=>{s.pending=!1,setTimeout(a,1e3)})),p.set(r,s),s.value}},2411:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.set=t.get=t.register=t.getDependencies=void 0;const n=Object.keys({name:void 0,extensionContext:void 0,client:void 0,dictionaryHelper:void 0}),i={};function r(e){Object.defineProperty(i,e,{get:function(){throw new Error(`Missing Dependency: ${e}`)},configurable:!0,enumerable:!0})}function o(){n.forEach(r)}t.getDependencies=function(){return i},t.register=function(e,t){Object.defineProperty(i,e,{get:function(){const n=t();return Object.defineProperty(this,e,{value:n}),n}})},t.get=function(e){if(void 0===Object.getOwnPropertyDescriptor(i,e))throw new Error(`Missing Dependency Resolver: '${e}'`);return i[e]},t.set=function(e,t){Object.defineProperty(i,e,{value:t,configurable:!0,enumerable:!0})},o(),t.__testing__={init:o}},1750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.extractMatchingDiagRanges=t.extractMatchingDiagTexts=t.extractMatchingDiagText=t.getCSpellDiags=void 0;const i=n(9496),r=n(6742),o=n(8506),s=n(9759);function a(e,t,n){if(!e||!n)return;const i=c(e,t,n);return null==i?void 0:i.map((t=>e.getText(t)))}function c(e,t,n){if(!e||!n)return;const i=t&&e.getText(t);return n.map((e=>e.range)).map((e=>u(i,t,e))).filter(s.isDefined)}function u(e,t,n){if(!t||void 0===e||n.contains(t))return n;const i=t.intersection(n);return i&&!i.isEmpty?(0,o.isWordLike)(e)?t:n:void 0}t.getCSpellDiags=function(e){return(e&&i.languages.getDiagnostics(e)||[]).filter((e=>e.source===r.diagnosticSource))},t.extractMatchingDiagText=function(e,t,n){var i;if(e&&t&&n)return null===(i=a(e,t,n))||void 0===i?void 0:i.filter((0,s.uniqueFilter)()).join(" ")},t.extractMatchingDiagTexts=a,t.extractMatchingDiagRanges=c,t.__testing__={determineWordRangeToAddToDictionaryFromSelection:u,extractMatchingDiagTexts:a}},6574:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const s=o(n(9496)),a=n(355),c=n(6695),u=n(9540),l=o(n(8768)),d=n(6677),h=o(n(2411)),p=o(n(7518)),f=o(n(3981)),g=o(n(8335)),m=o(n(2979)),y=n(2979),v=n(4196),b=n(8051),S=n(5294);S.performance.mark("cspell_done_import"),g.init(),t.activate=async function(e){S.performance.mark("cspell_activate_start");const t=await u.CSpellClient.create(e);e.subscriptions.push(t),h.set("client",t),h.set("extensionContext",e),p.activate(e,t),await t.start();const n=(0,v.initStatusBar)(e,t);function i(e=0){setTimeout(r,e)}function r(){(0,b.silenceErrors)(t.triggerSettingsRefresh(),"triggerGetSettings").then((()=>{f.update(),n.refresh()}))}function o(){i()}const g=s.workspace.createFileSystemWatcher(m.configFileLocationGlob);function C(e){for(const t of e)if(m.configFilesToWatch.has(a.Utils.basename(t))){i();break}}e.subscriptions.push(g,g.onDidChange(o),g.onDidCreate(o),g.onDidDelete(o),s.workspace.onDidSaveTextDocument((function(e){C([e.uri])})),s.workspace.onDidRenameFiles((function(e){C(e.files.map((e=>e.newUri)).concat(e.files.map((e=>e.oldUri))))})),s.workspace.onDidDeleteFiles((function(e){C(e.files)})),s.workspace.onDidCreateFiles((function(e){C(e.files)})),s.workspace.onDidOpenTextDocument((function(e){C([e.uri])})),s.window.onDidChangeActiveTextEditor((function(e){(0,b.logErrors)((0,d.updateDocumentRelatedContext)(t,null==e?void 0:e.document),"handleOnDidChangeActiveTextEditor")})),s.window.onDidChangeVisibleTextEditors((function(e){var n;(0,b.logErrors)((0,d.updateDocumentRelatedContext)(t,null===(n=s.window.activeTextEditor)||void 0===n?void 0:n.document),"handleOnDidChangeVisibleTextEditors")})),s.languages.onDidChangeDiagnostics((function(e){const n=s.window.activeTextEditor;n&&new Set(e.uris.map((e=>e.toString()))).has(n.document.uri.toString())&&setTimeout((()=>{(0,b.logErrors)((0,d.updateDocumentRelatedContext)(t,n.document),"handleOnDidChangeDiagnostics")}),10)})),...l.registerCommands(),s.workspace.onDidChangeConfiguration((function(e){e.affectsConfiguration(y.sectionCSpell)&&i()}))),(0,c.registerCspellInlineCompletionProviders)(e.subscriptions).catch((()=>{})),f.activate(e,t);const D={enableLocale:(e,t)=>l.enableDisableLocaleLegacy(e,t,!0),disableLocale:(e,t)=>l.enableDisableLocaleLegacy(e,t,!1)},w={registerConfig:function(e){t.registerConfiguration(e)},triggerGetSettings:i,enableLanguageId:l.enableLanguageIdCmd,disableLanguageId:l.disableLanguageIdCmd,enableCurrentLanguage:l.enableCurrentLanguage,disableCurrentLanguage:l.disableCurrentLanguage,addWordToUserDictionary:l.addWordToUserDictionary,addWordToWorkspaceDictionary:l.addWordToWorkspaceDictionary,enableLocale:D.enableLocale,disableLocale:D.disableLocale,updateSettings:()=>!1,cSpellClient:()=>t,getConfigurationForDocument:e=>t.getConfigurationForDocument(e),enableLocal:D.enableLocale,disableLocal:D.disableLocale};return S.performance.mark("cspell_activate_end"),S.performance.measure("cspell_activation","cspell_activate_start","cspell_activate_end"),w},S.performance.mark("cspell_done_load")},3162:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RegexpOutlineItem=t.RegexpOutlineProvider=void 0;const s=o(n(9496));function a(e){const t={treeItem:new c(e)};return t.children=function(e){const t=e.treeItem.pattern;if(t.defs.length<2)return;const n=t.name;return t.defs.map(((e,t)=>({name:`${n}.${t}`,defs:[e]}))).map(a)}(t),t}t.RegexpOutlineProvider=class{constructor(){this._onDidChangeTreeData=new s.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event}refresh(e){this.outline=e?function(e){const t={treeItem:new s.TreeItem("root",s.TreeItemCollapsibleState.Expanded)};return t.children=[...e.entries()].map((e=>function(e,t,n){return{parent:e,treeItem:new s.TreeItem(t,s.TreeItemCollapsibleState.Expanded),children:n.map(a)}}(t,...e))),t}(e):void 0,this._onDidChangeTreeData.fire(void 0)}getChildren(e){var t;return e?Promise.resolve(e.children):Promise.resolve(null===(t=this.outline)||void 0===t?void 0:t.children)}getTreeItem(e){return e.treeItem}getParent(e){return e.parent}};class c extends s.TreeItem{constructor(e){var t,n;super((n=e.name).length<=50?n:n.substr(0,49)+"…",e.defs.length>1?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.None),this.pattern=e,this.pattern=e;const{timeMs:i,errorMsg:r,toolTip:o,count:a}=function(e){const t=e.defs.map((e=>e.elapsedTime)).reduce(((e,t)=>e+t),0).toFixed(2),n=e.defs.map((e=>e.errorMessage)).filter((e=>!!e)).join(", "),i=e.defs.map((e=>e.regexp.toString()));return{timeMs:t,errorMsg:n,toolTip:i.length>1?"Multi Pattern":i.join(""),count:e.defs.map((e=>e.matches.length)).reduce(((e,t)=>e+t),0)}}(e),c=[`${i}ms`,`(${a})`,r?" "+r:""].filter((e=>!!e));this.description=c.join(" "),this.tooltip=o,this.command={command:"cSpellRegExpTester.selectRegExp",arguments:[null===(t=e.defs[0])||void 0===t?void 0:t.regexp],title:"Select RegExp"},this.contextValue="regexp"}}t.RegexpOutlineItem=c},3735:(e,t)=>{"use strict";function n(e){return e instanceof RegExp}Object.defineProperty(t,"__esModule",{value:!0}),t.isRegExp=t.toRegExp=void 0,t.toRegExp=function(e,t){if(n(e))return e;const i=e.match(/^\/(.*)\/([gimsuy]*)$/);return i?new RegExp(i[1],i[2]||void 0):new RegExp(e,t)},t.isRegExp=n},6391:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const s=o(n(9496)),a=n(6742),c=n(8051),u=n(3735),l=n(7640),d=n(3162),h=n(3837);function p(e){const{name:t,pattern:n}=e;function i(e){return e.toString()}return{name:t,pattern:(r=n,Array.isArray(r)?r.map(i):i(r))};var r}function f(){const e=s.workspace.getConfiguration(a.extensionId);return!!(null==e?void 0:e.get("experimental.enableRegexpView"))}t.activate=function(e,t){const n=new Set,i=new d.RegexpOutlineProvider;let r,o;s.window.registerTreeDataProvider("cSpellRegExpView",i);const a=s.window.createTextEditorDecorationType({overviewRulerColor:"green",overviewRulerLane:s.OverviewRulerLane.Center,light:{backgroundColor:"#C0C0FFCC"},dark:{backgroundColor:"#347890CC"}});let g,m=f(),y=m?s.window.activeTextEditor:void 0,v=[];const b=(0,c.catchErrors)((async function(){var n,o;if(!m||!y)return void C();const c=y.document,u=c.version,d=await t.getConfigurationForDocument(c),h=function(e,t){var n,i,r;const o=[];return t.forEach((e=>o.push({category:"User Patterns",pattern:e}))),null===(n=null==e?void 0:e.includeRegExpList)||void 0===n||n.forEach((e=>o.push({category:"Include Regexp List",pattern:e.toString()}))),null===(i=null==e?void 0:e.ignoreRegExpList)||void 0===i||i.forEach((e=>o.push({category:"Exclude Regexp List",pattern:e.toString()}))),null===(r=null==e?void 0:e.patterns)||void 0===r||r.forEach((e=>o.push({category:"Patterns",pattern:p(e)}))),o}(d.docSettings,v),f=h.map((e=>e.pattern)),b=g?0:-1,D=await function(){r||(r=l.PatternMatcherClient.create(e));const t=r;return t.onReady().then((()=>t))}(),w={patterns:(null===(n=d.docSettings)||void 0===n?void 0:n.patterns)||(null===(o=d.settings)||void 0===o?void 0:o.patterns)||[]};await D.matchPatternsInDocument(c,f,w).then((e=>{var t;if(!s.window.activeTextEditor||c.version!==u||(null===(t=s.window.activeTextEditor)||void 0===t?void 0:t.document)!=c)return;if(e.message)return;const n=e&&new Map;null==e||e.patternMatches.forEach(((e,t)=>{const i=h[t].category,r=n.get(i)||[];r.push(e),n.set(i,r)})),i.refresh(n);const r=s.window.activeTextEditor,o=e.patternMatches.filter(((e,t)=>t===b)).map(S).reduce(((e,t)=>e.concat(t)),[]).map((e=>{const{range:t,message:n}=e,i=r.document.positionAt(t[0]),o=r.document.positionAt(t[1]);return{range:new s.Range(i,o),hoverMessage:n}}));r.setDecorations(a,o)}))}),"updateDecorations",c.showError);function S(e){const{name:t,defs:n}=e;return n.map((e=>e.matches.map((t=>({range:t,elapsedTime:e.elapsedTime}))).map((({range:e,elapsedTime:n})=>({range:e,message:D(t,n)}))))).reduce(((e,t)=>e.concat(t)),[])}function C(){null==y||y.setDecorations(a,[])}function D(e,t){return(new s.MarkdownString).appendText(e+" "+t.toFixed(2)+"ms")}function w(){o&&(clearTimeout(o),o=void 0),o=setTimeout(b,100)}function E(e){g=e||g;const t=s.window.showInputBox({prompt:"Enter a Regular Expression",placeHolder:"Example: /\bw+/g",value:null==g?void 0:g.toString(),validateInput:function(e){try{(0,u.toRegExp)(e,"g")}catch(e){return(0,h.format)(e)}}}).then((e=>{g=e||void 0,_(g),w()}));return(0,c.logErrors)(t,"userTestRegExp")}function x(e){return"string"==typeof e&&!!e}function _(e){const t=new Set([e].concat(v));v=[...t].filter(x),v.length=Math.min(v.length,5)}y&&w(),s.window.onDidChangeActiveTextEditor((e=>{m&&(y=e,e&&w())}),null,e.subscriptions),s.workspace.onDidChangeTextDocument((e=>{m&&y&&e.document===y.document&&w()}),null,e.subscriptions),e.subscriptions.push({dispose:function(){for(const e of n)e.dispose();n.clear()}},s.commands.registerCommand("cSpellRegExpTester.testRegExp",(0,c.catchErrors)(E,"testRegExp",c.logError)),s.commands.registerCommand("cSpellRegExpTester.selectRegExp",(function(e){g=g===e?void 0:e,_(g),w()})),s.commands.registerCommand("cSpellRegExpTester.editRegExp",(function(e){var t,n;if(null===(t=null==e?void 0:e.treeItem)||void 0===t?void 0:t.pattern){w();const{defs:t,name:i}=e.treeItem.pattern;E((null===(n=t[0])||void 0===n?void 0:n.regexp)||i)}})),s.workspace.onDidChangeConfiguration((function(){const e=m;m=f(),e!=m&&(m?(y=s.window.activeTextEditor,w()):C())})))}},7518:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6391),t)},7640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatternMatcherClient=void 0;const i=n(165),r=n(8051),o=n(1530),s=["--nolazy","--inspect=60148"];class a{constructor(e){const t=e.asAbsolutePath("packages/_serverPatternMatcher/dist/main.js"),n={documentSelector:[{scheme:"file"},{scheme:"untitled"}],diagnosticCollectionName:"cspell-pattern-matcher",initializationFailedHandler:e=>(console.error("Server initialization failed. %o",e),!1)},a=[],c={execArgv:a},u={execArgv:[...a,...s]},l={run:{module:t,transport:i.TransportKind.ipc,options:c},debug:{module:t,transport:i.TransportKind.ipc,options:u}};this.client=new i.LanguageClient("cspell-pattern-matcher",l,n),this.client.registerProposedFeatures(),this.serverApi=(0,o.createServerApi)(this.client),(0,r.logErrors)(this.initWhenReady(),"Init Pattern Matcher Server")}static create(e){return new a(e)}async matchPatternsInDocument(e,t,n){return this.serverApi.matchPatternsInDocument({uri:e.uri.toString(),patterns:t,settings:n})}dispose(){c("Dispose: Pattern Matcher Client"),this.client.stop()}onReady(){return this.client.start()}async initWhenReady(){c("waiting initWhenReady"),await this.onReady(),c("done initWhenReady")}}t.PatternMatcherClient=a;const c=(...e)=>{}},1530:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(9357),t)},9357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServerApi=t.requestCodeAction=void 0;const i=n(165);t.requestCodeAction=async function(e,t){const n=i.CodeActionRequest.type;return await e.sendRequest(n,t)},t.createServerApi=function(e){return{matchPatternsInDocument:t=>async function(t,n){const r=new i.RequestType("matchPatternsInDocument");return await e.sendRequest(r,n)}(0,t)}}},1860:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commandDisplayCSpellInfo=void 0,t.commandDisplayCSpellInfo="cSpell.displayCSpellInfo"},8976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commandDisplayCSpellInfo=void 0;var i=n(1860);Object.defineProperty(t,"commandDisplayCSpellInfo",{enumerable:!0,get:function(){return i.commandDisplayCSpellInfo}})},8588:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.calcSettings=void 0;const s=n(4561),a=o(n(9496)),c=n(9496),u=n(2979),l=n(9759),d=n(7007),h=n(2511);t.calcSettings=async function(e,t,n,i){const r=t||(null===(o=function(){var e;return null===(e=a.workspace.workspaceFolders)||void 0===e?void 0:e[0]}())||void 0===o?void 0:o.uri);var o;const s=(0,u.inspectConfig)(r),c=await n.getConfigurationForDocument(e);return{knownLanguageIds:[...n.languageIds].sort(),dictionaries:_(c.settings),configs:m(s,c,e,i),workspace:A(n.allowedSchemas,a.workspace),activeFileUri:e&&e.uri.toString(),activeFolderUri:null==r?void 0:r.toString()}};const p={defaultValue:"default",globalValue:"user",workspaceValue:"workspace",workspaceFolderValue:"folder"},f=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],g=new Map(f.map(((e,t)=>[e,t])));function m(e,t,n,i){return{user:b(1,e),workspace:b(2,e),folder:b(3,e),file:C(t,n,i)}}function y(e){return g.get(e)||0}function v(e,t,n){for(let i=e;i>0;--i){const e=f[i],r=n[e];if(r&&r[t])return e}return"defaultValue"}function b(e,t){var n,i,r;const o=v(e,"language",t),s=v(e,"enabledLanguageIds",t),a=v(e,"enableFiletypes",t),c=P(null===(n=t[s])||void 0===n?void 0:n.enabledLanguageIds,null===(i=t[a])||void 0===i?void 0:i.enableFiletypes),u=(d=a,y(l=s)>y(d)?l:d);var l,d;return{inherited:{locales:p[o],languageIdsEnabled:p[u]},locales:T(null===(r=t[o])||void 0===r?void 0:r.language),languageIdsEnabled:c}}function S(e){if(e)return e.map((e=>Object.assign(Object.assign({},e),{name:e.name||e.configUri&&(0,s.uriToName)((0,h.toUri)(e.configUri))})))}function C(e,t,n){if(!t)return;const{uri:i,fileName:r,languageId:o,isUntitled:u}=t,{languageEnabled:l,docSettings:d,fileEnabled:h,fileIsExcluded:p,fileIsIncluded:f,gitignoreInfo:g,excludedBy:m}=e,y=new Set(d&&d.dictionaries||[]),v=_(d).filter((e=>y.has(e.name)));n("extractFileConfig languageEnabled: "+(l?"true":"false"));const b=a.workspace.getWorkspaceFolder(i);return{uri:i.toString(),fileName:r,isUntitled:u,languageId:o,dictionaries:v,languageEnabled:l,fileEnabled:h,configFiles:D(e),fileIsExcluded:p,fileIsIncluded:f,fileIsInWorkspace:!!b||u,excludedBy:S(m),gitignoreInfo:function(){if(!g)return;const{glob:e,gitIgnoreFile:t,line:n,matched:i,root:r}=g,o=c.Uri.file(t);return{matched:i,glob:e,line:n,root:r,gitignoreFileUri:o.toString(),gitignoreName:(0,s.uriToName)(o)}}(),blockedReason:e.blockedReason}}function D(e){const{configFiles:t,configTargets:n}=e,i=n.filter(w).map((({name:e,configUri:t})=>({name:e,uri:t})));return i.length?i:t.map((e=>({name:(0,s.uriToName)((0,h.toUri)(e)),uri:e})))}function w(e){return"cspell"===e.kind}const E=/\.txt$/,x=/(?:@|%40)cspell\//;function _(e){if(!e)return[];const t=e.dictionaryDefinitions||[],n=new Map(t.map(k).map((e=>[e.name,e])));return(e.languageSettings||[]).forEach((e=>{const t=T(e.locale||e.local),i=F(e.languageId);(e.dictionaries||[]).forEach((e=>{const r=n.get(e);r&&(r.locales=R(r.locales,t),r.languageIds=R(r.languageIds,i))}))})),[...n.values()]}function k(e){const t=c.Uri.joinPath((0,h.toUri)(e.path||""),e.file||""),n=t.toString(),i=e.addWords||E.test(n)&&!x.test(n);return{name:e.name,locales:[],languageIds:[],description:e.description,uri:i?n:void 0,uriName:i?(r=t,"file"===r.scheme?a.workspace.asRelativePath(r,!0):r.toString()):void 0};var r}function T(e){return F(e)}function F(e){return(0,d.pipe)(e,(0,d.map)((e=>"string"==typeof e?e:e.join(","))),(0,d.map)((e=>e.replace(/\*/g,"").split(/[,;]/).map((e=>e.trim())).filter((e=>!!e)))),(0,d.defaultTo)([]))}function R(e,t){return e.concat(t).filter((0,l.uniqueFilter)())}function A(e,t){const{name:n,workspaceFolders:i,textDocuments:r}=t,o={name:n,workspaceFolders:i?i.map((function(e){const{name:t,index:n}=e;return{uri:e.uri.toString(),name:t,index:n}})):void 0,textDocuments:r.filter((t=>e.has(t.uri.scheme))).map((function(e){const{fileName:t,languageId:n,isUntitled:i}=e;return{uri:e.uri.toString(),fileName:(r=t,a.workspace.asRelativePath(r,!0)),languageId:n,isUntitled:i};var r}))};return o}function P(e=[],t=[]){const n=new Set;return function(e){return e.map((e=>e.replace(/!/g,"~"))).sort().map((e=>e.replace(/~/g,"!")))}(e.concat(t)).map(O).forEach((({enable:e,lang:t})=>{e?n.add(t):n.delete(t)})),[...n].sort()}function O(e){const[t,n]=I(e);return{enable:!(1&t.length),lang:n}}function I(e){const t=e.match(/^!*/),n=(null==t?void 0:t[0])||"";return[n,e.slice(n.length)]}t.__testing__={applyEnableFiletypesToEnabledLanguageIds:P,calcEnableLang:O,extractConfigFiles:D,extractDictionariesFromConfig:_,extractViewerConfigFromConfig:m,mapWorkspace:A,normalizeLocales:T,splitBangPrefix:I}},3981:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.update=t.activate=void 0;const s=o(n(7945)),a=n(3837),c=o(n(9496)),u=n(9496),l=n(3312),d=n(8768),h=n(2979),p=n(2511),f=n(7469),g=n(1860),m=n(8588),y=n(3837),v="Spell Checker Preferences",b=(0,y.promisify)(setTimeout);let S,C=!1;const D={user:c.ConfigurationTarget.Global,workspace:c.ConfigurationTarget.Workspace,folder:c.ConfigurationTarget.WorkspaceFolder};t.activate=function(e,t){e.subscriptions.push(c.commands.registerCommand(g.commandDisplayCSpellInfo,(async()=>{var n;const i=(null===(n=c.window.activeTextEditor)||void 0===n?void 0:n.viewColumn)||c.ViewColumn.Active;S?S.reveal(i):S=await async function(e,t,n){const i=e.asAbsolutePath("packages/client/settingsViewer/webapp"),r=await async function(){const e=I(c.window.activeTextEditor),t=e&&c.workspace.getWorkspaceFolder(e)||c.workspace.workspaceFolders&&c.workspace.workspaceFolders[0],n=t&&t.uri;return{activeTabName:e?"File":"User",activeDocumentUri:e,activeFolderUri:n,settings:await T(e,n)}}(),o=e.extensionPath;let a;const g=[],y={enableScripts:!0,enableCommandUris:!0,localResourceRoots:[u.Uri.file(i),u.Uri.file(o)]},_=c.window.createWebviewPanel("cspellConfigViewer",v,t,y),k=new l.MessageBus(function(e){let t;const n={set onmessage(e){t=e},postMessage:t=>(e.webview.postMessage(t),n),disposable:e.webview.onDidReceiveMessage((e=>{t&&t({data:e})}))};return n}(_),console);async function T(e,t){const i=e&&(0,f.findMatchingDocument)(e);return(0,m.calcSettings)(i,t,n,x)}async function F(){const e=(0,h.getSettingFromVSConfig)("logLevel",void 0);C="Debug"===e,x("refreshStateAndNotify"),await async function(){x(`refreshState: uri "${r.activeDocumentUri}"`),await b(500),r.settings=await T(r.activeDocumentUri,r.activeFolderUri)}(),await void(null==a||a.emit())}function R(e){var t;t=I(e),r.activeDocumentUri=O(t)||r.activeDocumentUri}return g.push(s.stream((e=>(a=e,()=>{a=void 0}))).throttle(250).observe((()=>{const{activeTabName:e,settings:t}=r;x(`notifyView: tab ${e}`),k.postMessage({command:"ConfigurationChangeMessage",value:{activeTab:e,settings:t}})}))),g.push(s.stream((t=>{c.workspace.onDidChangeConfiguration((()=>t.value({})),null,e.subscriptions)})).throttle(1e3).observe((()=>F()))),c.window.onDidChangeActiveTextEditor((async e=>{e&&(R(e),await F())}),null,e.subscriptions),k.listenFor("RequestConfigurationMessage",(()=>F)),k.listenFor("SelectTabMessage",(e=>{x(`SelectTabMessage: tab ${e.value}`),r.activeTabName=e.value})),k.listenFor("SelectFolderMessage",(e=>{x(`SelectFolderMessage: folder '${e.value}'`);const t=e.value,n=c.workspace.workspaceFolders&&c.workspace.workspaceFolders[0];return r.activeFolderUri=t&&u.Uri.parse(t)||n&&n.uri,F()})),k.listenFor("SelectFileMessage",(e=>{x(`SelectFolderMessage: folder '${e.value}'`);const t=e.value;return r.activeDocumentUri=t&&u.Uri.parse(t)||r.activeDocumentUri,F()})),k.listenFor("ConfigurationChangeMessage",(()=>{})),k.listenFor("OpenLinkMessage",(e=>{const t=u.Uri.parse(e.value.uri);switch(t.scheme){case"file":return c.window.showTextDocument(t);case"command":return E()}throw new Error(`Unknown link: ${t.toString()}`)})),g.push(s.stream((e=>{k.listenFor("EnableLanguageIdMessage",(t=>e.value(t)))})).debounce(20).map((e=>{const{target:t,languageId:n,enable:i,uri:r}=e.value;x(`EnableLanguageIdMessage: ${t}, ${n}, ${i?"enable":"disable"}`);const o=r?u.Uri.parse(r):void 0;return(0,d.enableDisableLanguageId)(n,o,t?D[t]:void 0,i)})).flatMap(P(w)).observe(F)),g.push(s.stream((e=>{k.listenFor("EnableLocaleMessage",(t=>e.value(t)))})).debounce(20).map((e=>{const{target:t,locale:n,enable:i,uri:r}=e.value;x(`EnableLocaleMessage: ${t}, ${n}, ${i?"enable":"disable"}`);const o=r?u.Uri.parse(r):void 0,s=D[t];return(0,d.enableDisableLocale)(n,(0,p.toUri)(r),s,o,i)})).flatMap(P(w)).observe(F)),_.onDidDispose(A,null,e.subscriptions),_.onDidChangeViewState((()=>F()),void 0,e.subscriptions),{panel:_,async updateView(){await async function(e,t){x("updateView");const n=function(e,t){const n=u.Uri.file(t);return`\n<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="utf-8"/>\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>CSpell Settings Viewer</title>\n    </head>\n    <body><div id="root">Root</div><script type="text/javascript" src="${e.asWebviewUri(u.Uri.joinPath(n,"index.bundle.js"))}"><\/script></body>\n</html>\n`}(e.webview,t);e.title=v,e.webview.html=n}(_,i),F()},reveal:()=>_.reveal(),dispose:A};function A(){S=void 0,a=void 0,g.forEach((e=>e.unsubscribe())),g.length=0}function P(e){return t=>{const n=s.fromPromise(t);return e?n.delay(e):n}}function O(e){return e&&n.allowedSchemas.has(e.scheme)?e:void 0}function I(e){return O(e&&e.document.uri)}}(e,i,t),S.updateView()})),{dispose:()=>{if(S){const e=S;S=void 0,e.dispose()}}})};const w=500;function E(e){throw new Error("not implemented.")}function x(...e){if(!C)return;const t=(0,a.format)(...e),n=new Date;console.log(`${n.toISOString()} InfoView -- ${t}`)}t.update=function(){null==S||S.updateView()},t.__testing__={execCommandUri:E}},9841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lookupCode=t.isValidCode=t.normalizeCode=void 0;const i=n(1605),r=new Map(i.codes.map((e=>{const[t,n,i=""]=e;return[t,{lang:n,country:i}]}))),o=/^([a-z]{2})[-_]?([a-z]{0,2})$/i;t.normalizeCode=function(e){return e.replace(o,((e,t,n)=>{const i=t.toLowerCase(),r=n.toUpperCase();return r?`${i}-${r}`:i}))},t.isValidCode=function(e){return r.has(e)},t.lookupCode=function(e){return r.get(e)}},1605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codes=void 0,t.codes=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokmål Norwegian"],["nb-NO","Bokmål Norwegian","Norway"],["nb-SJ","Bokmål Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volapük"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]]},8335:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const s=o(n(2411)),a=n(3186);t.init=function(){s.register("dictionaryHelper",(()=>new a.DictionaryHelper(s.get("client"))))}},8506:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dictionaryDefinitionToCustomDictDef=t.FailedToUpdateConfigFile=t.isUpdateSupportedForConfigFileFormat=t.normalizeWords=t.isWordLike=t.readSettingsFileAndApplyUpdate=t.removeLanguageIdsFromSettingsAndUpdate=t.writeAddLanguageIdsToSettings=t.removeLanguageIdsFromSettings=t.addLanguageIdsToSettings=t.removeWordFromSettingsAndUpdate=t.filterOutWords=t.removeWordsFromSettings=t.addIgnoreWordsToSettings=t.addIgnoreWordsToSettingsAndUpdate=t.writeSettings=t.readSettings=t.getDefaultSettings=t.configFilesToWatch=t.preferredConfigFiles=t.possibleConfigFiles=t.cspellConfigDirectory=t.nestedConfigLocations=t.configFileLocationGlob=t.configFileLocations=t.defaultFileName=void 0;const i=n(9759),r=n(9496),o=n(5085);t.defaultFileName="cspell.json",t.configFileLocations=[".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.yaml","cspell.yml","package.json","cspell.config.js","cspell.config.cjs"],t.configFileLocationGlob=`**/{${t.configFileLocations.join(",")}}`,t.nestedConfigLocations=["package.json"],t.cspellConfigDirectory=".cspell",t.possibleConfigFiles=Object.freeze(new Set(t.configFileLocations)),t.preferredConfigFiles=["cspell.json","cspell.config.yaml","package.json"],t.configFilesToWatch=t.possibleConfigFiles;const s=Object.freeze({version:"0.2"});function a(e,t){const n=null!=t?t:s;return(0,o.readConfigFile)(e,n)}function c(e,t){const n=function(e,t){const n=(e||[]).concat(t).map((e=>e.trim())).filter((e=>!!e)).filter((0,i.uniqueFilter)());return n.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))),n}(e.ignoreWords,t);return Object.assign(Object.assign({},e),{ignoreWords:n})}function u(e,t){const n=l(e.words||[],t);return Object.assign(Object.assign({},e),{words:n})}function l(e,t){const n=new Set(t.map((e=>e.toLowerCase())));return e.filter((e=>!n.has(e.toLowerCase())))}function d(e,t,n){if(e.enabledLanguageIds||!n){const n=(0,i.unique)((e.enabledLanguageIds||[]).concat(t));return Object.assign(Object.assign({},e),{enabledLanguageIds:n})}return e}function h(e,t){var n;if(e.enabledLanguageIds){const i=new Set(t),r=e.enabledLanguageIds.filter((e=>!i.has(e))),o=Object.assign(Object.assign({},e),{enabledLanguageIds:r});return(null===(n=o.enabledLanguageIds)||void 0===n?void 0:n.length)||delete o.enabledLanguageIds,o}return e}async function p(e,t){return await f(e,t),a(e)}async function f(e,t){try{await(0,o.updateConfigFile)(e,t)}catch(e){return Promise.reject(e instanceof o.UnhandledFileType?new v(`Update for config file format not supported.\n${e.message}`):e)}}t.getDefaultSettings=function(){return s},t.readSettings=a,t.writeSettings=function(e,t){return(0,o.writeConfigFile)(e,t).then((()=>t))},t.addIgnoreWordsToSettingsAndUpdate=function(e,t){return f(e,(e=>c(e,y(t))))},t.addIgnoreWordsToSettings=c,t.removeWordsFromSettings=u,t.filterOutWords=l,t.removeWordFromSettingsAndUpdate=function(e,t){return p(e,(e=>u(e,y(t))))},t.addLanguageIdsToSettings=d,t.removeLanguageIdsFromSettings=h,t.writeAddLanguageIdsToSettings=function(e,t,n){return p(e,(e=>d(e,t,n)))},t.removeLanguageIdsFromSettingsAndUpdate=function(e,t){return p(e,(e=>h(e,t)))},t.readSettingsFileAndApplyUpdate=f;const g=/[^\w\p{L}\p{M}_'’-]+/gu,m=/^[\w\p{L}\p{M}_'’-]+$/u;function y(e){return(e="string"!=typeof e?e.join(" "):e).replace(g," ").split(" ").map((e=>e.trim())).filter((e=>!!e)).filter((0,i.uniqueFilter)())}t.isWordLike=function(e){return m.test(e)},t.normalizeWords=y,t.isUpdateSupportedForConfigFileFormat=function(e){return(0,o.isHandled)(e)};class v extends Error{constructor(e){super(e)}}t.FailedToUpdateConfigFile=v,t.dictionaryDefinitionToCustomDictDef=function(e){return{name:e.name,uri:r.Uri.file(e.path)}}},3186:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.UnableToAddWordError=t.DictionaryTargetError=t.DictionaryHelper=void 0;const a=n(2380),c=o(n(890)),u=n(2037),l=o(n(9496)),d=n(9496),h=n(355),p=n(1750),f=n(8781),g=n(4545),m=n(5026),y=n(5076),v=n(3487),b=n(8506),S=n(3047),C=n(6177),D=n(94),w=n(6225);function E(e){return!!e.uri}async function x(e){const t=_(e);if(t)return await T(t.uri),t}function _(e){const t=m.CSpellConfigRepository.isCSpellConfigRepository(e)?function(e){const t=e.defaultDictionaryScope,n=k(t),i=h.Utils.dirname(e.configFileUri),r=`${b.cspellConfigDirectory}/${n}.txt`;return{uri:d.Uri.joinPath(i,r),relPath:"./"+r,name:n,scope:t}}(e):m.VSCodeRepository.isVSCodeRepository(e)?function(e){const t=(0,w.configurationTargetToDictionaryScope)(e.target);if(e.target===l.ConfigurationTarget.Global){const e=k(t),n=`${b.cspellConfigDirectory}/${e}.txt`,i=d.Uri.file((0,u.homedir)());return{uri:d.Uri.joinPath(i,n),relPath:"~/"+n,name:e,scope:t}}const n=e.getWorkspaceFolder();if(!n)return;const i="folder"===t?"-"+function(e){return e.toLowerCase().replace(/[^\w]/g,"-")}(n.name):"",r=k((0,w.configurationTargetToDictionaryScope)(e.target))+i,o=`${b.cspellConfigDirectory}/${r}.txt`;return{uri:d.Uri.joinPath(n.uri,o),relPath:`\${workspaceFolder:${n.name}}/${o}`,name:r,scope:t}}(e):void 0;return t}function k(e){return e?`custom-dictionary-${e}`:"custom-dictionary"}async function T(e,t=!1){(t=t||!await(0,a.fileExists)(e))&&(await c.mkdirp(h.Utils.dirname(e).fsPath),await c.writeFile(e.fsPath,"# Custom Dictionary Words\n","utf8"))}async function F(e,t){const n=m.CSpellConfigRepository.isCSpellConfigRepository(e)?function(e){const t=e.name;return(0,v.configUpdaterForKeys)([g.ConfigFields.dictionaries,g.ConfigFields.dictionaryDefinitions],(n=>{const{dictionaries:i=[],dictionaryDefinitions:r=[]}=n,o=new Map(r.map((e=>[e.name,e]))),s=new Set(i);return o.set(t,e),s.add(t),{dictionaries:[...s],dictionaryDefinitions:[...o.values()]}}))}(t):m.VSCodeRepository.isVSCodeRepository(e)?function(e){const t=e.name;return(0,v.configUpdaterForKeys)([g.ConfigFields.customDictionaries,g.ConfigFields.customFolderDictionaries,g.ConfigFields.customWorkspaceDictionaries,g.ConfigFields.customUserDictionaries],(n=>{const i=R(n),{customDictionaries:r}=i,o=s(i,["customDictionaries"]);return r[t]=e,Object.assign(Object.assign({},o),{customDictionaries:r})}))}(t):void 0;if(!n)throw Error(`Unsupported config ${e.kind}`);return e.update(n)}function R(e){const{customDictionaries:t={},customFolderDictionaries:n=[],customWorkspaceDictionaries:i=[],customUserDictionaries:r=[]}=e,o=[r.map(A("user")),i.map(A("workspace")),n.map(A("folder"))].reduce(P,t);return{customDictionaries:Object.assign(Object.assign({},o),t),customFolderDictionaries:void 0,customWorkspaceDictionaries:void 0,customUserDictionaries:void 0}}function A(e){return t=>"string"==typeof t?t:Object.assign(Object.assign({},t),{scope:t.scope||e})}function P(e,t){return t.reduce(O,e)}function O(e,t){const n=Object.assign({},e);return"string"==typeof t?n[t]=!0:n[t.name]=t,n}t.DictionaryHelper=class{constructor(e){this.client=e}async addWordsToTargets(e,t,n){const i=await this.resolveTargets(t,n);if(i)return this.addWordToDictionaries(e,i)}addWordsToConfigRep(e,t){const n=(0,S.createDictionaryTargetForConfigRep)(t);return this.addWordToDictionary(e,n)}addWordToDictionaries(e,t){return Promise.all(t.map((t=>this.addWordToDictionary(e,t)))).then()}async addWordToDictionary(e,t){e=(0,b.normalizeWords)(e);try{await t.addWords(e)}catch(n){throw new N(`Unable to add "${e}"`,t,e,n)}}async removeWordsFromTargets(e,t,n){e=(0,b.normalizeWords)(e);const i=await this.resolveTargets(t,n);if(i)return this.removeWordFromDictionaries(e,i)}removeWordsFromConfigRep(e,t){const n=(0,S.createDictionaryTargetForConfigRep)(t);return this.removeWordFromDictionary(e,n)}removeWordFromDictionaries(e,t){return Promise.all(t.map((t=>this.removeWordFromDictionary(e,t)))).then()}async removeWordFromDictionary(e,t){e=(0,b.normalizeWords)(e);try{await t.removeWords(e)}catch(n){throw new I(`Unable to remove "${e}" from "${t.name}"`,t,n)}}async addIssuesToDictionary(e){var t;if(!(e=e||(null===(t=l.window.activeTextEditor)||void 0===t?void 0:t.document)))return;const n=E(e)?e:await l.workspace.openTextDocument(e),i=(0,p.getCSpellDiags)(n.uri);if(!i.length)return;const r=new Set(i.map((e=>n.getText(e.range))));return this.addWordsToTargets([...r],y.dictionaryTargetBestMatches,n.uri)}async createCustomDictionary(e,t){const n=await x(e);if(!n)throw new Error("Unable to determine location to create dictionary.");if(await this.addCustomDictionaryToConfig(e,n.relPath,t||n.name,n.scope),m.CSpellConfigRepository.isCSpellConfigRepository(e)){const t=await l.window.showTextDocument(e.configFileUri,{viewColumn:l.ViewColumn.Active});(0,f.scrollToText)(t,"dictionaryDefinitions")}await l.window.showTextDocument(n.uri,{viewColumn:l.ViewColumn.Beside})}addCustomDictionaryToConfig(e,t,n,i){return F(e,{name:n,path:t,addWords:!0,scope:null!=i?i:e.defaultDictionaryScope})}async getDocConfig(e){if(e){const t=await l.workspace.openTextDocument(e);return this.client.getConfigurationForDocument(t)}return this.client.getConfigurationForDocument(void 0)}async resolveTargets(e,t){if("function"!=typeof e)return(0,C.configTargetsToDictionaryTargets)(e);const n=(await this.getDocConfig(t)).configTargets.map(D.mapConfigTargetToClientConfigTarget),i=await e(n);return i&&(0,C.configTargetsToDictionaryTargets)(i)}};class I extends Error{constructor(e,t,n){super(e),this.dictTarget=t,this.cause=n}}t.DictionaryTargetError=I;class N extends I{constructor(e,t,n,i){super(e,t,i),this.words=n,this.cause=i}}t.UnableToAddWordError=N,t.__testing__={addCustomDictionaryToConfig:F,calcDictInfoForConfigRep:_,combineCustomDictionaries:R,createCustomDictionaryFile:T,createCustomDictionaryForConfigRep:x,isTextDocument:E}},3047:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createDictionaryTargetForConfigRep=t.createDictionaryTargetForCSpell=t.createDictionaryTargetForFile=void 0;const s=n(745),a=n(4561),c=o(n(890)),u=o(n(1017)),l=n(3837),d=n(5026),h=n(3153),p=/(\.((gz|jsonc?|yaml|yml|c?js)$|trie\b)|^$|[/\\]$)/i;class f{constructor(e,t){this.uri=e,this.name=null!=t?t:(0,a.uriToName)(e)}addWords(e){return async function(e,t){return m((0,h.addWordsFn)(e),t)}(e,this)}removeWords(e){return m((0,h.removeWordsFn)(e),this)}}class g{constructor(e){this.rep=e,this.name=e.name}addWords(e){return this.rep.update((0,h.updaterAddWords)(e))}removeWords(e){return this.rep.update((0,h.updaterRemoveWords)(e))}}async function m(e,t){const n=t.uri.fsPath;if(p.test(n))return Promise.reject(new Error(`Failed to add words to dictionary "${t.name}", unsupported format: "${t.uri.fsPath}".`));try{const t=e((await c.readFile(n,"utf8").catch((()=>""))).split(/\r?\n/g).filter((e=>!!e)));await c.mkdirp(u.dirname(n)),await c.writeFile(n,t.join("\n").trim().concat("\n"))}catch(e){const n=(0,s.isErrnoException)(e)?e.message:(0,l.format)(e);return Promise.reject(new Error(`Failed to add words to dictionary "${t.name}", ${n}`))}}t.createDictionaryTargetForFile=function(e,t){const{uri:n,name:i}=function(e){const t=e;return"string"==typeof t.name&&"object"==typeof t.uri}(e)?e:{uri:e,name:t};return new f(n,i)},t.createDictionaryTargetForCSpell=function(e,t){return new g((0,d.createCSpellConfigRepository)(e,t))},t.createDictionaryTargetForConfigRep=function(e){return new g(e)}},6177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configTargetToDictionaryTarget=t.configTargetsToDictionaryTargets=void 0;const i=n(5023),r=n(3047);function o(e){const t=(0,i.configTargetToConfigRepo)(e);if(t)return(0,r.createDictionaryTargetForConfigRep)(t);if("dictionary"!==e.kind)throw new Error(`Unknown config target ${e.kind}`);return(0,r.createDictionaryTargetForFile)(e.dictionaryUri,e.name)}t.configTargetsToDictionaryTargets=function(e){return e.map(o)},t.configTargetToDictionaryTarget=o},6015:(e,t)=>{"use strict";function n(e){return t=>"object"==typeof t&&t.kind===e}Object.defineProperty(t,"__esModule",{value:!0}),t.orderScope=t.isClientConfigTargetVSCode=t.isClientConfigTargetCSpell=t.isClientConfigTargetDictionary=t.isClientConfigTargetOfKind=t.ConfigScopes=t.ConfigKinds=void 0,t.ConfigKinds={Dictionary:"dictionary",Cspell:"cspell",Vscode:"vscode"},t.ConfigScopes={Unknown:"unknown",User:"user",Workspace:"workspace",Folder:"folder"},t.isClientConfigTargetOfKind=function(e,t){return"object"==typeof e&&e.kind===t},t.isClientConfigTargetDictionary=n(t.ConfigKinds.Dictionary),t.isClientConfigTargetCSpell=n(t.ConfigKinds.Cspell),t.isClientConfigTargetVSCode=n(t.ConfigKinds.Vscode);const i={user:1,workspace:2,folder:3,unknown:4};function r(e,t){return i[e]-i[t]}function o(e,t){return i[t]-i[e]}t.orderScope=function(e,t=!0){return[...e].sort(t?o:r)}},4545:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigFields=void 0;const i=n(5239);t.ConfigFields=Object.assign(Object.assign({},i.ConfigFields),{"advanced.feature.useReferenceProviderRemove":"advanced.feature.useReferenceProviderRemove","advanced.feature.useReferenceProviderWithRename":"advanced.feature.useReferenceProviderWithRename",autoFormatConfigFile:"autoFormatConfigFile",allowedSchemas:"allowedSchemas",blockCheckingWhenAverageChunkSizeGreaterThan:"blockCheckingWhenAverageChunkSizeGreaterThan",blockCheckingWhenLineLengthGreaterThan:"blockCheckingWhenLineLengthGreaterThan",blockCheckingWhenTextChunkSizeGreaterThan:"blockCheckingWhenTextChunkSizeGreaterThan",checkLimit:"checkLimit",checkOnlyEnabledFileTypes:"checkOnlyEnabledFileTypes",customDictionaries:"customDictionaries",customFolderDictionaries:"customFolderDictionaries",customUserDictionaries:"customUserDictionaries",customWorkspaceDictionaries:"customWorkspaceDictionaries",diagnosticLevel:"diagnosticLevel",fixSpellingWithRenameProvider:"fixSpellingWithRenameProvider",logLevel:"logLevel",logFile:"logFile",mapOfEnabledFileTypes:"mapOfEnabledFileTypes",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",noSuggestDictionaries:"noSuggestDictionaries",showAutocompleteSuggestions:"showAutocompleteSuggestions",showCommandsInEditorContextMenu:"showCommandsInEditorContextMenu",showStatus:"showStatus",showStatusAlignment:"showStatusAlignment",showSuggestionsLinkInEditorContextMenu:"showSuggestionsLinkInEditorContextMenu",spellCheckDelayMs:"spellCheckDelayMs",spellCheckOnlyWorkspaceFiles:"spellCheckOnlyWorkspaceFiles",suggestionMenuType:"suggestionMenuType",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",workspaceRootPath:"workspaceRootPath"})},5085:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.stringifyJson=t.parseJson=t.FormatError=t.SysLikeError=t.UnhandledFileType=t.createConfigFileReaderWriter=t.isHandled=t.writeConfigFile=t.readConfigFile=t.updateConfigFile=void 0;const i=n(6724),r=n(9496),o=n(355),s=n(3419),a=n(3347),c=n(8850),u=Symbol("format"),l=[{match:/package\.json$/i,handler:e=>new x(e)},{match:/\.jsonc?$/i,handler:e=>new E(e)},{match:/\.ya?ml$/i,handler:e=>new _(e)}];function d(e){return function(e){const t=h(e);if(t)return t.handler(e);throw new g(e)}(e)}function h(e){const t=e.with({fragment:"",query:""}).toString();for(const e of l)if(e.match.test(t))return e}t.updateConfigFile=function(e,t){return d(e)._update(t)},t.readConfigFile=async function(e,t){try{const t=d(e);return await t._read()}catch(e){return c.vscodeFs.isFileNotFoundError(e)?Promise.resolve(t):Promise.reject(e)}},t.writeConfigFile=function(e,t){return d(e).write(t)},t.isHandled=function(e){return!!h(e)},t.createConfigFileReaderWriter=d;const p={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};function f(e,t){return e.catch((e=>{if(!c.vscodeFs.isFileNotFoundError(e))throw e;return t}))}class g extends Error{constructor(e){super(`Unhandled file type: "${o.Utils.basename(e)}"`)}}t.UnhandledFileType=g;class m extends Error{constructor(e,t,n){super(e),this.code=t,this.errno=n}}t.SysLikeError=m;class y extends Error{constructor(e){super(e)}}function v(e){const t=function(e){return{spaces:D(e),newlineAtEndOfFile:C(e)}}(e),n=(0,i.parse)(e);if(null==n)return{};if("object"!=typeof n)throw new y("Invalid cspell JSON file.");return S(n,t)}function b(e,t,n=!0){var r;const o=null==(s=e)||"object"!=typeof s?void 0:s[u];var s;t=(null==o?void 0:o.spaces)||t||4;const a=null===(r=null==o?void 0:o.newlineAtEndOfFile)||void 0===r||r,c=n?(0,i.stringify)(e,null,t):JSON.stringify(e,null,t);return a?c+"\n":c}function S(e,t){return null==e||"object"!=typeof e||(e[u]=t),e}function C(e){return/\n$/.test(e)}function D(e){const t=e.match(/^[ \t]+(?=")/m);if(t)return t[0]}t.FormatError=y,t.parseJson=v,t.stringifyJson=b;class w{constructor(e){this.uri=e}async read(e){return(0,a.extractKeys)(await this._read(),e)}update(e,t){return this._update((n=>e((0,a.extractKeys)(n,t))))}async mkdir(){return await c.vscodeFs.createDirectory(r.Uri.joinPath(this.uri,".."))}}class E extends w{async _update(e){const t=await f(this._read(),p),n=(0,i.assign)(t,e(t));return this.write(n)}async write(e){await this.mkdir();const t=b(e),n="\n"!==t[t.length-1]?t+"\n":t;return c.vscodeFs.writeFile(this.uri,n)}async _read(){const e=this.uri;return v(await c.vscodeFs.readFile(e,"utf8"))}}class x extends w{async _update(e){const t=v(await c.vscodeFs.readFile(this.uri,"utf8")),n=t.cspell||Object.assign({},p);return t.cspell=Object.assign(n,e(n)),c.vscodeFs.writeFile(this.uri,b(t,2,!1))}async write(e){const t=v(await c.vscodeFs.readFile(this.uri,"utf8"));return t.cspell=e,c.vscodeFs.writeFile(this.uri,b(t,2,!1))}async _read(){const e=v(await c.vscodeFs.readFile(this.uri,"utf8"));if(!e.cspell||"object"!=typeof e.cspell)throw new m("`cspell` section missing from package.json","ENOENT");return e.cspell}}class _ extends w{async _update(e){const t=await f(this._read(),p),n=Object.assign({},t,e(t));return this.write(n)}async write(e){return await this.mkdir(),c.vscodeFs.writeFile(this.uri,(0,s.stringify)(e))}async _read(){const e=await c.vscodeFs.readFile(this.uri,"utf8");return(0,s.parse)(e)}}t.__testing__={settingsFileTemplate:p,detectIndent:D,injectFormatting:S,SymbolFormat:u}},3347:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractKeys=void 0,t.extractKeys=function(e,t){const n={};for(const i of t)n[i]=e[i];return n}},5026:function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.VSCodeRepository=t.CSpellConfigRepository=t.createVSCodeConfigRepository=t.createCSpellConfigRepository=t.ConfigRepositoryBase=void 0;const r=n(4561),o=n(2131),s=n(9496),a=n(4545),c=n(5085),u=n(3487),l=n(6225),d=n(1419),h=n(3381);class p{setValue(e,t){return this.update((0,u.configUpdaterForKey)(e,t))}updateValue(e,t){return this.update((0,u.configUpdaterForKey)(e,t))}}t.ConfigRepositoryBase=p,t.createCSpellConfigRepository=function(e,t){const n=function(e){const t=e;return!!t.update&&!!t.uri}(e)?e:(0,c.createConfigFileReaderWriter)(e),i=!!(0,d.getSettingFromVSConfig)(a.ConfigFields.autoFormatConfigFile,n.uri);return new f(n,t,i)},t.createVSCodeConfigRepository=function(e,t,n){const i=function(e){return"object"==typeof e&&!!e.read&&!!e.write}(e)?e:(0,h.createVSConfigReaderWriter)(e,t,!!n);return new m(i)};class f extends p{constructor(e,t,n){super(),this.configRW=e,this.formatConfig=n,this.name=t||(0,r.uriToName)(e.uri),this.kind="cspell",this.configFileUri=e.uri}getValue(e){return this.configRW.read([e])}async update(e){const t=this.formatConfig,n=this.configFileUri,i=t?g(n):void 0;if(await(null==i?void 0:i.save()),await this.configRW.update(v(e),e.keys),t){const e=await s.commands.executeCommand("vscode.executeFormatDocumentProvider",n);if(!e||!e.length)return;const t=new s.WorkspaceEdit;t.set(n,e),await s.workspace.applyEdit(t);const r=i||g(n);r&&await r.save()}}static isCSpellConfigRepository(e){return e instanceof f}}function g(e){const t=e.toString(!0);return s.workspace.textDocuments.find((e=>e.uri.toString(!0)===t))}t.CSpellConfigRepository=f;class m extends p{constructor(e){super(),this.rw=e,this.name=e.name,this.defaultDictionaryScope=(0,l.configurationTargetToDictionaryScope)(e.target),this.kind="vscode"}get target(){return this.rw.target}get scope(){return this.rw.scope}getWorkspaceFolder(){var e,t;if("user"===this.defaultDictionaryScope)return;if("workspace"===this.defaultDictionaryScope)return null===(e=s.workspace.workspaceFolders)||void 0===e?void 0:e[0];const n=this.scope;return n?y(n)?n:S(n)?s.workspace.getWorkspaceFolder(n):b(n)?s.workspace.getWorkspaceFolder(n.uri):null===(t=s.workspace.workspaceFolders)||void 0===t?void 0:t[0]:void 0}update(e){const{fn:t,keys:n}=this.mappers(e.keys,e.updateFn);return this.rw.update(t,n)}getValue(e){return this.rw.read([e])}mappers(e,t){if(this.target!==s.ConfigurationTarget.Global)return{fn:t,keys:e};const n=new Set(e);return n.has(a.ConfigFields.words)&&n.add(a.ConfigFields.userWords),{fn:e=>function(e){const{words:t,userWords:n}=e,r=i(e,["words","userWords"]),o=Object.assign({},r);return Object.keys(e).includes(a.ConfigFields.words)&&(o.words=void 0,o.userWords=null==t?void 0:t.concat(n||[])),o}(t(function(e){var t;const{userWords:r,words:o}=e,s=i(e,["userWords","words"]),c=Object.assign({},s);return(n.has(a.ConfigFields.userWords)||r||o)&&(c.words=null!==(t=null==r?void 0:r.concat(null!=o?o:[]))&&void 0!==t?t:o),c}(e))),keys:[...n]}}static isVSCodeRepository(e){return e instanceof m}}function y(e){if(!e)return!1;const t=e;return S(t.uri)&&"string"==typeof t.name&&"number"==typeof t.index}function v(e){return t=>e.updateFn((0,o.pick)(t,e.keys))}function b(e){return"object"==typeof e&&S(e.uri)}function S(e){if("object"!=typeof e)return!1;if(e instanceof s.Uri)return!0;const t=e;return void 0!==t.scheme&&void 0!==t.authority&&void 0!==t.path}t.VSCodeRepository=m,t.__testing__={fnUpdateFilterKeys:v,hasUri:b,isUri:S,isWorkspaceFolder:y}},5023:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCannotFindConfigRepoForTarget=t.readFromConfigTargets=t.applyUpdateToConfigTargets=t.configTargetToConfigRepo=void 0;const i=n(2511),r=n(5026),o=n(6225),s=new Set(["dictionary","cspell","vscode"]);function a(e){if(!s.has(e.kind))throw new Error(`Unknown target ${e.kind}`);switch(e.kind){case"dictionary":return;case"cspell":return(0,r.createCSpellConfigRepository)((0,i.toUri)(e.configUri),e.name);case"vscode":return(0,r.createVSCodeConfigRepository)((0,o.dictionaryScopeToConfigurationTarget)(e.scope),e.configScope||e.docUri,!!e.useMerge)}}function c(e){const t=a(e);if(void 0===t)throw new u(e);return t}t.configTargetToConfigRepo=a,t.applyUpdateToConfigTargets=function(e,t){const n=t.map(c).map((t=>t.update(e)));return Promise.all(n).then((()=>{}))},t.readFromConfigTargets=function(e,t){const n=t.map((async t=>{const n=c(t);return[t,await n.getValue(e)]}));return Promise.all(n)};class u extends Error{constructor(e){super(`Cannot find appropriate config repository for ${e.kind}:${e.name}`),this.target=e}}t.ErrorCannotFindConfigRepoForTarget=u},5076:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.UnableToFindTarget=t.createClientConfigTargetVSCode=t.createClientConfigTargetDictionary=t.createClientConfigTargetCSpell=t.andPattern=t.negatePattern=t.createConfigTargetMatchPattern=t.doesTargetMatchPattern=t.filterClientConfigTarget=t.filterClientConfigTargets=t.quickPickTarget=t.quickPickTargets=t.quickPickBestMatchTarget=t.buildQuickPickMatchTargetFn=t.buildQuickPickBestMatchTargetFn=t._buildQuickPickBestMatchTargetFn=t.findBestMatchingConfigTargets=t.patternMatchAll=t.patternMatchNoDictionaries=t.dictionaryTargetBestMatchesVSCodeFolder=t.dictionaryTargetBestMatchesVSCodeWorkspace=t.dictionaryTargetBestMatchesVSCodeUser=t.dictionaryTargetBestMatchesCSpell=t.dictionaryTargetBestMatchesFolder=t.dictionaryTargetBestMatchesWorkspace=t.dictionaryTargetBestMatchesUser=t.dictionaryTargetBestMatches=t.matchScopeUnknown=t.matchScopeFolder=t.matchScopeWorkspace=t.matchScopeUser=t.matchScopeAllButUser=t.matchScopeAll=t.matchScopeNone=t.matchKindDictionary=t.matchKindVSCode=t.matchKindCSpell=t.matchKindConfig=t.matchKindAll=t.matchKindNone=void 0;const s=n(4561),a=o(n(9496)),c=n(2511),u=n(6015),l=n(6225);t.matchKindNone={dictionary:!1,cspell:!1,vscode:!1},t.matchKindAll={dictionary:!0,cspell:!0,vscode:!0},t.matchKindConfig={cspell:!0,vscode:!0},t.matchKindCSpell={cspell:!0},t.matchKindVSCode={vscode:!0},t.matchKindDictionary={dictionary:!0,cspell:!1,vscode:!1},t.matchScopeNone={unknown:!1,folder:!1,workspace:!1,user:!1},t.matchScopeAll={unknown:!0,folder:!0,workspace:!0,user:!0},t.matchScopeAllButUser={unknown:!0,folder:!0,workspace:!0,user:!1},t.matchScopeUser={user:!0},t.matchScopeWorkspace={workspace:!0},t.matchScopeFolder={folder:!0},t.matchScopeUnknown={unknown:!0};const d=Object.freeze(Object.values(u.ConfigKinds)),h=Object.freeze(Object.values({dictionary:"dictionary",cspell:"cspell",vscode:"vscode",unknown:"unknown",folder:"folder",workspace:"workspace",user:"user"}));function p(e,t){const n=[];for(const i of t)if(e[i.kind]&&e[i.scope]){if(n.length&&(n[0].kind!==i.kind||n[0].scope!==i.scope))break;n.push(i)}return n}function f(...e){return g(S(...e))}function g(e,t=!1){return async function(n){return m(p(e,n),t)}}async function m(e,t=!1){if(!e.length)throw new x("No matching configuration found.");if(1===e.length)return e;const n="Choose Destination",i=e.map((e=>({label:e.name,_found:e}))),r=t?await a.window.showQuickPick(i,{title:n,canPickMany:!0}):await a.window.showQuickPick(i,{title:n});return r?(Array.isArray(r)?r:[r]).map((e=>e._found)):void 0}function y(e,t){const n="function"==typeof t?t:v(t);return e.filter(n)}function v(e){return t=>b(t,e)}function b(e,t){return!!t[e.kind]&&!!t[e.scope]}function S(...e){let t={};for(const n of e)"string"==typeof n?t[n]=!0:t=C(t,n,h);return t}function C(e,t,n){const i=Object.assign({},e);for(const e of n){const n=t[e];void 0!==n&&(i[e]=n)}return i}function D(e,t){const n={};for(const i of t)n[i]=E(e[i]);return n}function w(e,t){return void 0===e?t:void 0===t?e:e&&t}function E(e){return void 0===e?void 0:!e}t.dictionaryTargetBestMatches=f(t.matchKindAll,t.matchScopeAllButUser),t.dictionaryTargetBestMatchesUser=f(t.matchKindAll,t.matchScopeUser),t.dictionaryTargetBestMatchesWorkspace=f(t.matchKindAll,t.matchScopeWorkspace),t.dictionaryTargetBestMatchesFolder=f(t.matchKindAll,t.matchScopeFolder),t.dictionaryTargetBestMatchesCSpell=f(t.matchKindCSpell,t.matchScopeAll),t.dictionaryTargetBestMatchesVSCodeUser=f(t.matchKindVSCode,t.matchScopeUser),t.dictionaryTargetBestMatchesVSCodeWorkspace=f(t.matchKindVSCode,t.matchScopeWorkspace),t.dictionaryTargetBestMatchesVSCodeFolder=f(t.matchKindVSCode,t.matchScopeFolder),t.patternMatchNoDictionaries=S(D(t.matchKindDictionary,d),t.matchScopeAll),t.patternMatchAll=S(t.matchKindAll,t.matchScopeAll),t.findBestMatchingConfigTargets=p,t._buildQuickPickBestMatchTargetFn=f,t.buildQuickPickBestMatchTargetFn=g,t.buildQuickPickMatchTargetFn=function(e){return async function(t){return m(y(t,e))}},t.quickPickBestMatchTarget=async function(e,t,n=!1){return g(t,n)(e)},t.quickPickTargets=m,t.quickPickTarget=async function(e){const t=await m(e,!1);return t&&t[0]},t.filterClientConfigTargets=y,t.filterClientConfigTarget=v,t.doesTargetMatchPattern=b,t.createConfigTargetMatchPattern=S,t.negatePattern=function(e){return D(e,h)},t.andPattern=function(e,t){return function(e,t,n){const i={};for(const r of n){const n=w(e[r],t[r]);void 0!==n&&(i[r]=n)}return i}(e,t,h)},t.createClientConfigTargetCSpell=function(e,t,n){return{kind:"cspell",scope:t,name:n||(0,s.uriToName)(e),configUri:e}},t.createClientConfigTargetDictionary=function(e,t,n){return{kind:"dictionary",scope:t,name:n||(0,s.uriToName)(e),dictionaryUri:e}},t.createClientConfigTargetVSCode=function(e,t,n){const i=(0,l.configurationTargetToDictionaryScope)(e);return{kind:"vscode",scope:i,name:i,docUri:(0,c.toUri)(t),configScope:n}};class x extends Error{constructor(e){super(e)}}t.UnableToFindTarget=x},3487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configUpdaterForKeys=t.configUpdaterForKey=void 0,t.configUpdaterForKey=function(e,t){const n=function(e,t){return"function"==typeof t?t:()=>t}(0,t);return{updateFn:t=>({[e]:n(t[e])}),keys:[e]}},t.configUpdaterForKeys=function(e,t){return{updateFn:"function"==typeof t?t:()=>t,keys:e}}},3153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeWordsFn=t.addWordsFn=t.updaterRemoveWords=t.updaterAddWords=void 0;const i=n(3487);function r(e=[]){return t=>s([...new Set((t||[]).concat(e))])}function o(e){return t=>{const n=new Set(t||[]);for(const t of e)n.delete(t);return s([...n])}}function s(e){return e.sort(a)}function a(e,t){return e.localeCompare(t)}t.updaterAddWords=function(e){return(0,i.configUpdaterForKey)("words",r(e))},t.updaterRemoveWords=function(e){return(0,i.configUpdaterForKey)("words",o(e))},t.addWordsFn=r,t.removeWordsFn=o},8850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vscodeFs=void 0;const i=n(745),r=n(9496),o=r.workspace.fs,s={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0},a=r.FileSystemError.FileNotFound().code;s[a]=!0,t.vscodeFs={createDirectory:async function(e){return await o.createDirectory(e)},writeFile:async function(e,t,n="utf8"){return await o.writeFile(e,Buffer.from(t,n))},readFile:async function(e,t){return Buffer.from(await o.readFile(e)).toString(t)},fileExists:async function(e){try{return!!(await r.workspace.fs.stat(e)).type}catch(e){if(!(e instanceof r.FileSystemError))throw e;return!1}},isFileNotFoundError:function(e){return!!(0,i.isErrorCodeException)(e)&&e.code in s}}},2979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sectionCSpell=t.Scopes=t.normalizeTarget=t.inspectConfigKeys=t.inspectConfig=t.getSettingsFromVSConfig=t.getSettingFromVSConfig=t.getScopedSettingFromVSConfig=t.ConfigurationTarget=t.toggleEnableSpellChecker=t.setEnableSpellChecking=t.enableLocaleForTarget=t.enableLanguageIdForTarget=t.enableLanguageId=t.disableLanguageId=t.createConfigFileRelativeToDocumentUri=t.addIgnoreWordsToSettings=t.configFilesToWatch=t.configFileLocationGlob=t.ConfigFields=void 0;var i=n(4545);Object.defineProperty(t,"ConfigFields",{enumerable:!0,get:function(){return i.ConfigFields}});var r=n(8506);Object.defineProperty(t,"configFileLocationGlob",{enumerable:!0,get:function(){return r.configFileLocationGlob}}),Object.defineProperty(t,"configFilesToWatch",{enumerable:!0,get:function(){return r.configFilesToWatch}});var o=n(9273);Object.defineProperty(t,"addIgnoreWordsToSettings",{enumerable:!0,get:function(){return o.addIgnoreWordsToSettings}}),Object.defineProperty(t,"createConfigFileRelativeToDocumentUri",{enumerable:!0,get:function(){return o.createConfigFileRelativeToDocumentUri}}),Object.defineProperty(t,"disableLanguageId",{enumerable:!0,get:function(){return o.disableLanguageId}}),Object.defineProperty(t,"enableLanguageId",{enumerable:!0,get:function(){return o.enableLanguageId}}),Object.defineProperty(t,"enableLanguageIdForTarget",{enumerable:!0,get:function(){return o.enableLanguageIdForTarget}}),Object.defineProperty(t,"enableLocaleForTarget",{enumerable:!0,get:function(){return o.enableLocaleForTarget}}),Object.defineProperty(t,"setEnableSpellChecking",{enumerable:!0,get:function(){return o.setEnableSpellChecking}}),Object.defineProperty(t,"toggleEnableSpellChecker",{enumerable:!0,get:function(){return o.toggleEnableSpellChecker}});var s=n(1419);Object.defineProperty(t,"ConfigurationTarget",{enumerable:!0,get:function(){return s.ConfigurationTarget}}),Object.defineProperty(t,"getScopedSettingFromVSConfig",{enumerable:!0,get:function(){return s.getScopedSettingFromVSConfig}}),Object.defineProperty(t,"getSettingFromVSConfig",{enumerable:!0,get:function(){return s.getSettingFromVSConfig}}),Object.defineProperty(t,"getSettingsFromVSConfig",{enumerable:!0,get:function(){return s.getSettingsFromVSConfig}}),Object.defineProperty(t,"inspectConfig",{enumerable:!0,get:function(){return s.inspectConfig}}),Object.defineProperty(t,"inspectConfigKeys",{enumerable:!0,get:function(){return s.inspectConfigKeys}}),Object.defineProperty(t,"normalizeTarget",{enumerable:!0,get:function(){return s.normalizeTarget}}),Object.defineProperty(t,"Scopes",{enumerable:!0,get:function(){return s.Scopes}}),Object.defineProperty(t,"sectionCSpell",{enumerable:!0,get:function(){return s.sectionCSpell}})},2187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.languageIds=void 0,t.languageIds=["asciidoc","bat","c","clojure","coffeescript","cpp","csharp","css","dart","diff","dockerfile","elixir","erlang","fsharp","git-commit","git-rebase","go","groovy","handlebars","html","ini","jade","java","javascript","javascriptreact","json","julia","less","lua","makefile","markdown","objective-c","perl","perl6","php","plaintext","powershell","properties","pug","python","r","razor","ruby","rust","scss","shaderlab","shellscript","sql","swift","typescript","typescriptreact","vb","vue","xml","xsl","yaml"]},94:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapConfigTargetToClientConfigTarget=void 0;const i=n(2511);t.mapConfigTargetToClientConfigTarget=function(e){switch(e.kind){case"vscode":return function(e){const{name:t,kind:n,scope:r,docUri:o}=e;return{name:t,kind:n,scope:r,docUri:(0,i.toUri)(o),configScope:void 0}}(e);case"cspell":return function(e){const{name:t,kind:n,scope:r,configUri:o,docUri:s}=e;return{name:t,kind:n,scope:r,docUri:(0,i.toUri)(s),configUri:(0,i.toUri)(o)}}(e);case"dictionary":return function(e){const{name:t,kind:n,scope:r,dictionaryUri:o,docUri:s}=e;return{name:t,kind:n,scope:r,docUri:(0,i.toUri)(s),dictionaryUri:(0,i.toUri)(o)}}(e)}}},3498:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcRelevantTargetInfo=t.findInheritedTargetValue=t.setConfigFieldQuickPick=t.setConfigFieldQuickPickBestTarget=t.orderTargetsLocalToGlobal=t.applyToConfig=t.readConfigTargetValues=t.normalizeLocale=void 0;const i=n(6015),r=n(5023),o=n(5076),s=n(3487);var a=n(9540);function c(e,t,n,i){e=i?(0,o.filterClientConfigTargets)(e,i):e;const a=(0,s.configUpdaterForKey)(t,n);return(0,r.applyUpdateToConfigTargets)(a,e)}function u(e){const t=e.map((e=>e.scope)),n=(0,i.orderScope)(t,!0),r=[];return n.map((t=>e.filter((e=>e.scope===t)))).forEach((e=>e.forEach((e=>r.push(e))))),r}Object.defineProperty(t,"normalizeLocale",{enumerable:!0,get:function(){return a.normalizeLocale}}),t.readConfigTargetValues=function(e,t){return(0,r.readFromConfigTargets)(t,e)},t.applyToConfig=c,t.orderTargetsLocalToGlobal=u,t.setConfigFieldQuickPickBestTarget=async function(e,t,n){const i=await(0,o.quickPickBestMatchTarget)(e,o.patternMatchNoDictionaries);if(i&&i.length)return c(i,t,n)},t.setConfigFieldQuickPick=async function(e,t,n){const i=await(0,o.quickPickTargets)(e);if(i&&i.length)return c(i,t,n)},t.findInheritedTargetValue=function(e,t,n){var i;let r;for(const[o,s]of[...e].reverse()){if(o===t)return r;r=null!==(i=s[n])&&void 0!==i?i:r}return r},t.calcRelevantTargetInfo=function(e){const{targets:t,scopes:n}=e,r=new Set((0,i.orderScope)(n)),o=u(t),s=o.filter((e=>r.has(e.scope)));return{targets:t,possibleScopes:n,orderedTargets:o,possibleTargets:s}}},1536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleEnableSpellChecker=t.setEnableSpellChecking=void 0;const i=n(3498),r="enabled";t.setEnableSpellChecking=function(e,t){const{possibleTargets:n}=(0,i.calcRelevantTargetInfo)(e);return(0,i.setConfigFieldQuickPick)(n,r,t)},t.toggleEnableSpellChecker=async function(e){var t,n;const{possibleTargets:o,orderedTargets:s}=(0,i.calcRelevantTargetInfo)(e),a=new Map(await(0,i.readConfigTargetValues)(s,r)),c=o.filter((e=>{var t;return void 0!==(null===(t=a.get(e))||void 0===t?void 0:t.enabled)}));if(!o.length)return;const u=null!==(t=c[c.length-1])&&void 0!==t?t:o[o.length-1],l=null===(n=a.get(u))||void 0===n?void 0:n.enabled,d=(0,i.findInheritedTargetValue)(a,u,r),h=null==d||d,p=null!=l?l:h,f=h!==p?void 0:!p;return(0,i.applyToConfig)([u],r,(()=>f))}},8682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.enableLocaleForTarget=void 0;const i=n(6015),r=n(5076),o=n(3498);function s(e){return(0,o.normalizeLocale)(e).split(",").filter((e=>!!e))}function a(e,t){const n=s(e),i=new Set(s(t||""));return n.forEach((e=>i.add(e))),[...i].join(",")||void 0}function c(e,t){const n=s(e),i=new Set(s(t||""));return n.forEach((e=>i.delete(e))),[...i].join(",")||void 0}function u(e,t){if(!e||!t)return!1;const n=new Set(s(e)),i=s(t);for(const e of i)if(n.has(e))return!0;return!1}function l(e,t){if(!e||!t)return!1;const n=new Set(s(t)),i=s(e);for(const e of i)if(!n.has(e))return!1;return!0}t.enableLocaleForTarget=async function(e,t,n,s){n=n.map((e=>{var t;return Object.assign(Object.assign({},e),{useMerge:null!==(t=e.useMerge)&&void 0!==t?t:"vscode"===e.kind})}));const d=new Set((0,i.orderScope)(s)),h=new Set((0,o.orderTargetsLocalToGlobal)(n)),p=new Map(await(0,o.readConfigTargetValues)([...h],"language")),f=new Set([...h].filter((e=>d.has(e.scope))));if(t){const t=[...f],n=new Set([...p].filter((([t,n])=>l(e,n.language))).map((([e])=>e)));let i=!1;for(const e of f)i=i||n.has(e),i&&f.delete(e);f.size||t.filter((e=>!n.has(e))).forEach((e=>f.add(e)))}else[...p].filter((([t,n])=>!u(e,n.language))).forEach((([e])=>f.delete(e)));const g=f.size>1?await(0,r.quickPickTarget)([...f]):[...f][0];if(!g)return;const m=function(e,t,n){var i;const r=[...n].reverse();let o;for(const[e,n]of r)if(o=null!==(i=n.language)&&void 0!==i?i:o,e===t)break;return o}(0,g,p),y=t?t=>a(e,t||m):t=>c(e,t);return(0,o.applyToConfig)([g],"language",y)},t.__testing__={addLocaleToCurrentLocale:a,removeLocaleFromCurrentLocale:c,doLocalesIntersect:u,isLocaleSubsetOf:l}},9273:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createConfigFileRelativeToDocumentUri=t.createConfigFile=t.enableLanguageIdForTarget=t.addIgnoreWordsToSettings=t.disableLanguageId=t.enableLanguageId=t.hasWorkspaceLocation=t.enableLocaleForTarget=t.toggleEnableSpellChecker=t.setEnableSpellChecking=void 0;const s=o(n(9496)),a=n(9496),c=n(9759),u=n(5085),l=n(8506),d=n(8850),h=n(3498);var p=n(1536);Object.defineProperty(t,"setEnableSpellChecking",{enumerable:!0,get:function(){return p.setEnableSpellChecking}}),Object.defineProperty(t,"toggleEnableSpellChecker",{enumerable:!0,get:function(){return p.toggleEnableSpellChecker}});var f=n(8682);function g(e,t,n){return(0,h.setConfigFieldQuickPick)(n,"enableFiletypes",(n=>function(e,t,n){const i=new Set(n||[]),r="!"+e;return t?i.has(r)?i.delete(r):i.add(e):i.has(e)?i.delete(e):i.add(r),i.size?[...i].sort():void 0}(e,t,n)))}Object.defineProperty(t,"enableLocaleForTarget",{enumerable:!0,get:function(){return f.enableLocaleForTarget}}),t.hasWorkspaceLocation=function(){var e;return!!a.workspace.workspaceFile||!!(null===(e=a.workspace.workspaceFolders)||void 0===e?void 0:e[0])},t.enableLanguageId=async function(e,t){await g(t,!0,e)},t.disableLanguageId=async function(e,t){await g(t,!1,e)},t.addIgnoreWordsToSettings=function(e,t){const n=(0,l.normalizeWords)(t);return(0,h.setConfigFieldQuickPick)(e,"ignoreWords",(e=>(0,c.unique)(n.concat(e||[]).sort())))},t.enableLanguageIdForTarget=g;const m={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};async function y(e,t){if(!t&&await d.vscodeFs.fileExists(e)){const e="Overwrite";if(await s.window.showWarningMessage("Configuration file already exists.",{modal:!0},e)!==e)return}return await(0,u.writeConfigFile)(e,m),e}t.createConfigFile=y,t.createConfigFileRelativeToDocumentUri=async function(e,t){const n=(i=e)&&s.workspace.getWorkspaceFolder(i)||(null===(r=a.workspace.workspaceFolders)||void 0===r?void 0:r[0]);var i,r;if(!n)throw new Error("Unable to determine location for configuration file.");if("file"!==n.uri.scheme)throw new Error(`Unsupported scheme: ${n.uri.scheme}`);const o=new Set(l.preferredConfigFiles);await function(e){return async function(e){const t=a.Uri.joinPath(e,"package.json");try{return(await a.workspace.fs.stat(t)).type===s.FileType.File}catch(e){return!1}}(e.uri)}(n)||o.delete("package.json");const c=await s.window.showQuickPick([...o],{title:"Choose config file"});if(!c)return;const u=a.Uri.joinPath(n.uri,c);return await y(u,t),u}},6225:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configurationTargetToClientConfigScopeInfluenceRange=t.configurationTargetToClientConfigScope=t.clientConfigScopeToConfigurationTarget=t.dictionaryScopeToConfigurationTarget=t.configurationTargetToDictionaryScope=void 0;const i=n(9496),r={[i.ConfigurationTarget.Global]:"user",[i.ConfigurationTarget.Workspace]:"workspace",[i.ConfigurationTarget.WorkspaceFolder]:"folder"},o={user:i.ConfigurationTarget.Global,workspace:i.ConfigurationTarget.Workspace,folder:i.ConfigurationTarget.WorkspaceFolder},s=[i.ConfigurationTarget.Global,i.ConfigurationTarget.Workspace,i.ConfigurationTarget.WorkspaceFolder];function a(e){return o[e]}function c(e){return r[e]}t.configurationTargetToDictionaryScope=function(e){return r[e]},t.dictionaryScopeToConfigurationTarget=function(e){return a(e)},t.clientConfigScopeToConfigurationTarget=a,t.configurationTargetToClientConfigScope=c,t.configurationTargetToClientConfigScopeInfluenceRange=function(e){const t=[],n=s.indexOf(e);if(n<0)return t;for(let e=n;e<s.length;++e)t.push(c(s[e]));return t.push("unknown"),t}},1419:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__testing__=t.updateConfig=t.calculateConfigForTarget=t.normalizeTarget=t.getConfiguration=t.extractTargetUri=t.extractTarget=t.createTargetForDocument=t.createTargetForUri=t.isGlobalTarget=t.extractScope=t.toScope=t.configTargetToScope=t.configurationTargetToName=t.getConfigurationTargetFromLegacy=t.isConfigTargetWithOptionalResource=t.isConfigTargetWithResource=t.isFolderLevelTarget=t.isWorkspaceLevelTarget=t.isGlobalLevelTarget=t.inspectConfigKeys=t.inspectConfigByScopeAndKey=t.inspectConfig=t.setSettingInVSConfig=t.inspectSettingFromVSConfig=t.findScopedSettingFromVSConfig=t.getScopedSettingFromVSConfig=t.inspectScopedSettingFromVSConfig=t.getSettingFromVSConfig=t.getSettingsFromVSConfig=t.getSectionName=t.Scopes=t.GlobalTarget=t.sectionCSpell=t.ConfigurationTarget=void 0;const i=n(9496),r=n(6742),o=n(8422);var s=n(9496);Object.defineProperty(t,"ConfigurationTarget",{enumerable:!0,get:function(){return s.ConfigurationTarget}}),t.sectionCSpell=r.extensionId,t.GlobalTarget=i.ConfigurationTarget.Global,t.Scopes={Default:"defaultValue",Global:"globalValue",Workspace:"workspaceValue",Folder:"workspaceFolderValue"};const a=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],c=new Map(a.map(((e,t)=>[e,t])));function u(e){return[t.sectionCSpell,e].filter((e=>!!e)).join(".")}function l(e,t){return function(e,t){for(let n=c.get(t);n>=0;n-=1){const t=a[n],i=e[t];if(void 0!==i)return{scope:t,value:i}}return{scope:"defaultValue",value:void 0}}(d(e,(t=C(t)).resource),t.scope)}function d(e,t){return h(t,e)}function h(e,n){const i=_(e),r=[t.sectionCSpell,n].join(".");return i.inspect(r)||{key:r}}function p(e,n){const i=[t.sectionCSpell,n].join(".");return e.inspect(i)||{key:i}}function f(e,t){const n=_(e),i={};for(const e of t){const t={[e]:p(n,e)};Object.assign(i,t)}return i}function g(e){return m(e)&&void 0!==e.uri}function m(e){return"object"==typeof e&&void 0!==e.target}t.getSectionName=u,t.getSettingsFromVSConfig=function(e){return _(e).get(t.sectionCSpell,{})},t.getSettingFromVSConfig=function(e,n){return _(n).get(t.sectionCSpell,{})[e]},t.inspectScopedSettingFromVSConfig=function(e,t){const n=d(e,(t=C(t)).resource);return null==n?void 0:n[t.scope]},t.getScopedSettingFromVSConfig=function(e,t){return l(e,t).value},t.findScopedSettingFromVSConfig=l,t.inspectSettingFromVSConfig=d,t.setSettingInVSConfig=function(e,t,n){const i=k(n),r=E(i),o=x(i),s=u(e),a=_(o);return Promise.resolve(a.update(s,t,r))},t.inspectConfig=function(e){return _(e).inspect(t.sectionCSpell)||{key:t.sectionCSpell}},t.inspectConfigByScopeAndKey=h,t.inspectConfigKeys=f,t.isGlobalLevelTarget=function(e){return m(e)&&e.target===i.ConfigurationTarget.Global||e===i.ConfigurationTarget.Global},t.isWorkspaceLevelTarget=function(e){return m(e)&&e.target===i.ConfigurationTarget.Workspace},t.isFolderLevelTarget=function(e){return g(e)&&e.target===i.ConfigurationTarget.WorkspaceFolder},t.isConfigTargetWithResource=g,t.isConfigTargetWithOptionalResource=m,t.getConfigurationTargetFromLegacy=function(e){return"object"==typeof e?e.target:e};const y={[i.ConfigurationTarget.Global]:"globalValue",[i.ConfigurationTarget.Workspace]:"workspaceValue",[i.ConfigurationTarget.WorkspaceFolder]:"workspaceFolderValue"},v={[i.ConfigurationTarget.Global]:"user",[i.ConfigurationTarget.Workspace]:"workspace",[i.ConfigurationTarget.WorkspaceFolder]:"folder"};function b(e){return y[e]}function S(e){return"object"==typeof e}function C(e){return S(e)?{scope:e.scope,resource:e.scope===t.Scopes.Folder?D(e.resource):void 0}:{scope:e,resource:void 0}}function D(e){if(e){const t=i.workspace.getWorkspaceFolder(e);return null==t?void 0:t.uri}}function w(e,t){return{target:e,uri:t}}function E(e){return m(e)?e.target:e}function x(e){return m(e)?e.uri:void 0}function _(e){return i.workspace.getConfiguration(void 0,function(e){return function(e){if(!e||"object"!=typeof e)return!1;const t=e;return void 0!==t.authority&&void 0!==t.fragment&&null!=t.path&&null!=t.query&&null!=t.scheme}(e)?(0,o.findConicalDocumentScope)(O(e)):function(e){return!(!e||"object"!=typeof e)&&void 0!==e.uri}(e)?I(e.uri)?e:Object.assign(Object.assign({},e),{uri:O(e.uri)}):e}(e))}function k(e){return m(e)?e:{target:e,uri:void 0}}function T(e,t,n,i){const r={},o=f(t,n),s=i?F:R;for(const t of n)s(r,e,t,o);return r}function F(e,t,n,i){const r=A(t,i[n]);void 0!==r&&(e[n]=r)}function R(e,t,n,r){const o=function(e,t){var n,r,o;if(void 0!==t)switch(e){case i.ConfigurationTarget.Global:return null!==(n=t.globalLanguageValue)&&void 0!==n?n:t.globalValue;case i.ConfigurationTarget.Workspace:return null!==(r=t.workspaceLanguageValue)&&void 0!==r?r:t.workspaceValue;case i.ConfigurationTarget.WorkspaceFolder:return null!==(o=t.workspaceFolderLanguageValue)&&void 0!==o?o:t.workspaceFolderValue}}(t,r[n]);void 0!==o&&(e[n]=o)}function A(e,t){if(void 0===t)return;let n=P(t.defaultValue,t.defaultLanguageValue,t.globalValue,t.globalLanguageValue);if(e===i.ConfigurationTarget.Global)return n;if(n=P(n,t.workspaceValue,t.workspaceLanguageValue),e===i.ConfigurationTarget.Workspace)return n;if(n=P(n,t.workspaceFolderValue,t.workspaceFolderLanguageValue),e!==i.ConfigurationTarget.WorkspaceFolder)throw new Error(`Unknown Config Target "${e}"`);return n}function P(...e){let t;for(const n of e)void 0!==n&&(t="object"!=typeof t||"object"!=typeof n||Array.isArray(n)||Array.isArray(t)?n:Object.assign({},t,n));return t}function O(e){return I(e)?e:i.Uri.parse(e.toString())}function I(e){return e instanceof i.Uri}t.configurationTargetToName=function(e){return v[e]},t.configTargetToScope=function(e){return m(e)?{scope:b(e.target),resource:e.uri||void 0}:y[e]},t.toScope=b,t.extractScope=function(e){return S(e)?e.scope:e},t.isGlobalTarget=function(e){return E(e)===i.ConfigurationTarget.Global},t.createTargetForUri=w,t.createTargetForDocument=function(e,t){return w(e,t.uri)},t.extractTarget=E,t.extractTargetUri=x,t.getConfiguration=_,t.normalizeTarget=k,t.calculateConfigForTarget=T,t.updateConfig=function(e,t,n,i,o){const s=i(T(e,t,n,o)),a=_(t),c=Object.entries(s).map((([t,n])=>a.update(`${r.extensionId}.${t}`,n,e)));return Promise.all(c).then()},t.__testing__={mergeInspect:A}},3381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createVSConfigReaderWriter=void 0;const i=n(1419),r=n(6225);t.createVSConfigReaderWriter=function(e,t,n){return new o(e,t,n)};class o{constructor(e,t,n){this.target=e,this.scope=t,this.useMerge=n,this.name=(0,r.configurationTargetToDictionaryScope)(e)}async read(e){return(0,i.calculateConfigForTarget)(this.target,this.scope,e,this.useMerge)}async write(e){await(0,i.updateConfig)(this.target,this.scope,[],(()=>e),!1)}async update(e,t){await(0,i.updateConfig)(this.target,this.scope,t,e,this.useMerge)}}},4196:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.initStatusBar=void 0;const s=o(n(1017)),a=n(9496),c=o(n(9496)),u=o(n(8976)),l=n(4561),d=n(2979),h=n(1750);t.initStatusBar=function(e,t){const n=a.workspace.getConfiguration().get(d.sectionCSpell),{showStatusAlignment:i}=n,r=function(e){switch(e){case"Left":return c.StatusBarAlignment.Left;case"Right":return c.StatusBarAlignment.Right}return c.StatusBarAlignment.Left}(i),o=a.window.createStatusBarItem("spell checker status id",r);o.name="Code Spell Checker";let p,f="";function g(e,t){if(p)return p.stale=p.stale||!p.pending||p.document!==e,p.document=e,void(p.showClock=t);if((null==t||t)&&(o.text="$(clock) Spell",o.tooltip="cSpell waiting...",o.show()),!e)return;const n={document:e,showClock:t,value:m(e,t).catch(),pending:!0,stale:!1};function i(e,t=!1){if(e.pending=!1,p===e)return e.stale?(p=void 0,void g(e.document,e.showClock)):void(t?setTimeout((()=>i(e)),1e3):p=void 0)}n.value.finally((()=>{i(n,!0)})),p=n}async function m(e,n){var i,r;if((null==n||n)&&(o.text="$(clock) Spell",o.tooltip="cSpell waiting...",o.show()),!e)return;const{uri:d,languageId:p=""}=e;f=d.toString();const g=await t.isSpellCheckEnabled(e),m=null===(r=null===(i=a.window.activeTextEditor)||void 0===i?void 0:i.document)||void 0===r?void 0:r.uri;if((null==m?void 0:m.toString())===g.uri.toString()||!m||"file"!==m.scheme){const e=(0,h.getCSpellDiags)(m),{languageEnabled:t=!0,fileEnabled:n=!0}=g,i=t&&n?"is":"is NOT",r=t?"":`The "${p}" filetype is not enabled.`,a=function(e){var t;if(e.blockedReason)return e.blockedReason.message;if(e.fileEnabled)return"";if(e.gitignored)return"The file is excluded by .gitignore.";if(!(null===(t=e.excludedBy)||void 0===t?void 0:t.length))return"The file path is excluded in settings.";const n=e.excludedBy[0],{glob:i,name:r,id:o}=n,s=n.configUri&&(0,l.uriToName)(c.Uri.parse(n.configUri));return`File excluded by ${JSON.stringify(i)} in ${s||o||r||"settings"}`}(g),f=s.basename(d.fsPath),y=`Issues: ${e.length}`;o.text=function({languageEnabled:e,fileEnabled:t,diags:n}){return e&&t?n.length?`$(warning) ${n.length} Spell`:"$(check) Spell":"$(exclude) Spell"}({languageEnabled:t,fileEnabled:n,diags:e});const v=[y,`"${f}" ${i} spell checked.`,r,a].filter((e=>!!e)).join("\n");o.tooltip=v,o.command=u.commandDisplayCSpellInfo,o.show()}}function y(e,t){const n=(0,l.isSupportedDoc)(e)?e:b(),i=a.workspace.getConfiguration(void 0,e).get(d.sectionCSpell),{enabled:r,showStatus:s=!0}=i;s?r?g(n,t):(o.text="$(stop) Spell",o.tooltip="Enable spell checking",o.command="cSpell.enableForGlobal",o.show()):o.hide()}function v(e){y(null==e?void 0:e.document)}function b(){if(a.window.activeTextEditor&&function(e){if(!e)return!1;const t=e.document;return(null==t?void 0:t.uri)&&(0,l.isSupportedUri)(t.uri)}(a.window.activeTextEditor))return a.window.activeTextEditor.document;const e=a.workspace.textDocuments.filter(l.isSupportedDoc);if(f){const t=e.find((e=>e.uri.toString()===f));if(t)return t}return e[0]}return o.text="$(clock)",o.show(),e.subscriptions.push(a.window.onDidChangeActiveTextEditor(v),a.workspace.onDidChangeConfiguration((function(e){const t=b();e.affectsConfiguration(d.sectionCSpell,null==t?void 0:t.uri)&&(setTimeout((()=>y(t,!1)),250),setTimeout((()=>y(t,!1)),2e3))})),a.workspace.onDidCloseTextDocument(y),c.languages.onDidChangeDiagnostics((function(e){for(const t of e.uris)if(t.toString()===f){setTimeout((()=>y(void 0,!1)),250);break}})),o),a.window.activeTextEditor&&v(a.window.activeTextEditor),{refresh(){const e=b();setTimeout((()=>y(e,!1)),250)}}}},7053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBroadcaster=t.Broadcaster=void 0;const i=n(9496);class r{constructor(){this.listeners=new Set}send(e){for(const t of this.listeners)t(e)}listen(e){return this.listeners.add(e),new i.Disposable((()=>this.listeners.delete(e)))}}t.Broadcaster=r,t.createBroadcaster=function(){return new r}},8422:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findConicalDocumentScope=void 0;const i=n(9496),r=Object.freeze(Object.assign(Object.create(null),{file:!0,untitled:!0})),o=Object.freeze(Object.assign(Object.create(null),{git:!0,output:!0,debug:!0,vscode:!0})),s=Object.freeze(Object.assign(Object.create(null),{"vscode-notebook-cell":!0}));t.findConicalDocumentScope=function(e){if(void 0===e)return;if(e.scheme in o)return;if(e.scheme in r)return e;const t=e.path;for(const e of i.workspace.notebookDocuments){const n=e.uri;if(n.path===t)return n}for(const e of i.workspace.textDocuments){const n=e.uri;if(n.path===t&&"file"===n.scheme)return n}return e.scheme in s?e.with({scheme:"file",query:"",fragment:""}):e}},8051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showErrors=t.silenceErrors=t.logErrors=t.catchErrors=t.handleErrors=t.ignoreError=t.logError=t.showError=t.ErrorHandlers=t.Resolvers=t.isError=void 0;const i=n(9496),r=n(3837);function o(e){if(!e||"object"!=typeof e)return!1;const t=e;return void 0!==t.message&&void 0!==t.name}function s(e,t){return!g(e)&&o(e)?(console.error(p(e,t)),d(i.window.showErrorMessage(e.message),"showError Resolver showErrorMessage").then((()=>{}))):Promise.resolve()}function a(e,t){return!g(e)&&o(e)&&console.log(p(e,t)),Promise.resolve()}function c(e,t){return p(e,t),Promise.resolve(void 0)}function u(e,t,n=s){return("function"==typeof e?(async()=>e())():e).catch(function(e,t){return n=>t(n,e)}(t,n))}function l(e,t){return u(Promise.resolve(e),t,a)}function d(e,t){return u(Promise.resolve(e),t,c)}function h(e,t){return u(Promise.resolve(e),t,s)}function p(e,t){return(0,r.format)("Error: context (%s): %o",t,e)}t.isError=o,t.Resolvers={logError:a,ignoreError:c,showError:s},t.ErrorHandlers={logErrors:l,silenceErrors:d,showErrors:h},t.showError=s,t.logError=a,t.ignoreError=c,t.handleErrors=u,t.catchErrors=function(e,t,n=s){return(...i)=>u((()=>e(...i)),t,n)},t.logErrors=l,t.silenceErrors=d,t.showErrors=h;const f="Canceled";function g(e){return e instanceof Error&&e.name===f&&e.message===f}},9759:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(2131),t)},5294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performance=t.toMilliseconds=t.calcDuration=t.PerformanceTimeline=t.EVENT_TIMELINE_START=t.EVENT_MODULE_LOAD=void 0,t.EVENT_MODULE_LOAD="module_load",t.EVENT_TIMELINE_START="timeline_start";const n=process.hrtime();class i{constructor(){this.timeLine=[],this.timeLineEvents=new Map,this.mark(t.EVENT_TIMELINE_START)}mark(e){const t={name:e,startTime:process.hrtime(n),duration:0};this.addEvent(t)}measure(e,i,o){const s=this.timeLineEvents.get(i)||this.timeLineEvents.get(t.EVENT_TIMELINE_START),a=this.timeLineEvents.get(o)||this.timeLineEvents.get(t.EVENT_TIMELINE_START),c=r(s.startTime,a.startTime),u={name:e,startTime:process.hrtime(n),duration:c};this.addEvent(u)}addEvent(e){this.timeLine.push(e),this.timeLineEvents.set(e.name,e)}getEntries(){return this.timeLine}getLatestEntryByName(e){return this.timeLineEvents.get(e)}getEntriesByName(e){return this.timeLine.filter((t=>t.name===e))}}function r(e,t){return o(t)-o(e)}function o(e){return 1e3*(e[0]+1e-9*e[1])}t.PerformanceTimeline=i,t.calcDuration=r,t.toMilliseconds=o,t.performance=new i},7007:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipe=t.map=t.extract=t.defaultTo=void 0,t.defaultTo=function(e){return t=>void 0===t?e:t},t.extract=function(e){if(arguments.length>1){const e=[...arguments];return t=>{let n=t;for(const t of e)n=void 0===n?void 0:n[t];return n}}return t=>void 0===t?void 0:t[e]},t.map=function(e){return t=>void 0===t?void 0:e(t)},t.pipe=function(e){if(arguments.length>1){const t=[...arguments].slice(1);let n=e;for(const e of t)n=e(n);return n}return e}},8781:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToText=void 0;const s=o(n(9496));t.scrollToText=function(e,t){const n=e.document,i=n.getText().indexOf(t);if(i<0)return!1;const r=n.positionAt(i),o=new s.Range(r.line,r.character,r.line,r.character+t.length);return o&&e.revealRange(o,s.TextEditorRevealType.InCenterIfOutsideViewport),!0}},2511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUri=void 0;const i=n(9496),r=n(4561);t.toUri=function(e){return"string"==typeof e?i.Uri.from((0,r.toUri)(e)):e&&i.Uri.from(e)||void 0}},7469:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.findMatchingDocument=t.findDocumentInVisibleTextEditors=void 0;const s=o(n(9496));function a(e){const t=e.toString();return s.window.visibleTextEditors.map((e=>e.document)).filter((e=>!!e)).filter((e=>e.uri.toString()===t))[0]}t.findDocumentInVisibleTextEditors=a,t.findMatchingDocument=function(e){const t=e.toString();return((s.workspace||{}).textDocuments||[]).filter((e=>e.uri.toString()===t))[0]||a(e)}},5725:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((n,i)=>{e.call(this,...t,((e,t)=>null!=e?i(e):n(t)))}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>n(null,e)),n)}),"name",{value:e.name})}},5247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;const i=n(9141);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return i.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return i.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return i.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return i.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return i.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return i.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return i.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return i.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return i.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return i.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return i.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return i.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return i.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return i.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return i.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return i.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return i.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return i.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return i.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return i.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return i.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return i.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return i.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return i.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return i.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return i.ParameterStructures}});const r=n(7040);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return r.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return r.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return r.Touch}});const o=n(8437);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const s=n(5165);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});const a=n(415);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(451);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const u=n(1251);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const l=n(1908);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const d=n(5706);t.RAL=d.default},415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const i=n(5706),r=n(8811),o=n(5165);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||r.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=(0,i.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},1908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const i=n(5706),r=n(8811),o=n(9141),s=n(7040),a=n(5165),c=n(415);var u,l,d,h,p,f,g,m,y,v,b,S,C,D,w;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return r.func(e)}}(h||(h={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(p=t.Trace||(t.Trace={})),(w=t.TraceValues||(t.TraceValues={})).Off="off",w.Messages="messages",w.Compact="compact",w.Verbose="verbose",function(e){e.fromString=function(t){if(!r.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(p=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return r.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(g=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(y=t.ConnectionErrors||(t.ConnectionErrors={}));class E extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,E.prototype)}}t.ConnectionError=E,function(e){e.is=function(e){const t=e;return t&&r.func(t.cancelUndispatched)}}(v=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&r.func(t.createCancellationTokenSource)}}(b=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(u.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&r.func(t.sendCancellation)&&r.func(t.cleanup)}}(S=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:b.Message,sender:S.Message}),e.is=function(e){const t=e;return t&&b.is(t.receiver)&&S.is(t.sender)}}(C=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(C.is(t.cancellationStrategy)||v.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(D||(D={})),t.createMessageConnection=function(e,n,v,b){const S=void 0!==v?v:t.NullLogger;let w=0,x=0,_=0;const k="2.0";let T;const F=new Map;let R;const A=new Map,P=new Map;let O,I,N=new s.LinkedMap,M=new Map,L=new Set,j=new Map,q=p.Off,B=f.Text,U=D.New;const $=new a.Emitter,W=new a.Emitter,K=new a.Emitter,H=new a.Emitter,V=new a.Emitter,z=b&&b.cancellationStrategy?b.cancellationStrategy:C.Message;function G(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function J(e){}function X(){return U===D.Listening}function Y(){return U===D.Closed}function Q(){return U===D.Disposed}function Z(){U!==D.New&&U!==D.Listening||(U=D.Closed,W.fire(void 0))}function ee(){O||0===N.size||(O=(0,i.default)().timer.setImmediate((()=>{O=void 0,function(){if(0===N.size)return;const e=N.shift();try{o.Message.isRequest(e)?function(e){if(Q())return;function t(t,i,r){const s={jsonrpc:k,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,ie(s,i,r),n.write(s).catch((()=>S.error("Sending response failed.")))}function i(t,i,r){const o={jsonrpc:k,id:e.id,error:t.toJson()};ie(o,i,r),n.write(o).catch((()=>S.error("Sending response failed.")))}!function(e){if(q!==p.Off&&I)if(B===f.Text){let t;q!==p.Verbose&&q!==p.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),I.log(`Received request '${e.method} - (${e.id})'.`,t)}else oe("receive-request",e)}(e);const s=F.get(e.method);let a,c;s&&(a=s.type,c=s.handler);const u=Date.now();if(c||T){const s=e.id??String(Date.now()),l=z.receiver.createCancellationTokenSource(s);null!==e.id&&L.has(e.id)&&l.cancel(),null!==e.id&&j.set(s,l);try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void i(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,u);d=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byName)return void i(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);d=c(...e.params,l.token)}else{if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byPosition)return void i(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);d=c(e.params,l.token)}else T&&(d=T(e.method,e.params,l.token));const h=d;d?h.then?h.then((n=>{j.delete(s),t(n,e.method,u)}),(t=>{j.delete(s),t instanceof o.ResponseError?i(t,e.method,u):t&&r.string(t.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(j.delete(s),t(d,e.method,u)):(j.delete(s),function(t,i,r){void 0===t&&(t=null);const o={jsonrpc:k,id:e.id,result:t};ie(o,i,r),n.write(o).catch((()=>S.error("Sending response failed.")))}(d,e.method,u))}catch(n){j.delete(s),n instanceof o.ResponseError?t(n,e.method,u):n&&r.string(n.message)?i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):i(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else i(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.Message.isNotification(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method){const t=e.params.id;return L.delete(t),void re(e)}{const i=A.get(e.method);i&&(n=i.handler,t=i.type)}if(n||R)try{if(re(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const i=e.params;e.method===d.type.method&&2===i.length&&l.is(i[0])?n({token:i[0],value:i[1]}):(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${i.length} arguments`)),n(...i))}else void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&S.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else R&&R(e.method,e.params)}catch(t){t.message?S.error(`Notification handler '${e.method}' failed with message: ${t.message}`):S.error(`Notification handler '${e.method}' failed unexpectedly.`)}else K.fire(e)}(e):o.Message.isResponse(e)?function(e){if(!Q())if(null===e.id)e.error?S.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):S.error("Received response message without id. No further error information provided.");else{const t=e.id,n=M.get(t);if(function(e,t){if(q!==p.Off&&I)if(B===f.Text){let n;if(q!==p.Verbose&&q!==p.Compact||(e.error&&e.error.data?n=`Error data: ${ne(e.error.data)}\n\n`:e.result?n=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const i=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";I.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${i}`,n)}else I.log(`Received response ${e.id} without active response promise.`,n)}else oe("receive-response",e)}(e,n),void 0!==n){M.delete(t);try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?S.error(`Response handler '${n.method}' failed with message: ${e.message}`):S.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void S.error("Received empty message.");S.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(r.string(t.id)||r.number(t.id)){const e=t.id,n=M.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ee()}}()})))}e.onClose(Z),e.onError((function(e){$.fire([e,void 0,void 0])})),n.onClose(Z),n.onError((function(e){$.fire(e)}));const te=e=>{try{if(o.Message.isNotification(e)&&e.method===u.type.method){const t=e.params.id,i=G(t),r=N.get(i);if(o.Message.isRequest(r)){const o=b?.connectionStrategy,s=o&&o.cancelUndispatched?o.cancelUndispatched(r,J):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return N.delete(i),j.delete(t),s.id=r.id,ie(s,e.method,Date.now()),void n.write(s).catch((()=>S.error("Sending response for canceled message failed.")))}const s=j.get(t);if(void 0!==s)return s.cancel(),void re(e);L.add(t)}!function(e,t){var n;o.Message.isRequest(t)?e.set(G(t.id),t):o.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++_).toString():"res-"+n.toString(),t):e.set("not-"+(++x).toString(),t)}(N,e)}finally{ee()}};function ne(e){if(null!=e)switch(q){case p.Verbose:return JSON.stringify(e,null,4);case p.Compact:return JSON.stringify(e);default:return}}function ie(e,t,n){if(q!==p.Off&&I)if(B===f.Text){let i;q!==p.Verbose&&q!==p.Compact||(e.error&&e.error.data?i=`Error data: ${ne(e.error.data)}\n\n`:e.result?i=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(i="No result returned.\n\n")),I.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,i)}else oe("send-response",e)}function re(e){if(q!==p.Off&&I&&e.method!==m.type.method)if(B===f.Text){let t;q!==p.Verbose&&q!==p.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),I.log(`Received notification '${e.method}'.`,t)}else oe("receive-notification",e)}function oe(e,t){if(!I||q===p.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};I.log(n)}function se(){if(Y())throw new E(y.Closed,"Connection is closed.");if(Q())throw new E(y.Disposed,"Connection is disposed.")}function ae(e){return void 0===e?null:e}function ce(e){return null===e?void 0:e}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function le(e,t){switch(e){case o.ParameterStructures.auto:return ue(t)?ce(t):[ae(t)];case o.ParameterStructures.byName:if(!ue(t))throw new Error("Received parameters by name but param is not an object literal.");return ce(t);case o.ParameterStructures.byPosition:return[ae(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function de(e,t){let n;const i=e.numberOfParams;switch(i){case 0:n=void 0;break;case 1:n=le(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<i;e++)n.push(ae(t[e]));if(t.length<i)for(let e=t.length;e<i;e++)n.push(null)}return n}const he={sendNotification:(e,...t)=>{let i,s;if(se(),r.string(e)){i=e;const n=t[0];let r=0,a=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(r=1,a=n);let c=t.length;const u=c-r;switch(u){case 0:s=void 0;break;case 1:s=le(a,t[r]);break;default:if(a===o.ParameterStructures.byName)throw new Error(`Received ${u} parameters for 'by Name' notification parameter structure.`);s=t.slice(r,c).map((e=>ae(e)))}}else{const n=t;i=e.method,s=de(e,n)}const a={jsonrpc:k,method:i,params:s};return function(e){if(q!==p.Off&&I)if(B===f.Text){let t;q!==p.Verbose&&q!==p.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),I.log(`Sending notification '${e.method}'.`,t)}else oe("send-notification",e)}(a),n.write(a).catch((()=>S.error("Sending notification failed.")))},onNotification:(e,t)=>{let n;return se(),r.func(e)?R=e:t&&(r.string(e)?(n=e,A.set(e,{type:void 0,handler:t})):(n=e.method,A.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?A.delete(n):R=void 0}}},onProgress:(e,t,n)=>{if(P.has(t))throw new Error(`Progress handler for token ${t} already registered`);return P.set(t,n),{dispose:()=>{P.delete(t)}}},sendProgress:(e,t,n)=>he.sendNotification(d.type,{token:t,value:n}),onUnhandledProgress:H.event,sendRequest:(e,...t)=>{let i,s,a;if(se(),function(){if(!X())throw new Error("Call listen() first.")}(),r.string(e)){i=e;const n=t[0],r=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(r)&&(d-=1,a=r);const h=d-u;switch(h){case 0:s=void 0;break;case 1:s=le(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Received ${h} parameters for 'by Name' request parameter structure.`);s=t.slice(u,d).map((e=>ae(e)))}}else{const n=t;i=e.method,s=de(e,n);const r=e.numberOfParams;a=c.CancellationToken.is(n[r])?n[r]:void 0}const u=w++;let l;return a&&(l=a.onCancellationRequested((()=>{const e=z.sender.sendCancellation(he,u);return void 0===e?(S.log(`Received no promise from cancellation strategy when cancelling id ${u}`),Promise.resolve()):e.catch((()=>{S.log(`Sending cancellation messages for id ${u} failed`)}))}))),new Promise(((e,t)=>{const r={jsonrpc:k,id:u,method:i,params:s};let a={method:i,timerStart:Date.now(),resolve:t=>{e(t),z.sender.cleanup(u),l?.dispose()},reject:e=>{t(e),z.sender.cleanup(u),l?.dispose()}};!function(e){if(q!==p.Off&&I)if(B===f.Text){let t;q!==p.Verbose&&q!==p.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),I.log(`Sending request '${e.method} - (${e.id})'.`,t)}else oe("send-request",e)}(r);try{n.write(r).catch((()=>S.error("Sending request failed.")))}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&M.set(u,a)}))},onRequest:(e,t)=>{se();let n=null;return h.is(e)?(n=void 0,T=e):r.string(e)?(n=null,void 0!==t&&(n=e,F.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,F.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?F.delete(n):T=void 0)}}},hasPendingResponse:()=>M.size>0,trace:async(e,t,n)=>{let i=!1,o=f.Text;void 0!==n&&(r.boolean(n)?i=n:(i=n.sendNotification||!1,o=n.traceFormat||f.Text)),q=e,B=o,I=q===p.Off?void 0:t,!i||Y()||Q()||await he.sendNotification(g.type,{value:p.toString(e)})},onError:$.event,onClose:W.event,onUnhandledNotification:K.event,onDispose:V.event,end:()=>{n.end()},dispose:()=>{if(Q())return;U=D.Disposed,V.fire(void 0);const t=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of M.values())e.reject(t);M=new Map,j=new Map,L=new Set,N=new s.LinkedMap,r.func(n.dispose)&&n.dispose(),r.func(e.dispose)&&e.dispose()},listen:()=>{se(),function(){if(X())throw new E(y.AlreadyListening,"Connection is already listening")}(),U=D.Listening,e.listen(te)},inspect:()=>{(0,i.default)().console.log("inspect")}};return he.onNotification(m.type,(e=>{if(q===p.Off||!I)return;const t=q===p.Verbose||q===p.Compact;I.log(e.message,t?e.verbose:void 0)})),he.onNotification(d.type,(e=>{const t=P.get(e.token);t?t(e.value):H.fire(e)})),he}},8437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},5165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const i=n(5706);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,r=this._callbacks.length;i<r;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(r[o],e))}catch(e){(0,i.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},8811:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))}},7040:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(i=t.Touch||(t.Touch={}));class r{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=i.None){const n=this._map.get(e);if(n)return t!==i.None&&this.touch(n,t),n.value}set(e,t,n=i.None){let r=this._map.get(e);if(r)r.value=t,n!==i.None&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case i.None:this.addItemLast(r);break;case i.First:this.addItemFirst(r);break;case i.Last:default:this.addItemLast(r)}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===i.First||t===i.Last)if(t===i.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===i.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=r,t.LRUCache=class extends r{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=i.AsNew){return super.get(e,t)}peek(e){return super.get(e,i.None)}set(e,t){return super.set(e,t,i.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},8652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){const r=this._chunks[t];for(n=0;n<r.length;){switch(r[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=r.byteLength,t++}if(4!==e)return;const r=this._read(i+n),o=new Map,s=this.toString(r,"ascii").split("\r\n");if(s.length<2)return o;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const i=t.substr(0,n),r=t.substr(n+1).trim();o.set(i,r)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const i=this._chunks[0];if(i.byteLength>e){const r=i.slice(0,e);t.set(r,n),n+=e,this._chunks[0]=i.slice(e),this._totalLength-=e,e-=e}else t.set(i,n),n+=i.byteLength,this._chunks.shift(),this._totalLength-=i.byteLength,e-=i.byteLength}return t}}},451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const i=n(5706),r=n(8811),o=n(5165);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&r.func(t.listen)&&r.func(t.dispose)&&r.func(t.onError)&&r.func(t.onClose)&&r.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){let t,n;const r=new Map;let o;const s=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,r.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)r.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(o=e.contentTypeDecoder,s.set(o.name,o)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===o&&(o=(0,i.default)().applicationJson.decoder,s.set(o.name,o)),{charset:t,contentDecoder:n,contentDecoders:r,contentTypeDecoder:o,contentTypeDecoders:s}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=(0,i.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,i.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},1251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const i=n(5706),r=n(8811),o=n(2339),s=n(5165);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&r.func(t.dispose)&&r.func(t.onClose)&&r.func(t.onError)&&r.func(t.write)};class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,i.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,i.default)().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},9141:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const i=n(8811);var r,o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(r=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=i.number(e)?e:r.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=s;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},(o=t.Message||(t.Message={})).isRequest=function(e){const t=e;return t&&i.string(t.method)&&(i.string(t.id)||i.number(t.id))},o.isNotification=function(e){const t=e;return t&&i.string(t.method)&&void 0===e.id},o.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(i.string(t.id)||i.number(t.id)||null===t.id)}},5706:(e,t)=>{"use strict";let n;function i(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(i||(i={})),t.default=i},2339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const i=n(5706);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,i.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},39:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(620);o.default.install();const s=n(5247),a=n(1017),c=n(2037),u=n(6113),l=n(1808);r(n(5247),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),s.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class h extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=h;class p extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,o.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class f extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=f;class g extends s.ReadableStreamMessageReader{constructor(e,t){super((0,o.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=g;class m extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=m;const y=process.env.XDG_RUNTIME_DIR,v=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=(0,u.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=y?a.join(y,`vscode-ipc-${e}.sock`):a.join(c.tmpdir(),`vscode-${e}.sock`);const n=v.get(process.platform);return void 0!==n&&t.length>=n&&(0,o.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const i=new Promise(((e,t)=>{n=e}));return new Promise(((r,o)=>{let s=(0,l.createServer)((e=>{s.close(),n([new p(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,(()=>{s.removeListener("error",o),r({onConnected:()=>i})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e);return[new p(n,t),new f(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const i=new Promise(((e,t)=>{n=e}));return new Promise(((r,o)=>{const s=(0,l.createServer)((e=>{s.close(),n([new p(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,"127.0.0.1",(()=>{s.removeListener("error",o),r({onConnected:()=>i})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e,"127.0.0.1");return[new p(n,t),new f(n,t)]},t.createMessageConnection=function(e,t,n,i){n||(n=s.NullLogger);const r=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new g(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new m(t):t;return s.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,s.createMessageConnection)(r,o,n,i)}},620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5706),r=n(3837),o=n(8437),s=n(8652);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new r.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),o.Disposable.create((()=>this.stream.off("data",e)))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,i)=>{const r=e=>{null==e?n():i(e)};"string"==typeof e?this.stream.write(e,t,r):this.stream.write(e,r)}))}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new r.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const i=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(e,...t){const n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){const i=setInterval(e,t,...n);return{dispose:()=>clearInterval(i)}}})});function d(){return l}!function(e){e.install=function(){i.default.install(l)}}(d||(d={})),t.default=d},1335:(e,t,n)=>{"use strict";e.exports=n(39)},7944:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticPullMode=t.vsdiag=void 0,r(n(1747),t),r(n(7482),t);var o=n(7801);Object.defineProperty(t,"vsdiag",{enumerable:!0,get:function(){return o.vsdiag}}),Object.defineProperty(t,"DiagnosticPullMode",{enumerable:!0,get:function(){return o.DiagnosticPullMode}}),r(n(9343),t)},5393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){const i=this.client,o=this.middleware,s=(e,t,n)=>{const o=i.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return i.sendRequest(r.CallHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(e,n)),(e=>i.handleFailedRequest(r.CallHierarchyPrepareRequest.type,n,e,null)))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,i=this.middleware,o=(e,t)=>{const i={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(r.CallHierarchyIncomingCallsRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)),(e=>n.handleFailedRequest(r.CallHierarchyIncomingCallsRequest.type,t,e,null)))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,i=this.middleware,o=(e,t)=>{const i={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(r.CallHierarchyOutgoingCallsRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)),(e=>n.handleFailedRequest(r.CallHierarchyOutgoingCallsRequest.type,t,e,null)))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){const t=e;(0,o.ensure)((0,o.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.callHierarchyProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[i.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.CallHierarchyFeature=a},9343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.BaseLanguageClient=t.MessageTransports=t.SuspendMode=t.State=t.CloseAction=t.ErrorAction=t.RevealOutputChannelOn=void 0;const i=n(9496),r=n(1747),o=n(895),s=n(1011),a=n(4652),c=n(899),u=n(2667),l=n(5984),d=n(7482),h=n(7801),p=n(2488),f=n(5122),g=n(7583),m=n(4976),y=n(9259),v=n(5985),b=n(7548),S=n(7853),C=n(253),D=n(1854),w=n(2318),E=n(5973),x=n(5824),_=n(8314),k=n(6991),T=n(1108),F=n(2716),R=n(8029),A=n(3894),P=n(7567),O=n(7349),I=n(9100),N=n(8357),M=n(6443),L=n(2672),j=n(4585),q=n(5393),B=n(1572),U=n(2925),$=n(4722),W=n(5783),K=n(1973),H=n(4462);var V,z,G,J,X,Y,Q;!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(V=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(z=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(G=t.CloseAction||(t.CloseAction={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(J=t.State||(t.State={})),(Q=t.SuspendMode||(t.SuspendMode={})).off="off",Q.on="on";class Z{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:z.Continue}:{action:z.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:G.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:G.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:G.Restart})}}!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(X||(X={})),(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&r.MessageReader.is(e.reader)&&r.MessageWriter.is(e.writer)};class ee{constructor(e,t,n){this._traceFormat=r.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new c.Semaphore(1),this._id=e,this._name=t;const i={isTrusted:!1,supportHtml:!1};void 0!==(n=n||{}).markdown&&(i.isTrusted=!0===n.markdown.isTrusted,i.supportHtml=!0===n.markdown.supportHtml),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??V.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=X.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new r.Emitter,this._stateChangeEmitter=new r.Emitter,this._trace=r.Trace.Off,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=i.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case X.Starting:return J.Starting;case X.Running:return J.Running;default:return J.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===X.StartFailed||this.$state===X.Stopping||this.$state===X.Stopped)return Promise.reject(new r.ResponseError(r.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){const n="string"==typeof e?e:e.method;this._requestHandlers.set(n,t);const i=this.activeConnection();let r;return void 0!==i?(this._requestDisposables.set(n,i.onRequest(e,t)),r={dispose:()=>{const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),r={dispose:()=>{this._pendingRequestHandlers.delete(n);const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),r.dispose()}}}async sendNotification(e,t){if(this.$state===X.StartFailed||this.$state===X.Stopping||this.$state===X.Stopped)return Promise.reject(new r.ResponseError(r.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){const n="string"==typeof e?e:e.method;this._notificationHandlers.set(n,t);const i=this.activeConnection();let r;return void 0!==i?(this._notificationDisposables.set(n,i.onNotification(e,t)),r={dispose:()=>{const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),r={dispose:()=>{this._pendingNotificationHandlers.delete(n);const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),r.dispose()}}}async sendProgress(e,t,n){if(this.$state===X.StartFailed||this.$state===X.Stopping||this.$state===X.Stopped)return Promise.reject(new r.ResponseError(r.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});const i=this.activeConnection();let o;const s=this._clientOptions.middleware?.handleWorkDoneProgress,a=r.WorkDoneProgress.is(e)&&void 0!==s?e=>{s(t,e,(()=>n(e)))}:n;return void 0!==i?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Z(this,e??4)}async setTrace(e){this._trace=e;const t=this.activeConnection();void 0!==t&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof r.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=V.Info&&this.showNotificationMessage(r.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=V.Warn&&this.showNotificationMessage(r.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),("force"===n||n&&this._clientOptions.revealOutputChannelOn<=V.Error)&&this.showNotificationMessage(r.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===r.MessageType.Error?i.window.showErrorMessage:e===r.MessageType.Warning?i.window.showWarningMessage:i.window.showInformationMessage)(t,"Go to output").then((e=>{void 0!==e&&this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===X.Initial||this.$state===X.Stopping||this.$state===X.Stopped}needsStop(){return this.$state===X.Starting||this.$state===X.Running}activeConnection(){return this.$state===X.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===X.Running}async start(){if("disposing"===this._disposed||"disposed"===this._disposed)throw new Error("Client got disposed and can't be restarted.");if(this.$state===X.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==this._onStart)return this._onStart;const[e,t,n]=this.createOnStartPromise();this._onStart=e,void 0===this._diagnostics&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?i.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):i.languages.createDiagnosticCollection());for(const[e,t]of this._notificationHandlers)this._pendingNotificationHandlers.has(e)||this._pendingNotificationHandlers.set(e,t);for(const[e,t]of this._requestHandlers)this._pendingRequestHandlers.has(e)||this._pendingRequestHandlers.set(e,t);for(const[e,t]of this._progressHandlers)this._pendingProgressHandlers.has(e)||this._pendingProgressHandlers.set(e,t);this.$state=X.Starting;try{const e=await this.createConnection();e.onNotification(r.LogMessageNotification.type,(e=>{switch(e.type){case r.MessageType.Error:this.error(e.message,void 0,!1);break;case r.MessageType.Warning:this.warn(e.message,void 0,!1);break;case r.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onNotification(r.ShowMessageNotification.type,(e=>{switch(e.type){case r.MessageType.Error:i.window.showErrorMessage(e.message);break;case r.MessageType.Warning:i.window.showWarningMessage(e.message);break;case r.MessageType.Info:default:i.window.showInformationMessage(e.message)}})),e.onRequest(r.ShowMessageRequest.type,(e=>{let t;switch(e.type){case r.MessageType.Error:t=i.window.showErrorMessage;break;case r.MessageType.Warning:t=i.window.showWarningMessage;break;case r.MessageType.Info:default:t=i.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onNotification(r.TelemetryEventNotification.type,(e=>{this._telemetryEmitter.fire(e)})),e.onRequest(r.ShowDocumentRequest.type,(async e=>{const t=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await i.env.openExternal(t)};{const n={};return void 0!==e.selection&&(n.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?n.preserveFocus=!0:!0===e.takeFocus&&(n.preserveFocus=!1),await i.window.showTextDocument(t,n),{success:!0}}}catch(e){return{success:!1}}},n=this._clientOptions.middleware.window?.showDocument;return void 0!==n?n(e,t):t(e)})),e.listen(),await this.initialize(e),t()}catch(e){this.$state=X.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,e,"force"),n(e)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise(((n,i)=>{e=n,t=i})),e,t]}async initialize(e){this.refreshTrace(e,!1);const t=this._clientOptions.initializationOptions,[n,o]=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:i.env.appName,version:i.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(i.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:r.Trace.toString(this._trace),workspaceFolders:o};if(this.fillInitializeParams(s),!this._clientOptions.progressOnInitialization)return this.doInitialize(e,s);{const t=u.generateUuid(),n=new l.ProgressPart(e,t);s.workDoneToken=t;try{const t=await this.doInitialize(e,s);return n.done(),t}catch(e){throw n.cancel(),e}}}async doInitialize(e,t){try{const n=await e.initialize(t);if(void 0!==n.capabilities.positionEncoding&&n.capabilities.positionEncoding!==r.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);let i;this._initializeResult=n,this.$state=X.Running,a.number(n.capabilities.textDocumentSync)?i=n.capabilities.textDocumentSync===r.TextDocumentSyncKind.None?{openClose:!1,change:r.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==n.capabilities.textDocumentSync&&null!==n.capabilities.textDocumentSync&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(r.PublishDiagnosticsNotification.type,(e=>this.handleDiagnostics(e))),e.onRequest(r.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(r.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(r.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e)));for(const[t,n]of this._pendingNotificationHandlers)this._notificationDisposables.set(t,e.onNotification(t,n));this._pendingNotificationHandlers.clear();for(const[t,n]of this._pendingRequestHandlers)this._requestDisposables.set(t,e.onRequest(t,n));this._pendingRequestHandlers.clear();for(const[t,n]of this._pendingProgressHandlers)this._progressDisposables.set(t,e.onProgress(n.type,t,n.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(r.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(t){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):this.stop():t instanceof r.ResponseError&&t.data&&t.data.retry?i.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((t=>{t&&"retry"===t.id?this.initialize(e):this.stop()})):(t&&t.message&&i.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop()),t}}_clientGetRootPath(){let e=i.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===X.Stopped||this.$state===X.Initial)return;if(this.$state===X.Stopping){if(void 0!==this._onStop)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}const n=this.activeConnection();if(void 0===n||this.$state!==X.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=X.Stopping,this.cleanUp(e);const i=new Promise((e=>{(0,r.RAL)().timer.setTimeout(e,t)})),o=(async e=>(await e.shutdown(),await e.exit(),e))(n);return this._onStop=Promise.race([i,o]).then((e=>{if(void 0===e)throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(e=>{throw this.error("Stopping server failed",e,!1),e})).finally((()=>{this.$state=X.Stopped,"stop"===e&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()}))}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();const t=this._listeners.splice(0,this._listeners.length);for(const e of t)e.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const e of Array.from(this._features.entries()).map((e=>e[1])).reverse())e.dispose();"stop"===e&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){const t=this;async function n(e){return t._fileEvents.push(e),t._fileEventDelayer.trigger((async()=>{const e=await t.$start();await t.forceDocumentSync();const n=e.sendNotification(r.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],n}))}const i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch((e=>{t.error("Notify file events failed.",e)}))}async forceDocumentSync(){return void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(r.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;const t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,r.RAL)().timer.setImmediate((()=>{this.workDiagnosticQueue()}))}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const e=this._diagnosticQueue.entries().next();if(!0===e.done)return;const[t,n]=e.value;this._diagnosticQueue.delete(t);const r=new i.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:r},this._p2c.asDiagnostics(n,r.token).then((e=>{if(!r.token.isCancellationRequested){const n=this._p2c.asUri(t),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,e,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(n,e)}})).finally((()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()}))}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===X.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();const e=this.activeConnection();if(void 0===e)throw new Error("Starting server failed");return e}async createConnection(){const e=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=function(e,t,n,i,o){let s=-1;const c=new te,u=(0,r.createProtocolConnection)(e,t,c,o);return u.onError((e=>{n(e[0],e[1],e[2])})),u.onClose(i),{get lastUsed(){return s},resetLastUsed:()=>{s=-1},listen:()=>u.listen(),sendRequest:(e,...t)=>(s=Date.now(),u.sendRequest(e,...t)),onRequest:(e,t)=>u.onRequest(e,t),hasPendingResponse:()=>u.hasPendingResponse(),sendNotification:(e,t)=>(s=Date.now(),u.sendNotification(e,t)),onNotification:(e,t)=>u.onNotification(e,t),onProgress:u.onProgress,sendProgress:u.sendProgress,trace:(e,t,n)=>{const i={sendNotification:!1,traceFormat:r.TraceFormat.Text};return void 0===n?u.trace(e,t,i):(a.boolean(n),u.trace(e,t,n))},initialize:e=>(s=Date.now(),u.sendRequest(r.InitializeRequest.type,e)),shutdown:()=>(s=Date.now(),u.sendRequest(r.ShutdownRequest.type,void 0)),exit:()=>(s=Date.now(),u.sendNotification(r.ExitNotification.type)),end:()=>u.end(),dispose:()=>u.dispose()}}(e.reader,e.writer,((e,t,n)=>{this.handleConnectionError(e,t,n)}),(()=>{this.handleConnectionClosed()}),this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===X.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch(e){}let e={action:G.DoNotRestart};if(this.$state!==X.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connection=void 0,e.action===G.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===X.Starting?this.$state=X.StartFailed:this.$state=X.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===G.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=X.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((e=>this.error("Restarting server failed",e,"force"))))}handleConnectionError(e,t,n){const i=this._clientOptions.errorHandler.error(e,t,n);i.action===z.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch((e=>{this.error("Stopping server failed",e,!1)})))}hookConfigurationChanged(e){this._listeners.push(i.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)})))}refreshTrace(e,t=!1){const n=i.workspace.getConfiguration(this._id);let o=r.Trace.Off,s=r.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=r.Trace.fromString(e):(o=r.Trace.fromString(n.get("trace.server.verbosity","off")),s=r.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch((e=>{this.error("Updating trace failed with error",e,!1)}))}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(r.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),d.DynamicFeature.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){const t=this.getFeature(r.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof p.NotebookDocumentSyncFeature&&t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new f.ConfigurationFeature(this)),this.registerFeature(new g.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new g.DidChangeTextDocumentFeature(this)),this.registerFeature(new g.WillSaveFeature(this)),this.registerFeature(new g.WillSaveWaitUntilFeature(this)),this.registerFeature(new g.DidSaveTextDocumentFeature(this)),this.registerFeature(new g.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new R.FileSystemWatcherFeature(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new m.CompletionItemFeature(this)),this.registerFeature(new y.HoverFeature(this)),this.registerFeature(new b.SignatureHelpFeature(this)),this.registerFeature(new v.DefinitionFeature(this)),this.registerFeature(new w.ReferencesFeature(this)),this.registerFeature(new S.DocumentHighlightFeature(this)),this.registerFeature(new C.DocumentSymbolFeature(this)),this.registerFeature(new D.WorkspaceSymbolFeature(this)),this.registerFeature(new E.CodeActionFeature(this)),this.registerFeature(new x.CodeLensFeature(this)),this.registerFeature(new _.DocumentFormattingFeature(this)),this.registerFeature(new _.DocumentRangeFormattingFeature(this)),this.registerFeature(new _.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new k.RenameFeature(this)),this.registerFeature(new T.DocumentLinkFeature(this)),this.registerFeature(new F.ExecuteCommandFeature(this)),this.registerFeature(new f.SyncConfigurationFeature(this)),this.registerFeature(new O.TypeDefinitionFeature(this)),this.registerFeature(new P.ImplementationFeature(this)),this.registerFeature(new A.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new I.WorkspaceFoldersFeature(this)),this.registerFeature(new N.FoldingRangeFeature(this)),this.registerFeature(new M.DeclarationFeature(this)),this.registerFeature(new L.SelectionRangeFeature(this)),this.registerFeature(new j.ProgressFeature(this)),this.registerFeature(new q.CallHierarchyFeature(this)),this.registerFeature(new B.SemanticTokensFeature(this)),this.registerFeature(new $.LinkedEditingFeature(this)),this.registerFeature(new U.DidCreateFilesFeature(this)),this.registerFeature(new U.DidRenameFilesFeature(this)),this.registerFeature(new U.DidDeleteFilesFeature(this)),this.registerFeature(new U.WillCreateFilesFeature(this)),this.registerFeature(new U.WillRenameFilesFeature(this)),this.registerFeature(new U.WillDeleteFilesFeature(this)),this.registerFeature(new W.TypeHierarchyFeature(this)),this.registerFeature(new K.InlineValueFeature(this)),this.registerFeature(new H.InlayHintsFeature(this)),this.registerFeature(new h.DiagnosticFeature(this)),this.registerFeature(new p.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Y.createAll(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};(0,d.ensure)(e,"workspace").applyEdit=!0;const t=(0,d.ensure)((0,d.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[r.ResourceOperationKind.Create,r.ResourceOperationKind.Rename,r.ResourceOperationKind.Delete],t.failureHandling=r.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const n=(0,d.ensure)((0,d.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[r.DiagnosticTag.Unnecessary,r.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const i=(0,d.ensure)(e,"window");(0,d.ensure)(i,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,d.ensure)(i,"showDocument").support=!0;const o=(0,d.ensure)(e,"general");o.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(ee.RequestsToCancelOnContentModified)},o.regularExpressions={engine:"ECMAScript",version:"ES2020"},o.markdown={parser:"marked",version:"1.1.0"},o.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(o.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){const t=this._clientOptions.documentSelector;for(const e of this._features)a.func(e.preInitialize)&&e.preInitialize(this._capabilities,t);for(const e of this._features)e.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(this.isRunning())for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions??{};n.documentSelector=n.documentSelector??this._clientOptions.documentSelector;const i={id:t.id,registerOptions:n};try{e.register(i)}catch(e){return Promise.reject(e)}}else for(const t of e.registrations)this._ignoredRegistrations.add(t.id)}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;const e=this._dynamicFeatures.get(t.method);if(!e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}}async handleApplyWorkspaceEdit(e){const t=e.edit,n=await this.workspaceEditLock.lock((()=>this._p2c.asWorkspaceEdit(t))),o=new Map;i.workspace.textDocuments.forEach((e=>o.set(e.uri.toString(),e)));let s=!1;if(t.documentChanges)for(const e of t.documentChanges)if(r.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){const t=o.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){s=!0;break}}return s?Promise.resolve({applied:!1}):a.asPromise(i.workspace.applyEdit(n).then((e=>({applied:e}))))}handleFailedRequest(e,t,n,o,s=!0){if(n instanceof r.ResponseError){if(n.code===r.ErrorCodes.PendingResponseRejected||n.code===r.ErrorCodes.ConnectionInactive)return o;if(n.code===r.LSPErrorCodes.RequestCancelled||n.code===r.LSPErrorCodes.ServerCancelled){if(void 0!==t&&t.isCancellationRequested)return o;throw void 0!==n.data?new d.LSPCancellationError(n.data):new i.CancellationError}if(n.code===r.LSPErrorCodes.ContentModified){if(ee.RequestsToCancelOnContentModified.has(e.method))throw new i.CancellationError;return o}}throw this.error(`Request ${e.method} failed.`,n,s),n}}t.BaseLanguageClient=ee,ee.RequestsToCancelOnContentModified=new Set([r.SemanticTokensRequest.method,r.SemanticTokensRangeRequest.method,r.SemanticTokensDeltaRequest.method]);class te{error(e){(0,r.RAL)().console.error(e)}warn(e){(0,r.RAL)().console.warn(e)}info(e){(0,r.RAL)().console.info(e)}log(e){(0,r.RAL)().console.log(e)}}!function(e){e.createAll=function(e){return[]}}(Y=t.ProposedFeatures||(t.ProposedFeatures={}))},5973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;const i=n(9496),r=n(1747),o=n(2667),s=n(7482);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.CodeActionRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[r.CodeActionKind.Empty,r.CodeActionKind.QuickFix,r.CodeActionKind.Refactor,r.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorRewrite,r.CodeActionKind.Source,r.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideCodeActions:(e,t,n,i)=>{const o=this._client,s=async(e,t,n,i)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:await o.code2ProtocolConverter.asCodeActionContext(n,i)};return o.sendRequest(r.CodeActionRequest.type,s,i).then((e=>i.isCancellationRequested||null==e?null:o.protocol2CodeConverter.asCodeActionResult(e,i)),(e=>o.handleFailedRequest(r.CodeActionRequest.type,i,e,null)))},a=o.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,n,i,s):s(e,t,n,i)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,i=this._client.middleware,o=async(e,t)=>n.sendRequest(r.CodeActionResolveRequest.type,await n.code2ProtocolConverter.asCodeAction(e,t),t).then((i=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeAction(i,t)),(i=>n.handleFailedRequest(r.CodeActionResolveRequest.type,t,i,e)));return i.resolveCodeAction?i.resolveCodeAction(e,t,o):o(e,t)}:void 0};return[i.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}}t.CodeActionFeature=a},895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const i=n(9496),r=n(1747),o=n(4652),s=n(899),a=n(9147),c=n(2817),u=n(8501),l=n(5958),d=n(8171),h=n(777),p=n(9585),f=n(6363),g=n(570);var m;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(m||(m={})),t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function y(e){return{uri:t(e.uri)}}function v(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function b(e){switch(e){case i.TextDocumentSaveReason.Manual:return r.TextDocumentSaveReason.Manual;case i.TextDocumentSaveReason.AfterDelay:return r.TextDocumentSaveReason.AfterDelay;case i.TextDocumentSaveReason.FocusOut:return r.TextDocumentSaveReason.FocusOut}return r.TextDocumentSaveReason.Manual}function S(e){switch(e){case i.CompletionTriggerKind.TriggerCharacter:return r.CompletionTriggerKind.TriggerCharacter;case i.CompletionTriggerKind.TriggerForIncompleteCompletions:return r.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return r.CompletionTriggerKind.Invoked}}function C(e){switch(e){case i.SignatureHelpTriggerKind.Invoke:return r.SignatureHelpTriggerKind.Invoked;case i.SignatureHelpTriggerKind.TriggerCharacter:return r.SignatureHelpTriggerKind.TriggerCharacter;case i.SignatureHelpTriggerKind.ContentChange:return r.SignatureHelpTriggerKind.ContentChange}}function D(e){return{label:e.label}}function w(e){return{label:e.label,parameters:(t=e.parameters,t.map(D))};var t}function E(e){return{line:e.line,character:e.character}}function x(e){return null==e?e:{line:e.line>r.uinteger.MAX_VALUE?r.uinteger.MAX_VALUE:e.line,character:e.character>r.uinteger.MAX_VALUE?r.uinteger.MAX_VALUE:e.character}}function _(e){return null==e?e:{start:x(e.start),end:x(e.end)}}function k(e){return null==e?e:r.Location.create(n(e.uri),_(e.range))}function T(e){switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}}function F(e){switch(e){case i.DiagnosticTag.Unnecessary:return r.DiagnosticTag.Unnecessary;case i.DiagnosticTag.Deprecated:return r.DiagnosticTag.Deprecated;default:return}}function R(e){return{message:e.message,location:k(e.location)}}function A(e){const t=r.Diagnostic.create(_(e.range),e.message),i=e instanceof d.ProtocolDiagnostic?e:void 0;void 0!==i&&void 0!==i.data&&(t.data=i.data);const s=function(e){if(null!=e)return o.number(e)||o.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return d.DiagnosticCode.is(s)?void 0!==i&&i.hasDiagnosticCode?t.code=s:(t.code=s.value,t.codeDescription={href:s.target}):t.code=s,o.number(e.severity)&&(t.severity=T(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=F(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(R)),e.source&&(t.source=e.source),t}function P(e,t){return null==e?e:s.map(e,A,t)}function O(e){if(e===i.CompletionItemTag.Deprecated)return r.CompletionItemTag.Deprecated}function I(e){return{range:_(e.range),newText:e.newText}}function N(e){return null==e?e:e.map(I)}function M(e){return e<=i.SymbolKind.TypeParameter?e+1:r.SymbolKind.Property}function L(e){return e}function j(e){return e.map(L)}function q(e){let t=r.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}function B(e){const t=r.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=k(e.location)),void 0!==e.command&&(t.command=q(e.command)),void 0!==e.tooltip&&(t.tooltip=U(e.tooltip)),t}function U(e){return"string"==typeof e?e:{kind:r.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:y,asTextDocumentItem:v,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:v(e)}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:y(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:y(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:y(e.document),reason:b(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:y(e),position:E(t)}},asCompletionParams:function(e,t,n){return{textDocument:y(e),position:E(t),context:{triggerKind:S(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:y(e),position:E(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:C(n.triggerKind),activeSignatureHelp:(i=n.activeSignatureHelp,void 0===i?i:{signatures:(r=i.signatures,r.map(w)),activeSignature:i.activeSignature,activeParameter:i.activeParameter})}};var i,r},asWorkerPosition:E,asRange:_,asPosition:x,asPositions:function(e,t){return s.map(e,x,t)},asLocation:k,asDiagnosticSeverity:T,asDiagnosticTag:F,asDiagnostic:A,asDiagnostics:P,asCompletionItem:function(e,t=!1){let n,s;o.string(e.label)?n=e.label:(n=e.label.label,!t||void 0===e.label.detail&&void 0===e.label.description||(s={detail:e.label.detail,description:e.label.description}));let c={label:n};void 0!==s&&(c.labelDetails=s);let u=e instanceof a.default?e:void 0;var l,d;e.detail&&(c.detail=e.detail),e.documentation&&(u&&"$string"!==u.documentationFormat?c.documentation=function(e,t){switch(e){case"$string":return t;case r.MarkupKind.PlainText:return{kind:e,value:t};case r.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(u.documentationFormat,e.documentation):c.documentation=e.documentation),e.filterText&&(c.filterText=e.filterText),function(e,t){let n,o,s=r.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,o=t.textEdit.range):t.insertText instanceof i.SnippetString?(s=r.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(o=t.range),e.insertTextFormat=s,t.fromEdit&&void 0!==n&&void 0!==o?e.textEdit=function(e,t){return m.is(t)?r.InsertReplaceEdit.create(e,_(t.inserting),_(t.replacing)):{newText:e,range:_(t)}}(n,o):e.insertText=n}(c,e),o.number(e.kind)&&(c.kind=(l=e.kind,void 0!==(d=u&&u.originalItemKind)?d:l+1)),e.sortText&&(c.sortText=e.sortText),e.additionalTextEdits&&(c.additionalTextEdits=N(e.additionalTextEdits)),e.commitCharacters&&(c.commitCharacters=e.commitCharacters.slice()),e.command&&(c.command=q(e.command)),!0!==e.preselect&&!1!==e.preselect||(c.preselect=e.preselect);const h=function(e){if(void 0===e)return e;const t=[];for(let n of e){const e=O(n);void 0!==e&&t.push(e)}return t}(e.tags);if(u){if(void 0!==u.data&&(c.data=u.data),!0===u.deprecated||!1===u.deprecated){if(!0===u.deprecated&&void 0!==h&&h.length>0){const e=h.indexOf(i.CompletionItemTag.Deprecated);-1!==e&&h.splice(e,1)}c.deprecated=u.deprecated}void 0!==u.insertTextMode&&(c.insertTextMode=u.insertTextMode)}return void 0!==h&&h.length>0&&(c.tags=h),void 0===c.insertTextMode&&!0===e.keepWhitespace&&(c.insertTextMode=r.InsertTextMode.adjustIndentation),c},asTextEdit:I,asSymbolKind:M,asSymbolTag:L,asSymbolTags:j,asReferenceParams:function(e,t,n){return{textDocument:y(e),position:E(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:async function(e,t){let n=r.CodeAction.create(e.title);if(e instanceof l.default&&void 0!==e.data&&(n.data=e.data),void 0!==e.kind&&(n.kind=function(e){if(null!=e)return e.value}(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=await P(e.diagnostics,t)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(n.command=q(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n},asCodeActionContext:async function(e,t){if(null==e)return e;let n;return e.only&&o.string(e.only.value)&&(n=[e.only.value]),r.CodeActionContext.create(await P(e.diagnostics,t),n,function(e){switch(e){case i.CodeActionTriggerKind.Invoke:return r.CodeActionTriggerKind.Invoked;case i.CodeActionTriggerKind.Automatic:return r.CodeActionTriggerKind.Automatic;default:return}}(e.triggerKind))},asInlineValueContext:function(e){return null==e?e:r.InlineValueContext.create(e.frameId,_(e.stoppedLocation))},asCommand:q,asCodeLens:function(e){let t=r.CodeLens.create(_(e.range));return e.command&&(t.command=q(e.command)),e instanceof c.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:y(e)}},asCodeLensParams:function(e){return{textDocument:y(e)}},asDocumentLink:function(e){let t=r.DocumentLink.create(_(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let i=e instanceof u.default?e:void 0;return i&&i.data&&(t.data=i.data),t},asDocumentLinkParams:function(e){return{textDocument:y(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:_(e.range),selectionRange:_(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=j(e.tags)),e instanceof h.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:_(e.range),selectionRange:_(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=j(e.tags)),e instanceof p.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){const t="string"==typeof e.label?e.label:e.label.map(B),n=r.InlayHint.create(x(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=N(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=U(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof g.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){const n=e instanceof f.default?{name:e.name,kind:M(e.kind),location:e.hasRange?k(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:M(e.kind),location:k(e.location)};return void 0!==e.tags&&(n.tags=j(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n}}}},5824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;const i=n(9496),r=n(1747),o=n(2667),s=n(7482);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.CodeLensRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n=new i.EventEmitter,o={onDidChangeCodeLenses:n.event,provideCodeLenses:(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(e,t)),(e=>n.handleFailedRequest(r.CodeLensRequest.type,t,e,null))),o=n.middleware;return o.provideCodeLenses?o.provideCodeLenses(e,t,i):i(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then((i=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeLens(i)),(i=>n.handleFailedRequest(r.CodeLensResolveRequest.type,t,i,e))),o=n.middleware;return o.resolveCodeLens?o.resolveCodeLens(e,t,i):i(e,t)}:void 0};return[i.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),o),{provider:o,onDidChangeCodeLensEmitter:n}]}}t.CodeLensFeature=a},3894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentColorRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideColorPresentations:(e,t,n)=>{const i=this._client,o=(e,t,n)=>{const o={color:e,textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:i.code2ProtocolConverter.asRange(t.range)};return i.sendRequest(r.ColorPresentationRequest.type,o,n).then((e=>n.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(e,n)),(e=>i.handleFailedRequest(r.ColorPresentationRequest.type,n,e,null)))},s=i.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,n,o):o(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,i=(e,t)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(r.DocumentColorRequest.type,i,t).then((e=>t.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(e,t)),(e=>n.handleFailedRequest(r.DocumentColorRequest.type,t,e,null)))},o=n.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,t,i):i(e,t)}};return[i.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.ColorProviderFeature=s},4976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667),a=[r.CompletionItemKind.Text,r.CompletionItemKind.Method,r.CompletionItemKind.Function,r.CompletionItemKind.Constructor,r.CompletionItemKind.Field,r.CompletionItemKind.Variable,r.CompletionItemKind.Class,r.CompletionItemKind.Interface,r.CompletionItemKind.Module,r.CompletionItemKind.Property,r.CompletionItemKind.Unit,r.CompletionItemKind.Value,r.CompletionItemKind.Enum,r.CompletionItemKind.Keyword,r.CompletionItemKind.Snippet,r.CompletionItemKind.Color,r.CompletionItemKind.File,r.CompletionItemKind.Reference,r.CompletionItemKind.Folder,r.CompletionItemKind.EnumMember,r.CompletionItemKind.Constant,r.CompletionItemKind.Struct,r.CompletionItemKind.Event,r.CompletionItemKind.Operator,r.CompletionItemKind.TypeParameter];class c extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[r.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[r.InsertTextMode.asIs,r.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=r.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:a},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);const n=e.triggerCharacters??[],o=e.allCommitCharacters,s=e.documentSelector,a={provideCompletionItems:(e,t,n,i)=>{const s=this._client,a=this._client.middleware,c=(e,t,n,i)=>s.sendRequest(r.CompletionRequest.type,s.code2ProtocolConverter.asCompletionParams(e,t,n),i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asCompletionResult(e,o,i)),(e=>s.handleFailedRequest(r.CompletionRequest.type,i,e,null)));return a.provideCompletionItem?a.provideCompletionItem(e,t,i,n,c):c(e,t,i,n)},resolveCompletionItem:e.resolveProvider?(e,n)=>{const i=this._client,o=this._client.middleware,s=(e,n)=>i.sendRequest(r.CompletionResolveRequest.type,i.code2ProtocolConverter.asCompletionItem(e,!!this.labelDetailsSupport.get(t)),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asCompletionItem(e)),(t=>i.handleFailedRequest(r.CompletionResolveRequest.type,n,t,e)));return o.resolveCompletionItem?o.resolveCompletionItem(e,n,s):s(e,n)}:void 0};return[i.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),a,...n),a]}}t.CompletionItemFeature=c},5122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;const i=n(9496),r=n(1747),o=n(4652),s=n(2667),a=n(7482);function c(e){if(e){if(Array.isArray(e))return e.map(c);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=c(e[n]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(r.ConfigurationRequest.type,((t,n)=>{let i=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},r=e.middleware.workspace;return r&&r.configuration?r.configuration(t,n,i):i(t)}))}getConfiguration(e,t){let n=null;if(t){let r=t.lastIndexOf(".");if(-1===r)n=c(i.workspace.getConfiguration(void 0,e).get(t));else{let o=i.workspace.getConfiguration(t.substr(0,r),e);o&&(n=c(o.get(t.substr(r+1))))}}else{let t=i.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=c(t.get(e)))}return void 0===n&&(n=null),n}dispose(){}},t.toJSONObject=c,t.SyncConfigurationFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return r.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,a.ensure)((0,a.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;void 0!==e&&this.register({id:s.generateUuid(),registerOptions:{section:e}})}register(e){let t=i.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(const e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=o.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;const i=async e=>void 0===e?this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)});let s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(n,i):i(n)).catch((e=>{this._client.error(`Sending notification ${r.DidChangeConfigurationNotification.type.method} failed`,e)}))}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let i=n[t[e]];i||(i=Object.create(null),n[t[e]]=i),n=i}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),u=null;if(u=a>=0?i.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):i.workspace.getConfiguration(void 0,n).get(s),u){let n=e[o].split(".");t(r,n)[n[n.length-1]]=c(u)}}return r}}},6443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DeclarationRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.declarationProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDeclaration:(e,t,n)=>{const i=this._client,o=(e,t,n)=>i.sendRequest(r.DeclarationRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDeclarationResult(e,n)),(e=>i.handleFailedRequest(r.DeclarationRequest.type,n,e,null))),s=i.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DeclarationFeature=s},5985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDefinition:(e,t,n)=>{const i=this._client,o=(e,t,n)=>i.sendRequest(r.DefinitionRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>i.handleFailedRequest(r.DefinitionRequest.type,n,e,null))),s=i.middleware;return s.provideDefinition?s.provideDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DefinitionFeature=a},7801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;const i=n(7339),r=n(9496),o=n(1747),s=n(2667),a=n(7482);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,h;!function(e){let t;!function(e){e.full="full",e.unChanged="unChanged"}(t=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(u=t.vsdiag||(t.vsdiag={})),function(e){e.onType="onType",e.onSave="onSave"}(l=t.DiagnosticPullMode||(t.DiagnosticPullMode={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(d||(d={}));class p{constructor(){this.open=new Set,this._onOpen=new r.EventEmitter,this._onClose=new r.EventEmitter,p.fillTabResources(this.open);void 0!==r.window.tabGroups.onDidChangeTabs?this.disposable=r.window.tabGroups.onDidChangeTabs((e=>{if(0===e.closed.length&&0===e.opened.length)return;const t=this.open,n=new Set;p.fillTabResources(n);const i=new Set,o=new Set(n);for(const e of t.values())n.has(e)?o.delete(e):i.add(e);if(this.open=n,i.size>0){const e=new Set;for(const t of i)e.add(r.Uri.parse(t));this._onClose.fire(e)}if(o.size>0){const e=new Set;for(const t of o)e.add(r.Uri.parse(t));this._onOpen.fire(e)}})):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof r.Uri?r.window.activeTextEditor?.document.uri===e:r.window.activeTextEditor?.document===e}isVisible(e){const t=e instanceof r.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){const e=new Set;return p.fillTabResources(new Set,e),e}static fillTabResources(e,t){const n=e??new Set;for(const e of r.window.tabGroups.all)for(const i of e.tabs){const e=i.input;let o;e instanceof r.TabInputText?o=e.uri:e instanceof r.TabInputTextDiff&&(o=e.modified),void 0===o||n.has(o.toString())||(n.add(o.toString()),void 0!==t&&t.add(o))}}}!function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(h||(h={}));class f{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){const i=e===h.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof r.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version];let c=i.get(o);return void 0===c&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){const o=e===h.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof r.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n];let l=o.get(s);void 0===l?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){const n=t instanceof r.Uri?t.toString():t.uri.toString();(e===h.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){const n=t instanceof r.Uri?t.toString():t.uri.toString();return(e===h.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){const n=t instanceof r.Uri?t.toString():t.uri.toString();return(e===h.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){const e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),void 0!==n.resultId&&e.push({uri:t,value:n.resultId});return e}}class g{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new r.EventEmitter,this.provider=this.createProvider(),this.diagnostics=r.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new f,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;const n=e instanceof r.Uri?e:e.uri;this.pullAsync(e).then((()=>{t&&t()}),(e=>{this.client.error(`Document pull failed for text document ${n.toString()}`,e,!1)}))}async pullAsync(e,t){if(this.isDisposed)return;const n=e instanceof r.Uri,i=n?e:e.uri,s=i.toString();t=n?t:e.version;const c=this.openRequests.get(s),l=n?this.documentStates.track(h.document,e,t):this.documentStates.track(h.document,e);if(void 0===c){const n=new r.CancellationTokenSource;let c,p;this.openRequests.set(s,{state:d.active,document:e,version:t,tokenSource:n});try{c=await this.provider.provideDiagnostics(e,l.resultId,n.token)??{kind:u.DocumentDiagnosticReportKind.full,items:[]}}catch(t){if(t instanceof a.LSPCancellationError&&o.DiagnosticServerCancellationData.is(t.data)&&!1===t.data.retriggerRequest&&(p={state:d.outDated,document:e}),!(void 0===p&&t instanceof r.CancellationError))throw t;p={state:d.reschedule,document:e}}if(p=p??this.openRequests.get(s),void 0===p)return this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),void this.diagnostics.delete(i);if(this.openRequests.delete(s),!this.tabs.isVisible(e))return void this.documentStates.unTrack(h.document,e);if(p.state===d.outDated)return;void 0!==c&&(c.kind===u.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,c.items),l.pulledVersion=t,l.resultId=c.resultId),p.state===d.reschedule&&this.pull(e)}else c.state===d.active?(c.tokenSource.cancel(),this.openRequests.set(s,{state:d.reschedule,document:c.document})):c.state===d.outDated&&this.openRequests.set(s,{state:d.reschedule,document:c.document})}forgetDocument(e){const t=e instanceof r.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?void 0!==i?this.openRequests.set(n,{state:d.reschedule,document:e}):this.pull(e,(()=>{this.forget(h.document,e)})):(void 0!==i&&(i.state===d.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:d.outDated,document:e})),this.diagnostics.delete(t),this.forget(h.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then((()=>{this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3)}),(e=>{e instanceof a.LSPCancellationError||o.DiagnosticServerCancellationData.is(e.data)||(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3))}))}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new r.CancellationTokenSource;const e=this.documentStates.getAllResultIds().map((e=>({uri:this.client.protocol2CodeConverter.asUri(e.uri),value:e.value})));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,(e=>{if(e&&!this.isDisposed)for(const t of e.items)t.kind===u.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(h.document,t.uri)||this.diagnostics.set(t.uri,t.items)),this.documentStates.update(h.workspace,t.uri,t.version??void 0,t.resultId)}))}createProvider(){const e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(e,t,n)=>{const i=(e,t,n)=>{const i={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(e instanceof r.Uri?e:e.uri)},previousResultId:t};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.DocumentDiagnosticRequest.type,i,n).then((async e=>null==e||this.isDisposed||n.isCancellationRequested?{kind:u.DocumentDiagnosticReportKind.full,items:[]}:e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,resultId:e.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,n)}:{kind:u.DocumentDiagnosticReportKind.unChanged,resultId:e.resultId}),(e=>this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,n,e,{kind:u.DocumentDiagnosticReportKind.full,items:[]}))):{kind:u.DocumentDiagnosticReportKind.full,items:[]}},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(e,t,n,i):i(e,t,n)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(e,t,n)=>{const i=async e=>e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,t)}:{kind:u.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version},r=e=>{const t=[];for(const n of e)t.push({uri:this.client.code2ProtocolConverter.asUri(n.uri),value:n.value});return t},a=(e,t)=>{const a=(0,s.generateUuid)(),c=this.client.onProgress(o.WorkspaceDiagnosticRequest.partialResult,a,(async e=>{if(null==e)return void n(null);const t={items:[]};for(const n of e.items)try{t.items.push(await i(n))}catch(e){this.client.error("Converting workspace diagnostics failed.",e)}n(t)})),u={identifier:this.options.identifier,previousResultIds:r(e),partialResultToken:a};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.WorkspaceDiagnosticRequest.type,u,t).then((async e=>{if(t.isCancellationRequested)return{items:[]};const r={items:[]};for(const t of e.items)r.items.push(await i(t));return c.dispose(),n(r),{items:[]}}),(e=>(c.dispose(),this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,t,e,{items:[]})))):{items:[]}},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(e,t,n,a):a(e,t)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[e,t]of this.openRequests)t.state===d.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:d.outDated,document:t.document});this.diagnostics.dispose()}}class m{constructor(e){this.diagnosticRequestor=e,this.documents=new o.LinkedMap,this.isDisposed=!1}add(e){if(!0===this.isDisposed)return;const t=e instanceof r.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,o.Touch.Last),this.trigger())}remove(e){const t=e instanceof r.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),0===this.documents.size?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){!0!==this.isDisposed&&(void 0===this.intervalHandle?(this.endDocument=this.documents.last,this.intervalHandle=(0,o.RAL)().timer.setInterval((()=>{const e=this.documents.first;if(void 0!==e){const t=e instanceof r.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,o.Touch.Last),e===this.endDocument&&this.stop()}}),200)):this.endDocument=this.documents.last)}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class y{constructor(e,t,n){const s=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},a=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),c=[],u=e=>e instanceof r.Uri?(e=>{const t=n.documentSelector;if(void 0!==s.match)return s.match(t,e);for(const n of t)if(o.TextDocumentFilter.is(n)){if("string"==typeof n)return!1;if(void 0!==n.language&&"*"!==n.language)return!1;if(void 0!==n.scheme&&"*"!==n.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==n.pattern){const t=new i.Minimatch(n.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(e.fsPath))return!1}}return!0})(e):r.languages.match(a,e)>0&&t.isVisible(e),d=e=>e instanceof r.Uri?this.activeTextDocument?.uri.toString()===e.toString():this.activeTextDocument===e;this.diagnosticRequestor=new g(e,t,n),this.backgroundScheduler=new m(this.diagnosticRequestor);const p=e=>{u(e)&&n.interFileDependencies&&!d(e)&&this.backgroundScheduler.add(e)};this.activeTextDocument=r.window.activeTextEditor?.document,r.window.onDidChangeActiveTextEditor((e=>{const t=this.activeTextDocument;this.activeTextDocument=e?.document,void 0!==t&&p(t),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)}));const f=e.getFeature(o.DidOpenTextDocumentNotification.method);c.push(f.onNotificationSent((e=>{const t=e.original;u(t)&&this.diagnosticRequestor.pull(t,(()=>{p(t)}))})));const y=new Set;for(const e of r.workspace.textDocuments)u(e)&&(this.diagnosticRequestor.pull(e,(()=>{p(e)})),y.add(e.uri.toString()));if(!0===s.onTabs)for(const e of t.getTabResources())!y.has(e.toString())&&u(e)&&this.diagnosticRequestor.pull(e,(()=>{p(e)}));if(t.onOpen((e=>{for(const t of e)u(t)&&!this.diagnosticRequestor.knows(h.document,t)&&this.diagnosticRequestor.pull(t,(()=>{p(t)}))})),!0===s.onChange){const t=e.getFeature(o.DidChangeTextDocumentNotification.method);c.push(t.onNotificationSent((async e=>{const t=e.original.document;(void 0===s.filter||!s.filter(t,l.onType))&&this.diagnosticRequestor.knows(h.document,t)&&e.original.contentChanges.length>0&&this.diagnosticRequestor.pull(t,(()=>{this.backgroundScheduler.trigger()}))})))}if(!0===s.onSave){const t=e.getFeature(o.DidSaveTextDocumentNotification.method);c.push(t.onNotificationSent((e=>{const t=e.original;void 0!==s.filter&&s.filter(t,l.onSave)||!this.diagnosticRequestor.knows(h.document,t)||this.diagnosticRequestor.pull(e.original,(()=>{this.backgroundScheduler.trigger()}))})))}const v=e.getFeature(o.DidCloseTextDocumentNotification.method);c.push(v.onNotificationSent((e=>{this.cleanUpDocument(e.original)}))),t.onClose((e=>{for(const t of e)this.cleanUpDocument(t)})),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((()=>{for(const e of r.workspace.textDocuments)u(e)&&this.diagnosticRequestor.pull(e)})),!0===n.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==n.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=r.Disposable.from(...c,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(h.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}}class v extends a.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,c(c(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.DiagnosticRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}));let[n,i]=this.getRegistration(t,e.diagnosticProvider);n&&i&&this.register({id:n,registerOptions:i})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){void 0===this.tabs&&(this.tabs=new p);const t=new y(this._client,this.tabs,e);return[t.disposable,t]}}t.DiagnosticFeature=v},7853:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentHighlights:(e,t,n)=>{const i=this._client,o=(e,t,n)=>i.sendRequest(r.DocumentHighlightRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDocumentHighlights(e,n)),(e=>i.handleFailedRequest(r.DocumentHighlightRequest.type,n,e,null))),s=i.middleware;return s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,n,o):o(e,t,n)}};return[i.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentHighlightFeature=a},1108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentLinks:(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asDocumentLinks(e,t)),(e=>n.handleFailedRequest(r.DocumentLinkRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentLinks?o.provideDocumentLinks(e,t,i):i(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client;let i=(e,t)=>n.sendRequest(r.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then((i=>t.isCancellationRequested?e:n.protocol2CodeConverter.asDocumentLink(i)),(i=>n.handleFailedRequest(r.DocumentLinkResolveRequest.type,t,i,e)));const o=n.middleware;return o.resolveDocumentLink?o.resolveDocumentLink(e,t,i):i(e,t)}:void 0};return[i.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentLinkFeature=a},253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667);t.SupportedSymbolKinds=[r.SymbolKind.File,r.SymbolKind.Module,r.SymbolKind.Namespace,r.SymbolKind.Package,r.SymbolKind.Class,r.SymbolKind.Method,r.SymbolKind.Property,r.SymbolKind.Field,r.SymbolKind.Constructor,r.SymbolKind.Enum,r.SymbolKind.Interface,r.SymbolKind.Function,r.SymbolKind.Variable,r.SymbolKind.Constant,r.SymbolKind.String,r.SymbolKind.Number,r.SymbolKind.Boolean,r.SymbolKind.Array,r.SymbolKind.Object,r.SymbolKind.Key,r.SymbolKind.Null,r.SymbolKind.EnumMember,r.SymbolKind.Struct,r.SymbolKind.Event,r.SymbolKind.Operator,r.SymbolKind.TypeParameter],t.SupportedSymbolTags=[r.SymbolTag.Deprecated];class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentSymbols:(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t).then((async e=>{if(t.isCancellationRequested||null==e)return null;if(0===e.length)return[];{const i=e[0];return r.DocumentSymbol.is(i)?await n.protocol2CodeConverter.asDocumentSymbols(e,t):await n.protocol2CodeConverter.asSymbolInformations(e,t)}}),(e=>n.handleFailedRequest(r.DocumentSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,i):i(e,t)}},o=void 0!==e.label?{label:e.label}:void 0;return[i.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,o),n]}}t.DocumentSymbolFeature=a},2716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;const i=n(9496),r=n(1747),o=n(2667),s=n(7482);t.ExecuteCommandFeature=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return r.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:o.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,n=t.middleware,o=(e,n)=>{let i={command:e,arguments:n};return t.sendRequest(r.ExecuteCommandRequest.type,i).then(void 0,(e=>t.handleFailedRequest(r.ExecuteCommandRequest.type,void 0,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const r of e.registerOptions.commands)t.push(i.commands.registerCommand(r,((...e)=>n.executeCommand?n.executeCommand(r,e,o):o(r,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}},7482:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;const i=n(9496),r=n(1747),o=n(4652),s=n(2667);class a extends i.CancellationError{constructor(e){super(),this.data=e}}t.LSPCancellationError=a,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},(t.StaticFeature||(t.StaticFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))},(t.DynamicFeature||(t.DynamicFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))&&o.func(t.register)&&o.func(t.unregister)&&void 0!==t.registrationType};class c{constructor(e){this._client=e}getState(){const e=this.getDocumentSelectors();let t=0;for(const n of e){t++;for(const e of i.workspace.textDocuments)if(i.languages.match(n,e)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}const n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}}t.DynamicDocumentFeature=c,t.TextDocumentEventFeature=class extends c{constructor(e,t,n,r,o,s,a){super(e),this._event=t,this._type=n,this._middleware=r,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new i.EventEmitter}static textDocumentFilter(e,t){for(const n of e)if(i.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((e=>{this.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed.`,e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){const t=async e=>{const t=this._createParams(e);await this._client.sendNotification(this._type,t).catch(),this.notificationSent(e,this._type,t)};if(this.matches(e)){const n=this._middleware();return n?n(e,(e=>t(e))):t(e)}}matches(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(i.languages.match(t,e)>0)return{send:e=>this.callback(e)}}},t.TextDocumentLanguageFeature=class extends c{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(const e of this._registrations.values()){const t=e.data.registerOptions.documentSelector;null!==t&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(r.TextDocumentRegistrationOptions.is(t)){const n=r.StaticRegistrationOptions.hasId(t)?t.id:s.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(o.boolean(t)&&!0===t||r.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[s.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(null!==n&&i.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}},t.WorkspaceFeature=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}},2925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const i=n(9496),r=n(7339),o=n(1747),s=n(2667);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function c(e,t,n){e[t]=n}class u{constructor(e,t,n,i,r){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=r,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");c(t,"dynamicRegistration",!0),c(t,this._clientCapability,!0)}initialize(e){const t=e.workspace?.fileOperations,n=void 0!==t?t[this._serverCapability]:void 0;if(void 0!==n?.filters)try{this.register({id:s.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new r.Minimatch(e.pattern.glob,u.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return u.getFileType(e)}async filter(e,t){const n=await Promise.all(e.files.map((async e=>{const n=t(e),r=n.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===n.scheme)if(t.matcher.match(r)){if(void 0===t.kind)return!0;const e=await this.getFileType(n);if(void 0===e)return this._client.error(`Failed to determine file type for ${n.toString()}.`),!0;if(e===i.FileType.File&&t.kind===o.FileOperationPatternKind.file||e===i.FileType.Directory&&t.kind===o.FileOperationPatternKind.folder)return!0}else if(t.kind===o.FileOperationPatternKind.folder&&await u.getFileType(n)===i.FileType.Directory&&t.matcher.match(`${r}/`))return!0;return!1}))),r=e.files.filter(((e,t)=>n[t]));return{...e,files:r}}static async getFileType(e){try{return(await i.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}class l extends u{constructor(e,t,n,i,r,o,s){super(e,t,n,i,r),this._notificationType=n,this._accessUri=o,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>this._client.sendNotification(this._notificationType,this._createParams(e));return this.doSend(t,e)}}}class d extends l{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){const t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);const n=await u.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}t.DidCreateFilesFeature=class extends l{constructor(e){super(e,i.workspace.onDidCreateFiles,o.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends d{constructor(e){super(e,i.workspace.onDidRenameFiles,o.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=i.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,(e=>e.oldUri)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends d{constructor(e){super(e,i.workspace.onDidDeleteFiles,o.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=i.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,(e=>e)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};class h extends u{constructor(e,t,n,i,r,o,s){super(e,t,n,i,r),this._requestType=n,this._accessUri=o,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e),e.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends h{constructor(e){super(e,i.workspace.onWillCreateFiles,o.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends h{constructor(e){super(e,i.workspace.onWillRenameFiles,o.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends h{constructor(e){super(e,i.workspace.onWillDeleteFiles,o.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}},8029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);t.FileSystemWatcherFeature=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return r.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;const t=[];for(const n of e.registerOptions.watchers){const e=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(void 0===e)continue;let o=!0,s=!0,a=!0;void 0!==n.kind&&null!==n.kind&&(o=0!=(n.kind&r.WatchKind.Create),s=0!=(n.kind&r.WatchKind.Change),a=0!=(n.kind&r.WatchKind.Delete));const c=i.workspace.createFileSystemWatcher(e,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Created})),null,o),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Changed})),null,o),i&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Deleted})),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}},8357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[r.FoldingRangeKind.Comment,r.FoldingRangeKind.Imports,r.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideFoldingRanges:(e,t,n)=>{const i=this._client,o=(e,t,n)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e)};return i.sendRequest(r.FoldingRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asFoldingRanges(e,n)),(e=>i.handleFailedRequest(r.FoldingRangeRequest.type,n,e,null)))},s=i.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,n,o):o(e,0,n)}};return[i.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.FoldingRangeFeature=s},8314:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;const i=n(9496),r=n(1747),o=n(2667),s=n(7482);var a;!function(e){e.fromConfiguration=function(e){const t=i.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(a||(a={}));class c extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentFormattingEdits:(e,t,n)=>{const i=this._client,o=(e,t,n)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),options:i.code2ProtocolConverter.asFormattingOptions(t,a.fromConfiguration(e))};return i.sendRequest(r.DocumentFormattingRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asTextEdits(e,n)),(e=>i.handleFailedRequest(r.DocumentFormattingRequest.type,n,e,null)))},s=i.middleware;return s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,n,o):o(e,t,n)}};return[i.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentFormattingFeature=c;class u extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(e,t,n,i)=>{const o=this._client,s=(e,t,n,i)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),options:o.code2ProtocolConverter.asFormattingOptions(n,a.fromConfiguration(e))};return o.sendRequest(r.DocumentRangeFormattingRequest.type,s,i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asTextEdits(e,i)),(e=>o.handleFailedRequest(r.DocumentRangeFormattingRequest.type,i,e,null)))},c=o.middleware;return c.provideDocumentRangeFormattingEdits?c.provideDocumentRangeFormattingEdits(e,t,n,i,s):s(e,t,n,i)}};return[i.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentRangeFormattingFeature=u;class l extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideOnTypeFormattingEdits:(e,t,n,i,o)=>{const s=this._client,c=(e,t,n,i,o)=>{let c={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),ch:n,options:s.code2ProtocolConverter.asFormattingOptions(i,a.fromConfiguration(e))};return s.sendRequest(r.DocumentOnTypeFormattingRequest.type,c,o).then((e=>o.isCancellationRequested?null:s.protocol2CodeConverter.asTextEdits(e,o)),(e=>s.handleFailedRequest(r.DocumentOnTypeFormattingRequest.type,o,e,null)))},u=s.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,n,i,o,c):c(e,t,n,i,o)}},o=e.moreTriggerCharacter||[];return[i.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...o),n]}}t.DocumentOnTypeFormattingFeature=l},9259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.HoverRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[r.MarkupKind.Markdown,r.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideHover:(e,t,n)=>{const i=this._client,o=(e,t,n)=>i.sendRequest(r.HoverRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asHover(e)),(e=>i.handleFailedRequest(r.HoverRequest.type,n,e,null))),s=i.middleware;return s.provideHover?s.provideHover(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.HoverFeature=a},7567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideImplementation:(e,t,n)=>{const i=this._client,o=(e,t,n)=>i.sendRequest(r.ImplementationRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>i.handleFailedRequest(r.ImplementationRequest.type,n,e,null))),s=i.middleware;return s.provideImplementation?s.provideImplementation(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ImplementationFeature=s},4462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.InlayHintRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.InlayHintRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlayHints.fire()}));const[n,i]=this.getRegistration(t,e.inlayHintProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n=new i.EventEmitter,o={onDidChangeInlayHints:n.event,provideInlayHints:(e,t,n)=>{const i=this._client,o=async(e,t,n)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t)};try{const e=await i.sendRequest(r.InlayHintRequest.type,o,n);return n.isCancellationRequested?null:i.protocol2CodeConverter.asInlayHints(e,n)}catch(e){return i.handleFailedRequest(r.InlayHintRequest.type,n,e,null)}},s=i.middleware;return s.provideInlayHints?s.provideInlayHints(e,t,n,o):o(e,t,n)}};return o.resolveInlayHint=!0===e.resolveProvider?(e,t)=>{const n=this._client,i=async(e,t)=>{try{const i=await n.sendRequest(r.InlayHintResolveRequest.type,n.code2ProtocolConverter.asInlayHint(e),t);if(t.isCancellationRequested)return null;const o=n.protocol2CodeConverter.asInlayHint(i,t);return t.isCancellationRequested?null:o}catch(e){return n.handleFailedRequest(r.InlayHintResolveRequest.type,t,e,null)}},o=n.middleware;return o.resolveInlayHint?o.resolveInlayHint(e,t,i):i(e,t)}:void 0,[this.registerProvider(t,o),{provider:o,onDidChangeInlayHints:n}]}registerProvider(e,t){return i.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlayHintsFeature=s},1973:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.InlineValueRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.InlineValueRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlineValues.fire()}));const[n,i]=this.getRegistration(t,e.inlineValueProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n=new i.EventEmitter,o={onDidChangeInlineValues:n.event,provideInlineValues:(e,t,n,i)=>{const o=this._client,s=(e,t,n,i)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:o.code2ProtocolConverter.asInlineValueContext(n)};return o.sendRequest(r.InlineValueRequest.type,s,i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asInlineValues(e,i)),(e=>o.handleFailedRequest(r.InlineValueRequest.type,i,e,null)))},a=o.middleware;return a.provideInlineValues?a.provideInlineValues(e,t,n,i,s):s(e,t,n,i)}};return[this.registerProvider(t,o),{provider:o,onDidChangeInlineValues:n}]}registerProvider(e,t){return i.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlineValueFeature=s},4722:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideLinkedEditingRanges:(e,t,n)=>{const i=this._client,o=(e,t,n)=>i.sendRequest(r.LinkedEditingRangeRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asLinkedEditingRanges(e,n)),(e=>i.handleFailedRequest(r.LinkedEditingRangeRequest.type,n,e,null))),s=i.middleware;return s.provideLinkedEditingRange?s.provideLinkedEditingRange(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.LinkedEditingFeature=s},2488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;const i=n(9496),r=n(7339),o=n(1747),s=n(2667),a=n(4652);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,h,p;!function(e){let t;!function(t){function n(e,t){return e.map((e=>s(e,t)))}function r(e){return c(new Set,e)}function s(e,t){const n=o.NotebookCell.create(function(e){switch(e){case i.NotebookCellKind.Markup:return o.NotebookCellKind.Markup;case i.NotebookCellKind.Code:return o.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=r(e.metadata)),void 0!==e.executionSummary&&a.number(e.executionSummary.executionOrder)&&a.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function c(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){const n=[];for(const i of t)if(null!==i&&"object"==typeof i||Array.isArray(i))n.push(c(e,i));else{if(i instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");n.push(i)}return n}{const n=Object.keys(t),i=Object.create(null);for(const r of n){const n=t[r];if(null!==n&&"object"==typeof n||Array.isArray(n))i[r]=c(e,n);else{if(n instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");i[r]=n}}return i}}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,i){const s=o.NotebookDocument.create(i.asUri(e.uri),e.notebookType,e.version,n(t,i));return Object.keys(e.metadata).length>0&&(s.metadata=r(e.metadata)),s},t.asNotebookCells=n,t.asMetadata=r,t.asNotebookCell=s,t.asTextContentChange=function(e,t){const n=t.asChangeTextDocumentParams(e);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){const i=Object.create(null);if(t.metadata&&(i.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){const r=Object.create(null),o=t.cells;o.structure&&(r.structure={array:{start:o.structure.array.start,deleteCount:o.structure.array.deleteCount,cells:void 0!==o.structure.array.cells?o.structure.array.cells.map((t=>e.c2p.asNotebookCell(t,n))):void 0},didOpen:void 0!==o.structure.didOpen?o.structure.didOpen.map((e=>n.asOpenTextDocumentParams(e.document).textDocument)):void 0,didClose:void 0!==o.structure.didClose?o.structure.didClose.map((e=>n.asCloseTextDocumentParams(e.document).textDocument)):void 0}),void 0!==o.data&&(r.data=o.data.map((t=>e.c2p.asNotebookCell(t,n)))),void 0!==o.textContent&&(r.textContent=o.textContent.map((t=>e.c2p.asTextContentChange(t,n)))),Object.keys(r).length>0&&(i.cells=r)}return i}}(t=e.c2p||(e.c2p={}))}(u||(u={})),function(e){function t(e,t,i=!0){return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.startTime===t.startTime&&e.endTime===t.endTime)}(e.timing,t.timing))}(e.executionSummary,t.executionSummary))&&(!i||i&&n(e.metadata,t.metadata))}function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),o=Array.isArray(t);if(r!==o)return!1;if(r&&o){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}if(i(e)&&i(t)){const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;if(i.sort(),r.sort(),!n(i,r))return!1;for(let r=0;r<i.length;r++){const o=i[r];if(!n(e[o],t[o]))return!1}return!0}return!1}function i(e){return null!==e&&"object"==typeof e}e.computeDiff=function(e,n,i){const r=e.length,o=n.length;let s=0;for(;s<o&&s<r&&t(e[s],n[s],i);)s++;if(s<o&&s<r){let a=r-1,c=o-1;for(;a>=0&&c>=0&&t(e[a],n[c],i);)a--,c--;const u=a+1-s,l=s===c+1?void 0:n.slice(s,c+1);return void 0!==l?{start:s,deleteCount:u,cells:l}:{start:s,deleteCount:u}}return s<o?{start:s,deleteCount:0,cells:n.slice(s)}:s<r?{start:s,deleteCount:r-s}:void 0},e.isObjectLiteral=i}(l||(l={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;const n=t.uri;if(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==e.pattern){const t=new r.Minimatch(e.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(n.fsPath))return!1}return!0}}(d||(d={})),function(e){function t(e,t,n,i){return void 0===t&&void 0===n?{notebook:e,language:i}:{notebook:{notebookType:e,scheme:t,pattern:n},language:i}}e.asDocumentSelector=function(e){const n=e.notebookSelector,i=[];for(const e of n){const n=("string"==typeof e.notebook?e.notebook:e.notebook?.notebookType)??"*",r="string"==typeof e.notebook?void 0:e.notebook?.scheme,o="string"==typeof e.notebook?void 0:e.notebook?.pattern;if(void 0!==e.cells)for(const s of e.cells)i.push(t(n,r,o,s.language));else i.push(t(n,r,o,void 0))}return i}}(h||(h={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((e=>e.document.uri.toString())))}}}(p||(p={}));class f{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(h.asDocumentSelector(t)),i.workspace.onDidOpenNotebookDocument((e=>{this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e)}),void 0,this.disposables);for(const e of i.workspace.notebookDocuments)this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e);i.workspace.onDidChangeNotebookDocument((e=>this.didChangeNotebookDocument(e)),void 0,this.disposables),!0===this.options.save&&i.workspace.onDidSaveNotebookDocument((e=>this.didSave(e)),void 0,this.disposables),i.workspace.onDidCloseNotebookDocument((e=>{this.didClose(e),this.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}getState(){for(const e of i.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(e))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return i.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(0===i.languages.match(this.selector,t.document))return;if(!this.notebookDidOpen.has(e.uri.toString()))return;const n=this.notebookSyncInfo.get(e.uri.toString()),r=this.cellMatches(e,t);if(void 0!==n){const i=n.uris.has(t.document.uri.toString());if(r&&i||!r&&!i)return;if(r){const t=this.getMatchingCells(e);if(void 0!==t){const i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==i&&this.doSendChange(i,t).catch((()=>{}))}}}else r&&this.doSendOpen(e,[t]).catch((()=>{}))}didChangeNotebookCellTextDocument(e,t){0!==i.languages.match(this.selector,t.document)&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch((()=>{}))}didCloseNotebookCellTextDocument(e,t){const n=this.notebookSyncInfo.get(e.uri.toString());if(void 0===n)return;const i=t.document.uri,r=n.cells.findIndex((e=>e.document.uri.toString()===i.toString()));if(-1!==r)if(0===r&&1===n.cells.length)this.doSendClose(e,n.cells).catch((()=>{}));else{const t=n.cells.slice(),i=t.splice(r,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:r,deleteCount:1},didClose:i}}},t).catch((()=>{}))}}dispose(){for(const e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(void 0!==n)if(void 0!==t){const i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==i&&this.doSendChange(i,t).catch((()=>{}))}else this.doSendClose(e,[]).catch((()=>{}));else{if(void 0===t)return;this.doSendOpen(e,t).catch((()=>{}))}}didChangeNotebookDocument(e){const t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(void 0===n){if(0===e.contentChanges.length)return;const i=this.getMatchingCells(t);if(void 0===i)return;this.didOpen(t,i,n)}else{const i=this.getMatchingCells(t);if(void 0===i)return void this.didClose(t,n);const r=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);void 0!==r&&this.doSendChange(r,i).catch((()=>{}))}}didSave(e){void 0!==this.notebookSyncInfo.get(e.uri.toString())&&this.doSendSave(e).catch((()=>{}))}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(void 0===t)return;const n=e.getCells().filter((e=>t.uris.has(e.document.uri.toString())));this.doSendClose(e,n).catch((()=>{}))}async sendDidOpenNotebookDocument(e){const t=this.getMatchingCells(e);if(void 0!==t)return this.doSendOpen(e,t)}async doSendOpen(e,t){const n=async(e,t)=>{const n=u.c2p.asNotebookDocument(e,t,this.client.code2ProtocolConverter),i=t.map((e=>this.client.code2ProtocolConverter.asTextDocumentItem(e.document)));try{await this.client.sendNotification(o.DidOpenNotebookDocumentNotification.type,{notebookDocument:n,cellTextDocuments:i})}catch(e){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",e),e}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),p.create(t)),void 0!==i?.didOpen?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){const n=async e=>{try{await this.client.sendNotification(o.DidChangeNotebookDocumentNotification.type,{notebookDocument:u.c2p.asVersionedNotebookDocumentIdentifier(e.notebook,this.client.code2ProtocolConverter),change:u.c2p.asNotebookDocumentChangeEvent(e,this.client.code2ProtocolConverter)})}catch(e){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",e),e}},i=this.client.middleware?.notebooks;return void 0!==e.cells?.structure&&this.notebookSyncInfo.set(e.notebook.uri.toString(),p.create(t??[])),void 0!==i?.didChange?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){const t=async e=>{try{await this.client.sendNotification(o.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)}})}catch(e){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",e),e}},n=this.client.middleware?.notebooks;return void 0!==n?.didSave?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){const n=async(e,t)=>{try{await this.client.sendNotification(o.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)},cellTextDocuments:t.map((e=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)))})}catch(e){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",e),e}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),void 0!==i?.didClose?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");const r={notebook:e};let o;if(void 0!==t?.metadata&&(r.metadata=u.c2p.asMetadata(t.metadata)),void 0!==t?.cellChanges&&t.cellChanges.length>0){const e=[];o=new Set(i.map((e=>e.document.uri.toString())));for(const n of t.cellChanges)!o.has(n.cell.document.uri.toString())||void 0===n.executionSummary&&void 0===n.metadata||e.push(n.cell);e.length>0&&(r.cells=r.cells??{},r.cells.data=e)}if((void 0!==t?.contentChanges&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==i){const e=n.cells,t=i,o=l.computeDiff(e,t,!1);let s,a;if(void 0!==o){s=void 0===o.cells?new Map:new Map(o.cells.map((e=>[e.document.uri.toString(),e]))),a=0===o.deleteCount?new Map:new Map(e.slice(o.start,o.start+o.deleteCount).map((e=>[e.document.uri.toString(),e])));for(const e of Array.from(a.keys()))s.has(e)&&(a.delete(e),s.delete(e));r.cells=r.cells??{};const t=[],n=[];if(s.size>0||a.size>0){for(const e of s.values())t.push(e);for(const e of a.values())n.push(e)}r.cells.structure={array:o,didOpen:t,didClose:n}}}return Object.keys(r).length>1?r:void 0}getMatchingCells(e,t=e.getCells()){if(void 0!==this.options.notebookSelector)for(const n of this.options.notebookSelector)if(void 0===n.notebook||d.matchNotebook(n.notebook,e)){const i=this.filterCells(e,t,n.cells);return 0===i.length?void 0:i}}cellMatches(e,t){const n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}filterCells(e,t,n){const i=void 0!==n?t.filter((e=>{const t=e.document.languageId;return n.some((e=>"*"===e.language||t===e.language))})):t;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}}class g{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=o.NotebookDocumentSyncRegistrationType.type,i.workspace.onDidOpenTextDocument((e=>{if(e.uri.scheme!==g.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didOpenNotebookCellTextDocument(t,n)})),i.workspace.onDidChangeTextDocument((e=>{if(0===e.contentChanges.length)return;const t=e.document;if(t.uri.scheme!==g.CellScheme)return;const[n]=this.findNotebookDocumentAndCell(t);if(void 0!==n)for(const t of this.registrations.values())t instanceof f&&t.didChangeNotebookCellTextDocument(n,e)})),i.workspace.onDidCloseTextDocument((e=>{if(e.uri.scheme!==g.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didCloseNotebookCellTextDocument(t,n)}))}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const e of this.registrations.values()){const t=e.getState();if("document"===t.kind&&!0===t.registrations&&!0===t.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){const t=c(c(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){const t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(h.asDocumentSelector(t)))}initialize(e){const t=e.notebookDocumentSync;if(void 0===t)return;const n=t.id??s.generateUuid();this.register({id:n,registerOptions:t})}register(e){const t=new f(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){const t=this.registrations.get(e);t&&t.dispose()}dispose(){for(const e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==g.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&i.languages.match(this.dedicatedChannel,e)>0)return!0;for(const t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(const t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){const t=e.uri.toString();for(const e of i.workspace.notebookDocuments)for(const n of e.getCells())if(n.document.uri.toString()===t)return[e,n];return[void 0,void 0]}}t.NotebookDocumentSyncFeature=g,g.CellScheme="vscode-notebook-cell"},4585:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const i=n(1747),r=n(5984);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:i.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(i.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new r.ProgressPart(this._client,e.token,t))}))}dispose(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},5984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const i=n(9496),r=n(1747),o=n(4652);t.ProgressPart=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(r.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&i.window.withProgress({location:i.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>{if(void 0!==this._lspProgressDisposable)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(r.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}))}report(e){if(this._infinite&&o.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(o.number(e.percentage)){const t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.CallHierarchyItem{constructor(e,t,n,i,r,o,s){super(e,t,n,i,r,o),void 0!==s&&(this.data=s)}}t.default=r},5958:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=r},2817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.CodeLens{constructor(e){super(e)}}t.default=r},9147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.CompletionItem{constructor(e){super(e)}}t.default=r},1011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const i=n(9496),r=n(1747),o=n(4652),s=n(899),a=n(9147),c=n(2817),u=n(8501),l=n(5958),d=n(8171),h=n(777),p=n(9585),f=n(6363),g=n(570),m=n(1747);var y;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(y||(y={})),t.createConverter=function(e,t,n){const v=e||(e=>i.Uri.parse(e));function b(e){return v(e)}function S(e){let t=new d.ProtocolDiagnostic(w(e.range),e.message,x(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)r.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:b(e.codeDescription.href)}:t.code=e.code;else if(d.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;const n=e.code;t.code={value:n.value,target:b(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=new i.DiagnosticRelatedInformation(L(r.location),r.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=C(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function C(e){switch(e){case r.DiagnosticTag.Unnecessary:return i.DiagnosticTag.Unnecessary;case r.DiagnosticTag.Deprecated:return i.DiagnosticTag.Deprecated;default:return}}function D(e){return e?new i.Position(e.line,e.character):void 0}function w(e){return e?new i.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}async function E(e,t){return s.map(e,(e=>new i.Range(e.start.line,e.start.character,e.end.line,e.end.character)),t)}function x(e){if(null==e)return i.DiagnosticSeverity.Error;switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}return i.DiagnosticSeverity.Error}function _(e){if(o.string(e))return e;switch(e.kind){case r.MarkupKind.Markdown:return k(e.value);case r.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function k(e){let o;if(void 0===e||"string"==typeof e)o=new i.MarkdownString(e);else switch(e.kind){case r.MarkupKind.Markdown:o=new i.MarkdownString(e.value);break;case r.MarkupKind.PlainText:o=new i.MarkdownString,o.appendText(e.value);break;default:o=new i.MarkdownString,o.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`)}return o.isTrusted=t,o.supportHtml=n,o}function T(e){if(e===r.CompletionItemTag.Deprecated)return i.CompletionItemTag.Deprecated}function F(e,t,n,s,c,u){const l=function(e){if(null==e)return[];const t=[];for(const n of e){const e=T(n);void 0!==e&&t.push(e)}return t}(e.tags),d=function(e){return r.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),h=new a.default(d);e.detail&&(h.detail=e.detail),e.documentation&&(h.documentation=_(e.documentation),h.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(h.filterText=e.filterText);const p=function(e,t,n){const o=e.insertTextFormat??n;if(void 0!==e.textEdit||void 0!==t){const[n,a]=void 0!==e.textEdit?(s=e.textEdit,r.InsertReplaceEdit.is(s)?[{inserting:w(s.insert),replacing:w(s.replace)},s.newText]:[w(s.range),s.newText]):[t,e.textEditText??e.label];return o===r.InsertTextFormat.Snippet?{text:new i.SnippetString(a),range:n,fromEdit:!0}:{text:a,range:n,fromEdit:!0}}return e.insertText?o===r.InsertTextFormat.Snippet?{text:new i.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0;var s}(e,n,c);if(p&&(h.insertText=p.text,h.range=p.range,h.fromEdit=p.fromEdit),o.number(e.kind)){let[t,n]=(f=e.kind,r.CompletionItemKind.Text<=f&&f<=r.CompletionItemKind.TypeParameter?[f-1,void 0]:[i.CompletionItemKind.Text,f]);h.kind=t,n&&(h.originalItemKind=n)}var f;e.sortText&&(h.sortText=e.sortText),e.additionalTextEdits&&(h.additionalTextEdits=P(e.additionalTextEdits));const g=void 0!==e.commitCharacters?o.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;g&&(h.commitCharacters=g.slice()),e.command&&(h.command=G(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(h.deprecated=e.deprecated,!0===e.deprecated&&l.push(i.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(h.preselect=e.preselect);const m=e.data??u;void 0!==m&&(h.data=m),l.length>0&&(h.tags=l);const y=e.insertTextMode??s;return void 0!==y&&(h.insertTextMode=y,y===r.InsertTextMode.asIs&&(h.keepWhitespace=!0)),h}function R(e){if(e)return new i.TextEdit(w(e.range),e.newText)}async function A(e,t){if(e)return s.map(e,R,t)}function P(e){if(!e)return;const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=R(e[n]);return t}async function O(e,t){return s.mapAsync(e,I,t)}async function I(e,t){let n=new i.SignatureInformation(e.label);return void 0!==e.documentation&&(n.documentation=_(e.documentation)),void 0!==e.parameters&&(n.parameters=await N(e.parameters,t)),void 0!==e.activeParameter&&(n.activeParameter=e.activeParameter),n}function N(e,t){return s.map(e,M,t)}function M(e){let t=new i.ParameterInformation(e.label);return e.documentation&&(t.documentation=_(e.documentation)),t}function L(e){return e?new i.Location(v(e.uri),w(e.range)):void 0}function j(e){if(!e)return;let t={targetUri:v(e.targetUri),targetRange:w(e.targetRange),originSelectionRange:w(e.originSelectionRange),targetSelectionRange:w(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}async function q(e,t){if(e){if(o.array(e)){if(0===e.length)return[];if(r.LocationLink.is(e[0])){const n=e;return s.map(n,j,t)}{const n=e;return s.map(n,L,t)}}return r.LocationLink.is(e)?[j(e)]:L(e)}}function B(e){let t=new i.DocumentHighlight(w(e.range));return o.number(e.kind)&&(t.kind=U(e.kind)),t}function U(e){switch(e){case r.DocumentHighlightKind.Text:return i.DocumentHighlightKind.Text;case r.DocumentHighlightKind.Read:return i.DocumentHighlightKind.Read;case r.DocumentHighlightKind.Write:return i.DocumentHighlightKind.Write}return i.DocumentHighlightKind.Text}function $(e){return e<=r.SymbolKind.TypeParameter?e-1:i.SymbolKind.Property}function W(e){if(e===r.SymbolTag.Deprecated)return i.SymbolTag.Deprecated}function K(e){if(null==e)return;const t=[];for(const n of e){const e=W(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function H(e){const t=e.data,n=e.location,r=void 0===n.range||void 0!==t?new f.default(e.name,$(e.kind),e.containerName??"",void 0===n.range?v(n.uri):new i.Location(v(e.location.uri),w(n.range)),t):new i.SymbolInformation(e.name,$(e.kind),e.containerName??"",new i.Location(v(e.location.uri),w(n.range)));return z(r,e),r}function V(e){let t=new i.DocumentSymbol(e.name,e.detail||"",$(e.kind),w(e.range),w(e.selectionRange));if(z(t,e),void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(V(t));t.children=n}return t}function z(e,t){e.tags=K(t.tags),t.deprecated&&(e.tags?e.tags.includes(i.SymbolTag.Deprecated)||(e.tags=e.tags.concat(i.SymbolTag.Deprecated)):e.tags=[i.SymbolTag.Deprecated])}function G(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const J=new Map;function X(e){if(null==e)return;let t=J.get(e);if(t)return t;let n=e.split(".");t=i.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}async function Y(e,t){if(null==e)return;let n=new l.default(e.title,e.data);return void 0!==e.kind&&(n.kind=X(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=S(e[n]);return t}(e.diagnostics)),void 0!==e.edit&&(n.edit=await Z(e.edit,t)),void 0!==e.command&&(n.command=G(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n}function Q(e){if(!e)return;let t=new c.default(w(e.range));return e.command&&(t.command=G(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}async function Z(e,t){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations){const i=e.changeAnnotations;await s.forEach(Object.keys(i),(e=>{const t=function(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}(i[e]);n.set(e,t)}),t)}const o=e=>void 0===e?void 0:n.get(e),a=new i.WorkspaceEdit;if(e.documentChanges){const n=e.documentChanges;await s.forEach(n,(e=>{if(r.CreateFile.is(e))a.createFile(v(e.uri),e.options,o(e.annotationId));else if(r.RenameFile.is(e))a.renameFile(v(e.oldUri),v(e.newUri),e.options,o(e.annotationId));else if(r.DeleteFile.is(e))a.deleteFile(v(e.uri),e.options,o(e.annotationId));else{if(!r.TextDocumentEdit.is(e))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`);{const t=v(e.textDocument.uri);for(const n of e.edits)r.AnnotatedTextEdit.is(n)?a.replace(t,w(n.range),n.newText,o(n.annotationId)):a.replace(t,w(n.range),n.newText)}}}),t)}else if(e.changes){const n=e.changes;await s.forEach(Object.keys(n),(e=>{a.set(v(e),P(n[e]))}),t)}return a}function ee(e){let t=w(e.range),n=e.target?b(e.target):void 0,i=new u.default(t,n);return void 0!==e.tooltip&&(i.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(i.data=e.data),i}function te(e){return new i.Color(e.red,e.green,e.blue,e.alpha)}function ne(e){return new i.ColorInformation(w(e.range),te(e.color))}function ie(e){let t=new i.ColorPresentation(e.label);return t.additionalTextEdits=P(e.additionalTextEdits),e.textEdit&&(t.textEdit=R(e.textEdit)),t}function re(e){if(e)switch(e){case r.FoldingRangeKind.Comment:return i.FoldingRangeKind.Comment;case r.FoldingRangeKind.Imports:return i.FoldingRangeKind.Imports;case r.FoldingRangeKind.Region:return i.FoldingRangeKind.Region}}function oe(e){return new i.FoldingRange(e.startLine,e.endLine,re(e.kind))}function se(e){return new i.SelectionRange(w(e.range),e.parent?se(e.parent):void 0)}function ae(e){return r.InlineValueText.is(e)?new i.InlineValueText(w(e.range),e.text):r.InlineValueVariableLookup.is(e)?new i.InlineValueVariableLookup(w(e.range),e.variableName,e.caseSensitiveLookup):new i.InlineValueEvaluatableExpression(w(e.range),e.expression)}async function ce(e,t){const n="string"==typeof e.label?e.label:await s.map(e.label,ue,t),i=new g.default(D(e.position),n);return void 0!==e.kind&&(i.kind=e.kind),void 0!==e.textEdits&&(i.textEdits=await A(e.textEdits,t)),void 0!==e.tooltip&&(i.tooltip=le(e.tooltip)),void 0!==e.paddingLeft&&(i.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(i.paddingRight=e.paddingRight),void 0!==e.data&&(i.data=e.data),i}function ue(e){const t=new i.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=L(e.location)),void 0!==e.tooltip&&(t.tooltip=le(e.tooltip)),void 0!==e.command&&(t.command=G(e.command)),t}function le(e){return"string"==typeof e?e:k(e)}function de(e){if(null===e)return;const t=new h.default($(e.kind),e.name,e.detail||"",b(e.uri),w(e.range),w(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=K(e.tags)),t}async function he(e,t){return new i.CallHierarchyIncomingCall(de(e.from),await E(e.fromRanges,t))}async function pe(e,t){return new i.CallHierarchyOutgoingCall(de(e.to),await E(e.fromRanges,t))}function fe(e){return new i.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function ge(e){if(null===e)return;let t=new p.default($(e.kind),e.name,e.detail||"",b(e.uri),w(e.range),w(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=K(e.tags)),t}return J.set(r.CodeActionKind.Empty,i.CodeActionKind.Empty),J.set(r.CodeActionKind.QuickFix,i.CodeActionKind.QuickFix),J.set(r.CodeActionKind.Refactor,i.CodeActionKind.Refactor),J.set(r.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorExtract),J.set(r.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorInline),J.set(r.CodeActionKind.RefactorRewrite,i.CodeActionKind.RefactorRewrite),J.set(r.CodeActionKind.Source,i.CodeActionKind.Source),J.set(r.CodeActionKind.SourceOrganizeImports,i.CodeActionKind.SourceOrganizeImports),{asUri:b,asDocumentSelector:function(e){const t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(m.NotebookCellTextDocumentFilter.is(n))if("string"==typeof n.notebook)t.push({notebookType:n.notebook,language:n.language});else{const e=n.notebook.notebookType??"*";t.push({notebookType:e,scheme:n.notebook.scheme,pattern:n.notebook.pattern,language:n.language})}else m.TextDocumentFilter.is(n)&&t.push({language:n.language,scheme:n.scheme,pattern:n.pattern});return t},asDiagnostics:async function(e,t){return s.map(e,S,t)},asDiagnostic:S,asRange:w,asRanges:E,asPosition:D,asDiagnosticSeverity:x,asDiagnosticTag:C,asHover:function(e){if(e)return new i.Hover(function(e){if(o.string(e))return k(e);if(y.is(e))return k().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=k();y.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}return k(e)}(e.contents),w(e.range))},asCompletionResult:async function(e,t,n){if(!e)return;if(Array.isArray(e))return s.map(e,(e=>F(e,t)),n);const o=e,{defaultRange:a,commitCharacters:c}=function(e,t){const n=e.itemDefaults?.editRange,i=e.itemDefaults?.commitCharacters??t;return r.Range.is(n)?{defaultRange:w(n),commitCharacters:i}:void 0!==n?{defaultRange:{inserting:w(n.insert),replacing:w(n.replace)},commitCharacters:i}:{defaultRange:void 0,commitCharacters:i}}(o,t),u=await s.map(o.items,(e=>F(e,c,a,o.itemDefaults?.insertTextMode,o.itemDefaults?.insertTextFormat,o.itemDefaults?.data)),n);return new i.CompletionList(u,o.isIncomplete)},asCompletionItem:F,asTextEdit:R,asTextEdits:A,asSignatureHelp:async function(e,t){if(!e)return;let n=new i.SignatureHelp;return o.number(e.activeSignature)?n.activeSignature=e.activeSignature:n.activeSignature=0,o.number(e.activeParameter)?n.activeParameter=e.activeParameter:n.activeParameter=0,e.signatures&&(n.signatures=await O(e.signatures,t)),n},asSignatureInformations:O,asSignatureInformation:I,asParameterInformations:N,asParameterInformation:M,asDeclarationResult:async function(e,t){if(e)return q(e,t)},asDefinitionResult:async function(e,t){if(e)return q(e,t)},asLocation:L,asReferences:async function(e,t){if(e)return s.map(e,L,t)},asDocumentHighlights:async function(e,t){if(e)return s.map(e,B,t)},asDocumentHighlight:B,asDocumentHighlightKind:U,asSymbolKind:$,asSymbolTag:W,asSymbolTags:K,asSymbolInformations:async function(e,t){if(e)return s.map(e,H,t)},asSymbolInformation:H,asDocumentSymbols:async function(e,t){if(null!=e)return s.map(e,V,t)},asDocumentSymbol:V,asCommand:G,asCommands:async function(e,t){if(e)return s.map(e,G,t)},asCodeAction:Y,asCodeActionKind:X,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>X(e)))},asCodeActionResult:function(e,t){return s.mapAsync(e,(async e=>r.Command.is(e)?G(e):Y(e,t)),t)},asCodeLens:Q,asCodeLenses:async function(e,t){if(e)return s.map(e,Q,t)},asWorkspaceEdit:Z,asDocumentLink:ee,asDocumentLinks:async function(e,t){if(e)return s.map(e,ee,t)},asFoldingRangeKind:re,asFoldingRange:oe,asFoldingRanges:async function(e,t){if(e)return s.map(e,oe,t)},asColor:te,asColorInformation:ne,asColorInformations:async function(e,t){if(e)return s.map(e,ne,t)},asColorPresentation:ie,asColorPresentations:async function(e,t){if(e)return s.map(e,ie,t)},asSelectionRange:se,asSelectionRanges:async function(e,t){return Array.isArray(e)?s.map(e,se,t):[]},asInlineValue:ae,asInlineValues:async function(e,t){return Array.isArray(e)?s.map(e,ae,t):[]},asInlayHint:ce,asInlayHints:async function(e,t){if(Array.isArray(e))return s.mapAsync(e,ce,t)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:async function(e,t){if(null!=e)return new i.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:fe,asSemanticTokensEdits:async function(e,t){if(null!=e)return new i.SemanticTokensEdits(e.edits.map(fe),e.resultId)},asCallHierarchyItem:de,asCallHierarchyItems:async function(e,t){if(null!==e)return s.map(e,de,t)},asCallHierarchyIncomingCall:he,asCallHierarchyIncomingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,he,t)},asCallHierarchyOutgoingCall:pe,asCallHierarchyOutgoingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,pe,t)},asLinkedEditingRanges:async function(e,t){if(null!=e)return new i.LinkedEditingRanges(await E(e.ranges,t),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))},asTypeHierarchyItem:ge,asTypeHierarchyItems:async function(e,t){if(null!==e)return s.map(e,ge,t)},asGlobPattern:function(e){if(o.string(e))return e;if(r.RelativePattern.is(e)){if(r.URI.is(e.baseUri))return new i.RelativePattern(b(e.baseUri),e.pattern);if(r.WorkspaceFolder.is(e.baseUri)){const t=i.workspace.getWorkspaceFolder(b(e.baseUri.uri));return void 0!==t?new i.RelativePattern(t,e.pattern):void 0}}}}}},8171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const i=n(9496),r=n(4652);(t.DiagnosticCode||(t.DiagnosticCode={})).is=function(e){const t=e;return null!=t&&(r.number(t.value)||r.string(t.value))&&r.string(t.target)};class o extends i.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=o},8501:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.DocumentLink{constructor(e,t){super(e,t)}}t.default=r},570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.InlayHint{constructor(e,t,n){super(e,t,n)}}t.default=r},9585:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.TypeHierarchyItem{constructor(e,t,n,i,r,o,s){super(e,t,n,i,r,o),void 0!==s&&(this.data=s)}}t.default=r},6363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9496);class r extends i.SymbolInformation{constructor(e,t,n,r,o){const s=!(r instanceof i.Uri);super(e,t,n,s?r:new i.Location(r,new i.Range(0,0,0,0))),this.hasRange=s,void 0!==o&&(this.data=o)}}t.default=r},2318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.ReferencesRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideReferences:(e,t,n,i)=>{const o=this._client,s=(e,t,n,i)=>o.sendRequest(r.ReferencesRequest.type,o.code2ProtocolConverter.asReferenceParams(e,t,n),i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asReferences(e,i)),(e=>o.handleFailedRequest(r.ReferencesRequest.type,i,e,null))),a=o.middleware;return a.provideReferences?a.provideReferences(e,t,n,i,s):s(e,t,n,i)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ReferencesFeature=a},6991:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;const i=n(9496),r=n(1747),o=n(2667),s=n(4652),a=n(7482);class c extends a.TextDocumentLanguageFeature{constructor(e){super(e,r.RenameRequest.type)}fillClientCapabilities(e){let t=(0,a.ensure)((0,a.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=r.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(s.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:o.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t=e.documentSelector,n={provideRenameEdits:(e,t,n,i)=>{const o=this._client,s=(e,t,n,i)=>{let s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),newName:n};return o.sendRequest(r.RenameRequest.type,s,i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asWorkspaceEdit(e,i)),(e=>o.handleFailedRequest(r.RenameRequest.type,i,e,null,!1)))},a=o.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,n,i,s):s(e,t,n,i)},prepareRename:e.prepareProvider?(e,t,n)=>{const i=this._client,o=(e,t,n)=>{let o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),position:i.code2ProtocolConverter.asPosition(t)};return i.sendRequest(r.PrepareRenameRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.Range.is(e)?i.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&r.Range.is(e.range)?{range:i.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>{throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},s=i.middleware;return s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){const t=e;return t&&s.boolean(t.defaultBehavior)}}t.RenameFeature=c},2672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.SelectionRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.selectionRangeProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideSelectionRanges:(e,t,n)=>{const i=this._client,o=async(e,t,n)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:await i.code2ProtocolConverter.asPositions(t,n)};return i.sendRequest(r.SelectionRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asSelectionRanges(e,n)),(e=>i.handleFailedRequest(r.SelectionRangeRequest.type,n,e,null)))},s=i.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.SelectionRangeFeature=s},1572:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(4652);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[r.SemanticTokenTypes.namespace,r.SemanticTokenTypes.type,r.SemanticTokenTypes.class,r.SemanticTokenTypes.enum,r.SemanticTokenTypes.interface,r.SemanticTokenTypes.struct,r.SemanticTokenTypes.typeParameter,r.SemanticTokenTypes.parameter,r.SemanticTokenTypes.variable,r.SemanticTokenTypes.property,r.SemanticTokenTypes.enumMember,r.SemanticTokenTypes.event,r.SemanticTokenTypes.function,r.SemanticTokenTypes.method,r.SemanticTokenTypes.macro,r.SemanticTokenTypes.keyword,r.SemanticTokenTypes.modifier,r.SemanticTokenTypes.comment,r.SemanticTokenTypes.string,r.SemanticTokenTypes.number,r.SemanticTokenTypes.regexp,r.SemanticTokenTypes.operator,r.SemanticTokenTypes.decorator],t.tokenModifiers=[r.SemanticTokenModifiers.declaration,r.SemanticTokenModifiers.definition,r.SemanticTokenModifiers.readonly,r.SemanticTokenModifiers.static,r.SemanticTokenModifiers.deprecated,r.SemanticTokenModifiers.abstract,r.SemanticTokenModifiers.async,r.SemanticTokenModifiers.modification,r.SemanticTokenModifiers.documentation,r.SemanticTokenModifiers.defaultLibrary],t.formats=[r.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,i]=this.getRegistration(t,e.semanticTokensProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n=s.boolean(e.full)?e.full:void 0!==e.full,o=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,a=new i.EventEmitter,c=n?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,i=n.middleware,o=(e,t)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(r.SemanticTokensRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSemanticTokens(e,t)),(e=>n.handleFailedRequest(r.SemanticTokensRequest.type,t,e,null)))};return i.provideDocumentSemanticTokens?i.provideDocumentSemanticTokens(e,t,o):o(e,t)},provideDocumentSemanticTokensEdits:o?(e,t,n)=>{const i=this._client,o=i.middleware,s=(e,t,n)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return i.sendRequest(r.SemanticTokensDeltaRequest.type,o,n).then((async e=>n.isCancellationRequested?null:r.SemanticTokens.is(e)?await i.protocol2CodeConverter.asSemanticTokens(e,n):await i.protocol2CodeConverter.asSemanticTokensEdits(e,n)),(e=>i.handleFailedRequest(r.SemanticTokensDeltaRequest.type,n,e,null)))};return o.provideDocumentSemanticTokensEdits?o.provideDocumentSemanticTokensEdits(e,t,n,s):s(e,t,n)}:void 0}:void 0,u=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const i=this._client,o=i.middleware,s=(e,t,n)=>{const o={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t)};return i.sendRequest(r.SemanticTokensRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asSemanticTokens(e,n)),(e=>i.handleFailedRequest(r.SemanticTokensRangeRequest.type,n,e,null)))};return o.provideDocumentRangeSemanticTokens?o.provideDocumentRangeSemanticTokens(e,t,n,s):s(e,t,n)}}:void 0,l=[],d=this._client,h=d.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=d.protocol2CodeConverter.asDocumentSelector(t);return void 0!==c&&l.push(i.languages.registerDocumentSemanticTokensProvider(p,c,h)),void 0!==u&&l.push(i.languages.registerDocumentRangeSemanticTokensProvider(p,u,h)),[new i.Disposable((()=>l.forEach((e=>e.dispose())))),{range:u,full:c,onDidChangeSemanticTokensEmitter:a}]}}t.SemanticTokensFeature=a},7548:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(2667);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,i)=>{const o=this._client,s=(e,t,n,i)=>o.sendRequest(r.SignatureHelpRequest.type,o.code2ProtocolConverter.asSignatureHelpParams(e,t,n),i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asSignatureHelp(e,i)),(e=>o.handleFailedRequest(r.SignatureHelpRequest.type,i,e,null))),a=o.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,i,n,s):s(e,t,i,n)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){const n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){const r=e.triggerCharacters||[];return i.languages.registerSignatureHelpProvider(n,t,...r)}{const r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return i.languages.registerSignatureHelpProvider(n,t,r)}}}t.SignatureHelpFeature=a},7583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(899),a=n(2667);class c extends o.TextDocumentEventFeature{constructor(e,t){super(e,i.workspace.onDidOpenTextDocument,r.DidOpenTextDocumentNotification.type,(()=>e.middleware.didOpen),(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return r.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;const t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);i.workspace.textDocuments.forEach((e=>{const n=e.uri.toString();if(!this._syncedDocuments.has(n)&&i.languages.match(t,e)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e)){const t=this._client.middleware,i=e=>this._client.sendNotification(this._type,this._createParams(e));(t.didOpen?t.didOpen(e,i):i(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._syncedDocuments.set(n,e)}}))}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}}t.DidOpenTextDocumentFeature=c;class u extends o.TextDocumentEventFeature{constructor(e,t){super(e,i.workspace.onDidCloseTextDocument,r.DidCloseTextDocumentNotification.type,(()=>e.middleware.didClose),(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return r.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){const t=this._selectors.get(e);super.unregister(e);const n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(i.languages.match(t,e)>0&&!this._selectorFilter(n,e)&&!this._client.hasDedicatedTextSynchronizationFeature(e)){let t=this._client.middleware,n=e=>this._client.sendNotification(this._type,this._createParams(e));this._syncedDocuments.delete(e.uri.toString()),(t.didClose?t.didClose(e,n):n(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)}))}}))}}t.DidCloseTextDocumentFeature=u;class l extends o.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new i.EventEmitter}get registrationType(){return r.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==r.TextDocumentSyncKind.None&&this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const e of this._changeData.values())yield e.documentSelector}async callback(e){if(0===e.contentChanges.length)return;const t=[];for(const n of this._changeData.values())if(i.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const i=this._client.middleware;if(n.syncKind===r.TextDocumentSyncKind.Incremental){const n=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);await this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,r.DidChangeTextDocumentNotification.type,t)};t.push(i.didChange?i.didChange(e,(e=>n(e))):n(e))}else if(n.syncKind===r.TextDocumentSyncKind.Full){const n=async e=>{const t=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document);await this._client.sendNotification(r.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,r.DidChangeTextDocumentNotification.type,t)};return this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>t(e)))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new s.Delayer(200)},this._changeDelayer.delayer.trigger((()=>t(e)),-1))};t.push(i.didChange?i.didChange(e,(e=>n(e))):n(e))}}return Promise.all(t).then(void 0,(e=>{throw this._client.error(`Sending document notification ${r.DidChangeTextDocumentNotification.type.method} failed`,e),e}))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(i.languages.match(t.documentSelector,e)>0)return{send:e=>this.callback(e)}}}t.DidChangeTextDocumentFeature=l;class d extends o.TextDocumentEventFeature{constructor(e){super(e,i.workspace.onWillSaveTextDocument,r.WillSaveTextDocumentNotification.type,(()=>e.middleware.willSave),(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),(e=>e.document),((e,t)=>o.TextDocumentEventFeature.textDocumentFilter(e,t.document)))}get registrationType(){return r.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}}t.WillSaveFeature=d;class h extends o.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return r.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(o.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=e=>this._client.sendRequest(r.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((async e=>{let t=await this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}t.WillSaveWaitUntilFeature=h;class p extends o.TextDocumentEventFeature{constructor(e){super(e,i.workspace.onDidSaveTextDocument,r.DidSaveTextDocumentNotification.type,(()=>e.middleware.didSave),(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return r.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}t.DidSaveTextDocumentFeature=p},7349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideTypeDefinition:(e,t,n)=>{const i=this._client,o=(e,t,n)=>i.sendRequest(r.TypeDefinitionRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>i.handleFailedRequest(r.TypeDefinitionRequest.type,n,e,null))),s=i.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.TypeDefinitionFeature=s},5783:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;const i=n(9496),r=n(1747),o=n(7482);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){const i=this.client,o=this.middleware,s=(e,t,n)=>{const o=i.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return i.sendRequest(r.TypeHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(e,n)),(e=>i.handleFailedRequest(r.TypeHierarchyPrepareRequest.type,n,e,null)))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){const n=this.client,i=this.middleware,o=(e,t)=>{const i={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(r.TypeHierarchySupertypesRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(r.TypeHierarchySupertypesRequest.type,t,e,null)))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){const n=this.client,i=this.middleware,o=(e,t)=>{const i={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(r.TypeHierarchySubtypesRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(r.TypeHierarchySubtypesRequest.type,t,e,null)))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.typeHierarchyProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[i.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.TypeHierarchyFeature=a},899:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.clearTestMode=t.setTestMode=t.Semaphore=t.Delayer=void 0;const i=n(1747);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=(0,i.RAL)().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,i.RAL)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};let r=!1;t.setTestMode=function(){r=!0},t.clearTestMode=function(){r=!1};class o{constructor(e=15){this.yieldAfter=!0===r?Math.max(e,2):Math.max(e,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}t.map=async function(e,t,n,r){if(0===e.length)return[];const s=new Array(e.length),a=new o(r?.yieldAfter);function c(n){a.start();for(let i=n;i<e.length;i++)if(s[i]=t(e[i]),a.shouldYield())return r?.yieldCallback&&r.yieldCallback(),i+1;return-1}let u=c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,i.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.mapAsync=async function(e,t,n,r){if(0===e.length)return[];const s=new Array(e.length),a=new o(r?.yieldAfter);async function c(i){a.start();for(let o=i;o<e.length;o++)if(s[o]=await t(e[o],n),a.shouldYield())return r?.yieldCallback&&r.yieldCallback(),o+1;return-1}let u=await c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,i.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.forEach=async function(e,t,n,r){if(0===e.length)return;const s=new o(r?.yieldAfter);function a(n){s.start();for(let i=n;i<e.length;i++)if(t(e[i]),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),i+1;return-1}let c=a(0);for(;-1!==c&&(void 0===n||!n.isCancellationRequested);)c=await new Promise((e=>{(0,i.RAL)().timer.setImmediate((()=>{e(a(c))}))}))}},4652:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function r(e){return Array.isArray(e)}function o(e){return e&&i(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=o,t.asPromise=function(e){return e instanceof Promise?e:o(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}},2667:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class i extends n{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}function r(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=r;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return r().asHex()}},9100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const i=n(2667),r=n(9496),o=n(1747);function s(e,t){if(void 0!==e)return e[t]}function a(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=a,t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=r.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=r.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},i=t.middleware.workspace;return i&&i.workspaceFolders?i.workspaceFolders(e,n):n()}));const n=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof n?a=n:!0===n&&(a=i.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){const n=a(this._initialFolders,e),i=a(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}doSendEvent(e,t){let n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};return this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=r.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>this.doSendEvent(e.added,e.removed),i=n.middleware.workspace;(i&&i.didChangeWorkspaceFolders?i.didChangeWorkspaceFolders(e,t):t(e)).catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}));this._listeners.set(t,i),this.sendInitialEvent(r.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},1854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;const i=n(9496),r=n(1747),o=n(7482),s=n(253),a=n(2667);class c extends o.WorkspaceFeature{constructor(e){super(e,r.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:s.SupportedSymbolKinds},t.tagSupport={valueSet:s.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:a.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.WorkspaceSymbolRequest.type,{query:e},t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformations(e,t)),(e=>n.handleFailedRequest(r.WorkspaceSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,i):i(e,t)},resolveWorkspaceSymbol:!0===e.resolveProvider?(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.WorkspaceSymbolResolveRequest.type,n.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformation(e)),(e=>n.handleFailedRequest(r.WorkspaceSymbolResolveRequest.type,t,e,null))),o=n.middleware;return o.resolveWorkspaceSymbol?o.resolveWorkspaceSymbol(e,t,i):i(e,t)}:void 0};return[i.languages.registerWorkspaceSymbolProvider(t),t]}}t.WorkspaceSymbolFeature=c},186:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const o=n(2081),s=n(7147),a=n(1017),c=n(9496),u=n(4652),l=n(9343),d=n(468),h=n(2570),p=n(9943),f=n(9844);r(n(2570),t),r(n(7944),t);var g,m,y,v,b,S;!function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(g=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){const t=e;return t&&t.kind===g.socket&&u.number(t.port)}}(m||(m={})),function(e){e.is=function(e){return u.string(e.command)}}(y||(y={})),function(e){e.is=function(e){return u.string(e.module)}}(v||(v={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(b||(b={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(S||(S={}));class C extends l.BaseLanguageClient{constructor(e,t,n,i,r){let o,s,a,c,l;u.string(t)?(o=e,s=t,a=n,c=i,l=!!r):(o=e.toLowerCase(),s=e,a=t,c=n,l=i),void 0===l&&(l=!1),super(o,s,c),this._serverOptions=a,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(e){throw u.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){const e=p(c.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${c.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!f(e,"^1.67.0"))throw new Error(`The language client requires VS Code version ^1.67.0 but received version ${c.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise((e=>setTimeout(e,1e3))),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally((()=>{if(this._serverProcess){const e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&void 0!==e.pid&&setTimeout((()=>{try{void 0!==e.pid&&(process.kill(e.pid,0),(0,d.terminate)(e))}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;const n=Object.create(null);return Object.keys(process.env).forEach((e=>n[e]=process.env[e])),t&&(n.ELECTRON_RUN_AS_NODE="1",n.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>n[t]=e[t])),n}const n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function r(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}const s=this._serverOptions;if(u.func(s))return s().then((t=>{if(l.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(b.is(t))return this._isDetached=!!t.detached,{reader:new h.StreamMessageReader(t.reader),writer:new h.StreamMessageWriter(t.writer)};{let n;return S.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),{reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)}}}));let a,c=s;return c.run||c.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>n.some((t=>e.startsWith(t)))||i.some((t=>e===t))))}()?(a=c.debug,this._isInDebugMode=!0):(a=c.run,this._isInDebugMode=!1):a=s,this._getServerWorkingDir(a.options).then((n=>{if(v.is(a)&&a.module){let i=a,s=i.transport||g.stdio;if(!i.runtime){let a;return new Promise(((c,l)=>{const d=(i.args&&i.args.slice())??[];s===g.ipc?d.push("--node-ipc"):s===g.stdio?d.push("--stdio"):s===g.pipe?(a=(0,h.generateRandomPipeName)(),d.push(`--pipe=${a}`)):m.isSocket(s)&&d.push(`--socket=${s.port}`),d.push(`--clientProcessId=${process.pid.toString()}`);const p=i.options??Object.create(null);if(p.env=t(p.env,!0),p.execArgv=p.execArgv||[],p.cwd=n,p.silent=!0,s===g.ipc||s===g.stdio){const t=o.fork(i.module,d||[],p);r(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),s===g.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),c({reader:new h.IPCMessageReader(this._serverProcess),writer:new h.IPCMessageWriter(this._serverProcess)})):c({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})}else s===g.pipe?(0,h.createClientPipeTransport)(a).then((t=>{const n=o.fork(i.module,d||[],p);r(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l):m.isSocket(s)&&(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.fork(i.module,d||[],p);r(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l)}))}{const r=[],a=i.options??Object.create(null);a.execArgv&&a.execArgv.forEach((e=>r.push(e))),r.push(i.module),i.args&&i.args.forEach((e=>r.push(e)));const c=Object.create(null);c.cwd=n,c.env=t(a.env,!1);const l=this._getRuntimePath(i.runtime,n);let d;if(s===g.ipc?(c.stdio=[null,null,null,"ipc"],r.push("--node-ipc")):s===g.stdio?r.push("--stdio"):s===g.pipe?(d=(0,h.generateRandomPipeName)(),r.push(`--pipe=${d}`)):m.isSocket(s)&&r.push(`--socket=${s.port}`),r.push(`--clientProcessId=${process.pid.toString()}`),s===g.ipc||s===g.stdio){const t=o.spawn(l,r,c);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),s===g.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),Promise.resolve({reader:new h.IPCMessageReader(t),writer:new h.IPCMessageWriter(t)})):Promise.resolve({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})):D(t,`Launching server using runtime ${l} failed.`)}if(s===g.pipe)return(0,h.createClientPipeTransport)(d).then((t=>{const n=o.spawn(l,r,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):D(n,`Launching server using runtime ${l} failed.`)}));if(m.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.spawn(l,r,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):D(n,`Launching server using runtime ${l} failed.`)}))}}else if(y.is(a)&&a.command){const t=a,i=void 0!==a.args?a.args.slice(0):[];let r;const s=a.transport;if(s===g.stdio)i.push("--stdio");else if(s===g.pipe)r=(0,h.generateRandomPipeName)(),i.push(`--pipe=${r}`);else if(m.isSocket(s))i.push(`--socket=${s.port}`);else if(s===g.ipc)throw new Error("Transport kind ipc is not support for command executable");const c=Object.assign({},t.options);if(c.cwd=c.cwd||n,void 0===s||s===g.stdio){const n=o.spawn(t.command,i,c);return n&&n.pid?(n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),this._serverProcess=n,this._isDetached=!!c.detached,Promise.resolve({reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)})):D(n,`Launching server using command ${t.command} failed.`)}if(s===g.pipe)return(0,h.createClientPipeTransport)(r).then((n=>{const r=o.spawn(t.command,i,c);return r&&r.pid?(this._serverProcess=r,this._isDetached=!!c.detached,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):D(r,`Launching server using command ${t.command} failed.`)}));if(m.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((n=>{const r=o.spawn(t.command,i,c);return r&&r.pid?(this._serverProcess=r,this._isDetached=!!c.detached,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):D(r,`Launching server using command ${t.command} failed.`)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(s,null,4)))}))}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const n=this._mainGetRootPath();if(void 0!==n){const t=a.join(n,e);if(s.existsSync(t))return t}if(void 0!==t){const n=a.join(t,e);if(s.existsSync(n))return n}return e}_mainGetRootPath(){let e=c.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{s.lstat(t,((n,i)=>{e(!n&&i.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}getLocale(){const e=process.env.VSCODE_NLS_CONFIG;if(void 0===e)return"en";let t;try{t=JSON.parse(e)}catch(e){}return void 0===t||"string"!=typeof t.locale?"en":t.locale}}function D(e,t){return null===e?Promise.reject(t):new Promise(((n,i)=>{e.on("error",(e=>{i(`${t} ${e}`)})),setImmediate((()=>i(t)))}))}t.LanguageClient=C,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return c.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new c.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?c.workspace.getConfiguration(t).get(n,!1):c.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch((e=>this._client.error("Start failed after configuration change",e,"force"))):!i&&this._client.needsStop()&&this._client.stop().catch((e=>this._client.error("Stop failed after configuration change",e,"force")))}}},468:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const i=n(2081),r=n(1017),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),i.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=(0,r.join)(__dirname,"terminateProcess.sh");return!i.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},165:(e,t,n)=>{"use strict";e.exports=n(186)},9372:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,r(n(39),t),r(n(4767),t),r(n(8599),t),r(n(6525),t);var o,s=n(2798);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),(o=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800},2798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const i=n(39);t.createProtocolConnection=function(e,t,n,r){return i.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,i.createMessageConnection)(e,t,n,r)}},8599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=t.MessageDirection=void 0;const i=n(39);var r;(r=t.MessageDirection||(t.MessageDirection={})).clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both",t.RegistrationType=class{constructor(e){this.method=e}};class o extends i.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=o;class s extends i.RequestType{constructor(e){super(e,i.ParameterStructures.byName)}}t.ProtocolRequestType=s;class a extends i.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a;class c extends i.NotificationType{constructor(e){super(e,i.ParameterStructures.byName)}}t.ProtocolNotificationType=c},4434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const i=n(8599);var r,o,s;(s=t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",s.messageDirection=i.MessageDirection.clientToServer,s.type=new i.ProtocolRequestType(s.method),(o=t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolRequestType(o.method),(r=t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},7908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const i=n(8599);var r,o;(o=t.DocumentColorRequest||(t.DocumentColorRequest={})).method="textDocument/documentColor",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolRequestType(o.method),(r=t.ColorPresentationRequest||(t.ColorPresentationRequest={})).method="textDocument/colorPresentation",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},5442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const i=n(8599);var r;(r=t.ConfigurationRequest||(t.ConfigurationRequest={})).method="workspace/configuration",r.messageDirection=i.MessageDirection.serverToClient,r.type=new i.ProtocolRequestType(r.method)},7210:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const i=n(8599);var r;(r=t.DeclarationRequest||(t.DeclarationRequest={})).method="textDocument/declaration",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},5692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const i=n(39),r=n(2523),o=n(8599);var s,a,c,u;(t.DiagnosticServerCancellationData||(t.DiagnosticServerCancellationData={})).is=function(e){const t=e;return t&&r.boolean(t.retriggerRequest)},(u=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={})).Full="full",u.Unchanged="unchanged",(c=t.DocumentDiagnosticRequest||(t.DocumentDiagnosticRequest={})).method="textDocument/diagnostic",c.messageDirection=o.MessageDirection.clientToServer,c.type=new o.ProtocolRequestType(c.method),c.partialResult=new i.ProgressType,(a=t.WorkspaceDiagnosticRequest||(t.WorkspaceDiagnosticRequest={})).method="workspace/diagnostic",a.messageDirection=o.MessageDirection.clientToServer,a.type=new o.ProtocolRequestType(a.method),a.partialResult=new i.ProgressType,(s=t.DiagnosticRefreshRequest||(t.DiagnosticRefreshRequest={})).method="workspace/diagnostic/refresh",s.messageDirection=o.MessageDirection.clientToServer,s.type=new o.ProtocolRequestType0(s.method)},6190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const i=n(8599);var r,o,s,a,c,u,l;(l=t.FileOperationPatternKind||(t.FileOperationPatternKind={})).file="file",l.folder="folder",(u=t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})).method="workspace/willCreateFiles",u.messageDirection=i.MessageDirection.clientToServer,u.type=new i.ProtocolRequestType(u.method),(c=t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})).method="workspace/didCreateFiles",c.messageDirection=i.MessageDirection.clientToServer,c.type=new i.ProtocolNotificationType(c.method),(a=t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})).method="workspace/willRenameFiles",a.messageDirection=i.MessageDirection.clientToServer,a.type=new i.ProtocolRequestType(a.method),(s=t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})).method="workspace/didRenameFiles",s.messageDirection=i.MessageDirection.clientToServer,s.type=new i.ProtocolNotificationType(s.method),(o=t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolNotificationType(o.method),(r=t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},7029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=void 0;const i=n(8599);var r;(r=t.FoldingRangeRequest||(t.FoldingRangeRequest={})).method="textDocument/foldingRange",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},9380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const i=n(8599);var r;(r=t.ImplementationRequest||(t.ImplementationRequest={})).method="textDocument/implementation",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},6315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const i=n(8599);var r,o,s;(s=t.InlayHintRequest||(t.InlayHintRequest={})).method="textDocument/inlayHint",s.messageDirection=i.MessageDirection.clientToServer,s.type=new i.ProtocolRequestType(s.method),(o=t.InlayHintResolveRequest||(t.InlayHintResolveRequest={})).method="inlayHint/resolve",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolRequestType(o.method),(r=t.InlayHintRefreshRequest||(t.InlayHintRefreshRequest={})).method="workspace/inlayHint/refresh",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType0(r.method)},7425:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const i=n(8599);var r,o;(o=t.InlineValueRequest||(t.InlineValueRequest={})).method="textDocument/inlineValue",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolRequestType(o.method),(r=t.InlineValueRefreshRequest||(t.InlineValueRefreshRequest={})).method="workspace/inlineValue/refresh",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType0(r.method)},6525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=void 0;const i=n(8599),r=n(4767),o=n(2523),s=n(9380);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});const a=n(8642);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const c=n(3402);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const u=n(5442);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=n(7908);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const d=n(7029);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const h=n(7210);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return h.DeclarationRequest}});const p=n(2392);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return p.SelectionRangeRequest}});const f=n(7895);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const g=n(4434);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return g.CallHierarchyPrepareRequest}});const m=n(8489);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});const y=n(1541);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return y.ShowDocumentRequest}});const v=n(527);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return v.LinkedEditingRangeRequest}});const b=n(6190);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return b.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return b.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return b.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return b.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return b.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return b.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return b.WillDeleteFilesRequest}});const S=n(1964);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return S.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return S.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return S.MonikerRequest}});const C=n(5318);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return C.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return C.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return C.TypeHierarchySupertypesRequest}});const D=n(7425);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return D.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return D.InlineValueRefreshRequest}});const w=n(6315);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return w.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return w.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return w.InlayHintRefreshRequest}});const E=n(5692);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return E.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return E.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return E.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return E.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return E.DiagnosticRefreshRequest}});const x=n(4460);var _,k,T,F,R,A,P,O,I,N,M,L,j,q,B,U,$,W,K,H,V,z,G,J,X,Y,Q,Z,ee,te,ne,ie,re,oe,se,ae,ce,ue,le,de,he,pe,fe,ge,me,ye,ve,be,Se,Ce,De,we,Ee,xe,_e,ke,Te,Fe,Re;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return x.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return x.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return x.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return x.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return x.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return x.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return x.DidCloseNotebookDocumentNotification}}),function(e){e.is=function(e){const t=e;return o.string(t.language)||o.string(t.scheme)||o.string(t.pattern)}}(_=t.TextDocumentFilter||(t.TextDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebookType)||o.string(t.scheme)||o.string(t.pattern))}}(k=t.NotebookDocumentFilter||(t.NotebookDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebook)||k.is(t.notebook))&&(void 0===t.language||o.string(t.language))}}(T=t.NotebookCellTextDocumentFilter||(t.NotebookCellTextDocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!o.string(t)&&!_.is(t)&&!T.is(t))return!1;return!0}}(F=t.DocumentSelector||(t.DocumentSelector={})),(Re=t.RegistrationRequest||(t.RegistrationRequest={})).method="client/registerCapability",Re.messageDirection=i.MessageDirection.serverToClient,Re.type=new i.ProtocolRequestType(Re.method),(Fe=t.UnregistrationRequest||(t.UnregistrationRequest={})).method="client/unregisterCapability",Fe.messageDirection=i.MessageDirection.serverToClient,Fe.type=new i.ProtocolRequestType(Fe.method),(Te=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",Te.Rename="rename",Te.Delete="delete",(ke=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",ke.Transactional="transactional",ke.TextOnlyTransactional="textOnlyTransactional",ke.Undo="undo",(_e=t.PositionEncodingKind||(t.PositionEncodingKind={})).UTF8="utf-8",_e.UTF16="utf-16",_e.UTF32="utf-32",(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&o.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||F.is(t.documentSelector))},(xe=t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})).is=function(e){const t=e;return o.objectLiteral(t)&&(void 0===t.workDoneProgress||o.boolean(t.workDoneProgress))},xe.hasWorkDoneProgress=function(e){const t=e;return t&&o.boolean(t.workDoneProgress)},(Ee=t.InitializeRequest||(t.InitializeRequest={})).method="initialize",Ee.messageDirection=i.MessageDirection.clientToServer,Ee.type=new i.ProtocolRequestType(Ee.method),(t.InitializeErrorCodes||(t.InitializeErrorCodes={})).unknownProtocolVersion=1,(we=t.InitializedNotification||(t.InitializedNotification={})).method="initialized",we.messageDirection=i.MessageDirection.clientToServer,we.type=new i.ProtocolNotificationType(we.method),(De=t.ShutdownRequest||(t.ShutdownRequest={})).method="shutdown",De.messageDirection=i.MessageDirection.clientToServer,De.type=new i.ProtocolRequestType0(De.method),(Ce=t.ExitNotification||(t.ExitNotification={})).method="exit",Ce.messageDirection=i.MessageDirection.clientToServer,Ce.type=new i.ProtocolNotificationType0(Ce.method),(Se=t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).method="workspace/didChangeConfiguration",Se.messageDirection=i.MessageDirection.clientToServer,Se.type=new i.ProtocolNotificationType(Se.method),(be=t.MessageType||(t.MessageType={})).Error=1,be.Warning=2,be.Info=3,be.Log=4,(ve=t.ShowMessageNotification||(t.ShowMessageNotification={})).method="window/showMessage",ve.messageDirection=i.MessageDirection.serverToClient,ve.type=new i.ProtocolNotificationType(ve.method),(ye=t.ShowMessageRequest||(t.ShowMessageRequest={})).method="window/showMessageRequest",ye.messageDirection=i.MessageDirection.serverToClient,ye.type=new i.ProtocolRequestType(ye.method),(me=t.LogMessageNotification||(t.LogMessageNotification={})).method="window/logMessage",me.messageDirection=i.MessageDirection.serverToClient,me.type=new i.ProtocolNotificationType(me.method),(ge=t.TelemetryEventNotification||(t.TelemetryEventNotification={})).method="telemetry/event",ge.messageDirection=i.MessageDirection.serverToClient,ge.type=new i.ProtocolNotificationType(ge.method),(fe=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,fe.Full=1,fe.Incremental=2,(pe=t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",pe.messageDirection=i.MessageDirection.clientToServer,pe.type=new i.ProtocolNotificationType(pe.method),(he=t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},he.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(de=t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).method="textDocument/didChange",de.messageDirection=i.MessageDirection.clientToServer,de.type=new i.ProtocolNotificationType(de.method),(le=t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).method="textDocument/didClose",le.messageDirection=i.MessageDirection.clientToServer,le.type=new i.ProtocolNotificationType(le.method),(ue=t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).method="textDocument/didSave",ue.messageDirection=i.MessageDirection.clientToServer,ue.type=new i.ProtocolNotificationType(ue.method),(ce=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,ce.AfterDelay=2,ce.FocusOut=3,(ae=t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).method="textDocument/willSave",ae.messageDirection=i.MessageDirection.clientToServer,ae.type=new i.ProtocolNotificationType(ae.method),(se=t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",se.messageDirection=i.MessageDirection.clientToServer,se.type=new i.ProtocolRequestType(se.method),(oe=t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).method="workspace/didChangeWatchedFiles",oe.messageDirection=i.MessageDirection.clientToServer,oe.type=new i.ProtocolNotificationType(oe.method),(re=t.FileChangeType||(t.FileChangeType={})).Created=1,re.Changed=2,re.Deleted=3,(t.RelativePattern||(t.RelativePattern={})).is=function(e){const t=e;return o.objectLiteral(t)&&(r.URI.is(t.baseUri)||r.WorkspaceFolder.is(t.baseUri))&&o.string(t.pattern)},(ie=t.WatchKind||(t.WatchKind={})).Create=1,ie.Change=2,ie.Delete=4,(ne=t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).method="textDocument/publishDiagnostics",ne.messageDirection=i.MessageDirection.serverToClient,ne.type=new i.ProtocolNotificationType(ne.method),(te=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,te.TriggerCharacter=2,te.TriggerForIncompleteCompletions=3,(ee=t.CompletionRequest||(t.CompletionRequest={})).method="textDocument/completion",ee.messageDirection=i.MessageDirection.clientToServer,ee.type=new i.ProtocolRequestType(ee.method),(Z=t.CompletionResolveRequest||(t.CompletionResolveRequest={})).method="completionItem/resolve",Z.messageDirection=i.MessageDirection.clientToServer,Z.type=new i.ProtocolRequestType(Z.method),(Q=t.HoverRequest||(t.HoverRequest={})).method="textDocument/hover",Q.messageDirection=i.MessageDirection.clientToServer,Q.type=new i.ProtocolRequestType(Q.method),(Y=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})).Invoked=1,Y.TriggerCharacter=2,Y.ContentChange=3,(X=t.SignatureHelpRequest||(t.SignatureHelpRequest={})).method="textDocument/signatureHelp",X.messageDirection=i.MessageDirection.clientToServer,X.type=new i.ProtocolRequestType(X.method),(J=t.DefinitionRequest||(t.DefinitionRequest={})).method="textDocument/definition",J.messageDirection=i.MessageDirection.clientToServer,J.type=new i.ProtocolRequestType(J.method),(G=t.ReferencesRequest||(t.ReferencesRequest={})).method="textDocument/references",G.messageDirection=i.MessageDirection.clientToServer,G.type=new i.ProtocolRequestType(G.method),(z=t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).method="textDocument/documentHighlight",z.messageDirection=i.MessageDirection.clientToServer,z.type=new i.ProtocolRequestType(z.method),(V=t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).method="textDocument/documentSymbol",V.messageDirection=i.MessageDirection.clientToServer,V.type=new i.ProtocolRequestType(V.method),(H=t.CodeActionRequest||(t.CodeActionRequest={})).method="textDocument/codeAction",H.messageDirection=i.MessageDirection.clientToServer,H.type=new i.ProtocolRequestType(H.method),(K=t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})).method="codeAction/resolve",K.messageDirection=i.MessageDirection.clientToServer,K.type=new i.ProtocolRequestType(K.method),(W=t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).method="workspace/symbol",W.messageDirection=i.MessageDirection.clientToServer,W.type=new i.ProtocolRequestType(W.method),($=t.WorkspaceSymbolResolveRequest||(t.WorkspaceSymbolResolveRequest={})).method="workspaceSymbol/resolve",$.messageDirection=i.MessageDirection.clientToServer,$.type=new i.ProtocolRequestType($.method),(U=t.CodeLensRequest||(t.CodeLensRequest={})).method="textDocument/codeLens",U.messageDirection=i.MessageDirection.clientToServer,U.type=new i.ProtocolRequestType(U.method),(B=t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).method="codeLens/resolve",B.messageDirection=i.MessageDirection.clientToServer,B.type=new i.ProtocolRequestType(B.method),(q=t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",q.messageDirection=i.MessageDirection.serverToClient,q.type=new i.ProtocolRequestType0(q.method),(j=t.DocumentLinkRequest||(t.DocumentLinkRequest={})).method="textDocument/documentLink",j.messageDirection=i.MessageDirection.clientToServer,j.type=new i.ProtocolRequestType(j.method),(L=t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).method="documentLink/resolve",L.messageDirection=i.MessageDirection.clientToServer,L.type=new i.ProtocolRequestType(L.method),(M=t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).method="textDocument/formatting",M.messageDirection=i.MessageDirection.clientToServer,M.type=new i.ProtocolRequestType(M.method),(N=t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",N.messageDirection=i.MessageDirection.clientToServer,N.type=new i.ProtocolRequestType(N.method),(I=t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",I.messageDirection=i.MessageDirection.clientToServer,I.type=new i.ProtocolRequestType(I.method),(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})).Identifier=1,(O=t.RenameRequest||(t.RenameRequest={})).method="textDocument/rename",O.messageDirection=i.MessageDirection.clientToServer,O.type=new i.ProtocolRequestType(O.method),(P=t.PrepareRenameRequest||(t.PrepareRenameRequest={})).method="textDocument/prepareRename",P.messageDirection=i.MessageDirection.clientToServer,P.type=new i.ProtocolRequestType(P.method),(A=t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).method="workspace/executeCommand",A.messageDirection=i.MessageDirection.clientToServer,A.type=new i.ProtocolRequestType(A.method),(R=t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).method="workspace/applyEdit",R.messageDirection=i.MessageDirection.serverToClient,R.type=new i.ProtocolRequestType("workspace/applyEdit")},527:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const i=n(8599);var r;(r=t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},1964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const i=n(8599);var r,o,s;(s=t.UniquenessLevel||(t.UniquenessLevel={})).document="document",s.project="project",s.group="group",s.scheme="scheme",s.global="global",(o=t.MonikerKind||(t.MonikerKind={})).$import="import",o.$export="export",o.local="local",(r=t.MonikerRequest||(t.MonikerRequest={})).method="textDocument/moniker",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},4460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const i=n(4767),r=n(2523),o=n(8599);var s,a,c,u,l,d,h,p,f,g;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(s=t.NotebookCellKind||(t.NotebookCellKind={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return r.objectLiteral(t)&&i.uinteger.is(t.executionOrder)&&(void 0===t.success||r.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(a=t.ExecutionSummary||(t.ExecutionSummary={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const i=Array.isArray(e),o=Array.isArray(n);if(i!==o)return!1;if(i&&o){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1}if(r.objectLiteral(e)&&r.objectLiteral(n)){const i=Object.keys(e),r=Object.keys(n);if(i.length!==r.length)return!1;if(i.sort(),r.sort(),!t(i,r))return!1;for(let r=0;r<i.length;r++){const o=i[r];if(!t(e[o],n[o]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return r.objectLiteral(t)&&s.is(t.kind)&&i.DocumentUri.is(t.document)&&(void 0===t.metadata||r.objectLiteral(t.metadata))},e.diff=function(e,n){const i=new Set;return e.document!==n.document&&i.add("document"),e.kind!==n.kind&&i.add("kind"),e.executionSummary!==n.executionSummary&&i.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||i.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||a.equals(e.executionSummary,n.executionSummary)||i.add("executionSummary"),i}}(c=t.NotebookCell||(t.NotebookCell={})),(g=t.NotebookDocument||(t.NotebookDocument={})).create=function(e,t,n,i){return{uri:e,notebookType:t,version:n,cells:i}},g.is=function(e){const t=e;return r.objectLiteral(t)&&r.string(t.uri)&&i.integer.is(t.version)&&r.typedArray(t.cells,c.is)},function(e){e.method="notebookDocument/sync",e.messageDirection=o.MessageDirection.clientToServer,e.type=new o.RegistrationType(e.method)}(u=t.NotebookDocumentSyncRegistrationType||(t.NotebookDocumentSyncRegistrationType={})),(f=t.DidOpenNotebookDocumentNotification||(t.DidOpenNotebookDocumentNotification={})).method="notebookDocument/didOpen",f.messageDirection=o.MessageDirection.clientToServer,f.type=new o.ProtocolNotificationType(f.method),f.registrationMethod=u.method,(p=t.NotebookCellArrayChange||(t.NotebookCellArrayChange={})).is=function(e){const t=e;return r.objectLiteral(t)&&i.uinteger.is(t.start)&&i.uinteger.is(t.deleteCount)&&(void 0===t.cells||r.typedArray(t.cells,c.is))},p.create=function(e,t,n){const i={start:e,deleteCount:t};return void 0!==n&&(i.cells=n),i},(h=t.DidChangeNotebookDocumentNotification||(t.DidChangeNotebookDocumentNotification={})).method="notebookDocument/didChange",h.messageDirection=o.MessageDirection.clientToServer,h.type=new o.ProtocolNotificationType(h.method),h.registrationMethod=u.method,(d=t.DidSaveNotebookDocumentNotification||(t.DidSaveNotebookDocumentNotification={})).method="notebookDocument/didSave",d.messageDirection=o.MessageDirection.clientToServer,d.type=new o.ProtocolNotificationType(d.method),d.registrationMethod=u.method,(l=t.DidCloseNotebookDocumentNotification||(t.DidCloseNotebookDocumentNotification={})).method="notebookDocument/didClose",l.messageDirection=o.MessageDirection.clientToServer,l.type=new o.ProtocolNotificationType(l.method),l.registrationMethod=u.method},7895:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const i=n(39),r=n(8599);var o,s,a;(a=t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new i.ProgressType,a.is=function(e){return e===a.type},(s=t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).method="window/workDoneProgress/create",s.messageDirection=r.MessageDirection.serverToClient,s.type=new r.ProtocolRequestType(s.method),(o=t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).method="window/workDoneProgress/cancel",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolNotificationType(o.method)},2392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const i=n(8599);var r;(r=t.SelectionRangeRequest||(t.SelectionRangeRequest={})).method="textDocument/selectionRange",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},8489:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const i=n(8599);var r,o,s,a,c;(t.TokenFormat||(t.TokenFormat={})).Relative="relative",function(e){e.method="textDocument/semanticTokens",e.type=new i.RegistrationType(e.method)}(r=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),(c=t.SemanticTokensRequest||(t.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",c.messageDirection=i.MessageDirection.clientToServer,c.type=new i.ProtocolRequestType(c.method),c.registrationMethod=r.method,(a=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",a.messageDirection=i.MessageDirection.clientToServer,a.type=new i.ProtocolRequestType(a.method),a.registrationMethod=r.method,(s=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",s.messageDirection=i.MessageDirection.clientToServer,s.type=new i.ProtocolRequestType(s.method),s.registrationMethod=r.method,(o=t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolRequestType0(o.method)},1541:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const i=n(8599);var r;(r=t.ShowDocumentRequest||(t.ShowDocumentRequest={})).method="window/showDocument",r.messageDirection=i.MessageDirection.serverToClient,r.type=new i.ProtocolRequestType(r.method)},8642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const i=n(8599);var r;(r=t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).method="textDocument/typeDefinition",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},5318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const i=n(8599);var r,o,s;(s=t.TypeHierarchyPrepareRequest||(t.TypeHierarchyPrepareRequest={})).method="textDocument/prepareTypeHierarchy",s.messageDirection=i.MessageDirection.clientToServer,s.type=new i.ProtocolRequestType(s.method),(o=t.TypeHierarchySupertypesRequest||(t.TypeHierarchySupertypesRequest={})).method="typeHierarchy/supertypes",o.messageDirection=i.MessageDirection.clientToServer,o.type=new i.ProtocolRequestType(o.method),(r=t.TypeHierarchySubtypesRequest||(t.TypeHierarchySubtypesRequest={})).method="typeHierarchy/subtypes",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolRequestType(r.method)},3402:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const i=n(8599);var r,o;(o=t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).method="workspace/workspaceFolders",o.messageDirection=i.MessageDirection.serverToClient,o.type=new i.ProtocolRequestType0(o.method),(r=t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).method="workspace/didChangeWorkspaceFolders",r.messageDirection=i.MessageDirection.clientToServer,r.type=new i.ProtocolNotificationType(r.method)},2523:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},1747:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(1335);r(n(1335),t),r(n(9372),t),t.createProtocolConnection=function(e,t,n,i){return(0,o.createMessageConnection)(e,t,n,i)}},2570:(e,t,n)=>{"use strict";e.exports=n(1747)},4767:(e,t,n)=>{"use strict";var i,r,o,s,a,c,u,l,d,h,p,f,g,m,y,v,b,S,C,D,w,E,x,_,k,T,F,R;n.r(t),n.d(t,{AnnotatedTextEdit:()=>x,ChangeAnnotation:()=>w,ChangeAnnotationIdentifier:()=>E,CodeAction:()=>oe,CodeActionContext:()=>re,CodeActionKind:()=>ne,CodeActionTriggerKind:()=>ie,CodeDescription:()=>b,CodeLens:()=>se,Color:()=>d,ColorInformation:()=>h,ColorPresentation:()=>p,Command:()=>C,CompletionItem:()=>W,CompletionItemKind:()=>L,CompletionItemLabelDetails:()=>$,CompletionItemTag:()=>q,CompletionList:()=>K,CreateFile:()=>k,DeleteFile:()=>F,Diagnostic:()=>S,DiagnosticRelatedInformation:()=>m,DiagnosticSeverity:()=>y,DiagnosticTag:()=>v,DocumentHighlight:()=>X,DocumentHighlightKind:()=>J,DocumentLink:()=>ce,DocumentSymbol:()=>te,DocumentUri:()=>i,EOL:()=>xe,FoldingRange:()=>g,FoldingRangeKind:()=>f,FormattingOptions:()=>ae,Hover:()=>V,InlayHint:()=>be,InlayHintKind:()=>ye,InlayHintLabelPart:()=>ve,InlineValueContext:()=>me,InlineValueEvaluatableExpression:()=>ge,InlineValueText:()=>pe,InlineValueVariableLookup:()=>fe,InsertReplaceEdit:()=>B,InsertTextFormat:()=>j,InsertTextMode:()=>U,Location:()=>u,LocationLink:()=>l,MarkedString:()=>H,MarkupContent:()=>M,MarkupKind:()=>N,OptionalVersionedTextDocumentIdentifier:()=>O,ParameterInformation:()=>z,Position:()=>a,Range:()=>c,RenameFile:()=>T,SelectionRange:()=>ue,SemanticTokenModifiers:()=>de,SemanticTokenTypes:()=>le,SemanticTokens:()=>he,SignatureInformation:()=>G,SymbolInformation:()=>Z,SymbolKind:()=>Y,SymbolTag:()=>Q,TextDocument:()=>Ee,TextDocumentEdit:()=>_,TextDocumentIdentifier:()=>A,TextDocumentItem:()=>I,TextEdit:()=>D,URI:()=>r,VersionedTextDocumentIdentifier:()=>P,WorkspaceChange:()=>we,WorkspaceEdit:()=>R,WorkspaceFolder:()=>Se,WorkspaceSymbol:()=>ee,integer:()=>o,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(i||(i={})),function(e){e.is=function(e){return"string"==typeof e}}(r||(r={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(o||(o={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&_e.uinteger(t.line)&&_e.uinteger(t.character)}}(a||(a={})),function(e){e.create=function(e,t,n,i){if(_e.uinteger(e)&&_e.uinteger(t)&&_e.uinteger(n)&&_e.uinteger(i))return{start:a.create(e,t),end:a.create(n,i)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(i,"]"))},e.is=function(e){var t=e;return _e.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&c.is(t.range)&&(_e.string(t.uri)||_e.undefined(t.uri))}}(u||(u={})),function(e){e.create=function(e,t,n,i){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:i}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&c.is(t.targetRange)&&_e.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||_e.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,n,i){return{red:e,green:t,blue:n,alpha:i}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&_e.numberRange(t.red,0,1)&&_e.numberRange(t.green,0,1)&&_e.numberRange(t.blue,0,1)&&_e.numberRange(t.alpha,0,1)}}(d||(d={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&c.is(t.range)&&d.is(t.color)}}(h||(h={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&_e.string(t.label)&&(_e.undefined(t.textEdit)||D.is(t))&&(_e.undefined(t.additionalTextEdits)||_e.typedArray(t.additionalTextEdits,D.is))}}(p||(p={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,i,r,o){var s={startLine:e,endLine:t};return _e.defined(n)&&(s.startCharacter=n),_e.defined(i)&&(s.endCharacter=i),_e.defined(r)&&(s.kind=r),_e.defined(o)&&(s.collapsedText=o),s},e.is=function(e){var t=e;return _e.objectLiteral(t)&&_e.uinteger(t.startLine)&&_e.uinteger(t.startLine)&&(_e.undefined(t.startCharacter)||_e.uinteger(t.startCharacter))&&(_e.undefined(t.endCharacter)||_e.uinteger(t.endCharacter))&&(_e.undefined(t.kind)||_e.string(t.kind))}}(g||(g={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return _e.defined(t)&&u.is(t.location)&&_e.string(t.message)}}(m||(m={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(y||(y={})),function(e){e.Unnecessary=1,e.Deprecated=2}(v||(v={})),function(e){e.is=function(e){var t=e;return _e.objectLiteral(t)&&_e.string(t.href)}}(b||(b={})),function(e){e.create=function(e,t,n,i,r,o){var s={range:e,message:t};return _e.defined(n)&&(s.severity=n),_e.defined(i)&&(s.code=i),_e.defined(r)&&(s.source=r),_e.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t,n=e;return _e.defined(n)&&c.is(n.range)&&_e.string(n.message)&&(_e.number(n.severity)||_e.undefined(n.severity))&&(_e.integer(n.code)||_e.string(n.code)||_e.undefined(n.code))&&(_e.undefined(n.codeDescription)||_e.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(_e.string(n.source)||_e.undefined(n.source))&&(_e.undefined(n.relatedInformation)||_e.typedArray(n.relatedInformation,m.is))}}(S||(S={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={title:e,command:t};return _e.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){var t=e;return _e.defined(t)&&_e.string(t.title)&&_e.string(t.command)}}(C||(C={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&_e.string(t.newText)&&c.is(t.range)}}(D||(D={})),function(e){e.create=function(e,t,n){var i={label:e};return void 0!==t&&(i.needsConfirmation=t),void 0!==n&&(i.description=n),i},e.is=function(e){var t=e;return _e.objectLiteral(t)&&_e.string(t.label)&&(_e.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(_e.string(t.description)||void 0===t.description)}}(w||(w={})),function(e){e.is=function(e){var t=e;return _e.string(t)}}(E||(E={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return D.is(t)&&(w.is(t.annotationId)||E.is(t.annotationId))}}(x||(x={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return _e.defined(t)&&O.is(t.textDocument)&&Array.isArray(t.edits)}}(_||(_={})),function(e){e.create=function(e,t,n){var i={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(i.options=t),void 0!==n&&(i.annotationId=n),i},e.is=function(e){var t=e;return t&&"create"===t.kind&&_e.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||_e.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||_e.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||E.is(t.annotationId))}}(k||(k={})),function(e){e.create=function(e,t,n,i){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),void 0!==i&&(r.annotationId=i),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&_e.string(t.oldUri)&&_e.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||_e.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||_e.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||E.is(t.annotationId))}}(T||(T={})),function(e){e.create=function(e,t,n){var i={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(i.options=t),void 0!==n&&(i.annotationId=n),i},e.is=function(e){var t=e;return t&&"delete"===t.kind&&_e.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||_e.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||_e.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||E.is(t.annotationId))}}(F||(F={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return _e.string(e.kind)?k.is(e)||T.is(e)||F.is(e):_.is(e)})))}}(R||(R={}));var A,P,O,I,N,M,L,j,q,B,U,$,W,K,H,V,z,G,J,X,Y,Q,Z,ee,te,ne,ie,re,oe,se,ae,ce,ue,le,de,he,pe,fe,ge,me,ye,ve,be,Se,Ce=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var i,r;if(void 0===n?i=D.insert(e,t):E.is(n)?(r=n,i=x.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(n),i=x.insert(e,t,r)),this.edits.push(i),void 0!==r)return r},e.prototype.replace=function(e,t,n){var i,r;if(void 0===n?i=D.replace(e,t):E.is(n)?(r=n,i=x.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(n),i=x.replace(e,t,r)),this.edits.push(i),void 0!==r)return r},e.prototype.delete=function(e,t){var n,i;if(void 0===t?n=D.del(e):E.is(t)?(i=t,n=x.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=x.del(e,i)),this.edits.push(n),void 0!==i)return i},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),De=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(E.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),we=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new De(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(_.is(e)){var n=new Ce(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var i=new Ce(e.changes[n]);t._textEditChanges[n]=i}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(O.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(i=this._textEditChanges[t.uri])){var n={textDocument:t,edits:r=[]};this._workspaceEdit.documentChanges.push(n),i=new Ce(r,this._changeAnnotations),this._textEditChanges[t.uri]=i}return i}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var i;if(!(i=this._textEditChanges[e])){var r=[];this._workspaceEdit.changes[e]=r,i=new Ce(r),this._textEditChanges[e]=i}return i},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new De,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,r,o;if(w.is(t)||E.is(t)?i=t:n=t,void 0===i?r=k.create(e,n):(o=E.is(i)?i:this._changeAnnotations.manage(i),r=k.create(e,n,o)),this._workspaceEdit.documentChanges.push(r),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,o,s;if(w.is(n)||E.is(n)?r=n:i=n,void 0===r?o=T.create(e,t,i):(s=E.is(r)?r:this._changeAnnotations.manage(r),o=T.create(e,t,i,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,r,o;if(w.is(t)||E.is(t)?i=t:n=t,void 0===i?r=F.create(e,n):(o=E.is(i)?i:this._changeAnnotations.manage(i),r=F.create(e,n,o)),this._workspaceEdit.documentChanges.push(r),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return _e.defined(t)&&_e.string(t.uri)}}(A||(A={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return _e.defined(t)&&_e.string(t.uri)&&_e.integer(t.version)}}(P||(P={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return _e.defined(t)&&_e.string(t.uri)&&(null===t.version||_e.integer(t.version))}}(O||(O={})),function(e){e.create=function(e,t,n,i){return{uri:e,languageId:t,version:n,text:i}},e.is=function(e){var t=e;return _e.defined(t)&&_e.string(t.uri)&&_e.string(t.languageId)&&_e.integer(t.version)&&_e.string(t.text)}}(I||(I={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(N||(N={})),function(e){e.is=function(e){var t=e;return _e.objectLiteral(e)&&N.is(t.kind)&&_e.string(t.value)}}(M||(M={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(L||(L={})),function(e){e.PlainText=1,e.Snippet=2}(j||(j={})),function(e){e.Deprecated=1}(q||(q={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&_e.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(B||(B={})),function(e){e.asIs=1,e.adjustIndentation=2}(U||(U={})),function(e){e.is=function(e){var t=e;return t&&(_e.string(t.detail)||void 0===t.detail)&&(_e.string(t.description)||void 0===t.description)}}($||($={})),function(e){e.create=function(e){return{label:e}}}(W||(W={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(K||(K={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return _e.string(t)||_e.objectLiteral(t)&&_e.string(t.language)&&_e.string(t.value)}}(H||(H={})),function(e){e.is=function(e){var t=e;return!!t&&_e.objectLiteral(t)&&(M.is(t.contents)||H.is(t.contents)||_e.typedArray(t.contents,H.is))&&(void 0===e.range||c.is(e.range))}}(V||(V={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(z||(z={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={label:e};return _e.defined(t)&&(r.documentation=t),_e.defined(n)?r.parameters=n:r.parameters=[],r}}(G||(G={})),function(e){e.Text=1,e.Read=2,e.Write=3}(J||(J={})),function(e){e.create=function(e,t){var n={range:e};return _e.number(t)&&(n.kind=t),n}}(X||(X={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(Y||(Y={})),function(e){e.Deprecated=1}(Q||(Q={})),function(e){e.create=function(e,t,n,i,r){var o={name:e,kind:t,location:{uri:i,range:n}};return r&&(o.containerName=r),o}}(Z||(Z={})),function(e){e.create=function(e,t,n,i){return void 0!==i?{name:e,kind:t,location:{uri:n,range:i}}:{name:e,kind:t,location:{uri:n}}}}(ee||(ee={})),function(e){e.create=function(e,t,n,i,r,o){var s={name:e,detail:t,kind:n,range:i,selectionRange:r};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&_e.string(t.name)&&_e.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||_e.string(t.detail))&&(void 0===t.deprecated||_e.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(te||(te={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(ne||(ne={})),function(e){e.Invoked=1,e.Automatic=2}(ie||(ie={})),function(e){e.create=function(e,t,n){var i={diagnostics:e};return null!=t&&(i.only=t),null!=n&&(i.triggerKind=n),i},e.is=function(e){var t=e;return _e.defined(t)&&_e.typedArray(t.diagnostics,S.is)&&(void 0===t.only||_e.typedArray(t.only,_e.string))&&(void 0===t.triggerKind||t.triggerKind===ie.Invoked||t.triggerKind===ie.Automatic)}}(re||(re={})),function(e){e.create=function(e,t,n){var i={title:e},r=!0;return"string"==typeof t?(r=!1,i.kind=t):C.is(t)?i.command=t:i.edit=t,r&&void 0!==n&&(i.kind=n),i},e.is=function(e){var t=e;return t&&_e.string(t.title)&&(void 0===t.diagnostics||_e.typedArray(t.diagnostics,S.is))&&(void 0===t.kind||_e.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||C.is(t.command))&&(void 0===t.isPreferred||_e.boolean(t.isPreferred))&&(void 0===t.edit||R.is(t.edit))}}(oe||(oe={})),function(e){e.create=function(e,t){var n={range:e};return _e.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return _e.defined(t)&&c.is(t.range)&&(_e.undefined(t.command)||C.is(t.command))}}(se||(se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return _e.defined(t)&&_e.uinteger(t.tabSize)&&_e.boolean(t.insertSpaces)}}(ae||(ae={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return _e.defined(t)&&c.is(t.range)&&(_e.undefined(t.target)||_e.string(t.target))}}(ce||(ce={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return _e.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ue||(ue={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(le||(le={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(de||(de={})),function(e){e.is=function(e){var t=e;return _e.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(he||(he={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&_e.string(t.text)}}(pe||(pe={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&_e.boolean(t.caseSensitiveLookup)&&(_e.string(t.variableName)||void 0===t.variableName)}}(fe||(fe={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&(_e.string(t.expression)||void 0===t.expression)}}(ge||(ge={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return _e.defined(t)&&c.is(e.stoppedLocation)}}(me||(me={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(ye||(ye={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return _e.objectLiteral(t)&&(void 0===t.tooltip||_e.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.location||u.is(t.location))&&(void 0===t.command||C.is(t.command))}}(ve||(ve={})),function(e){e.create=function(e,t,n){var i={position:e,label:t};return void 0!==n&&(i.kind=n),i},e.is=function(e){var t=e;return _e.objectLiteral(t)&&a.is(t.position)&&(_e.string(t.label)||_e.typedArray(t.label,ve.is))&&(void 0===t.kind||ye.is(t.kind))&&void 0===t.textEdits||_e.typedArray(t.textEdits,D.is)&&(void 0===t.tooltip||_e.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.paddingLeft||_e.boolean(t.paddingLeft))&&(void 0===t.paddingRight||_e.boolean(t.paddingRight))}}(be||(be={})),function(e){e.is=function(e){var t=e;return _e.objectLiteral(t)&&r.is(t.uri)&&_e.string(t.name)}}(Se||(Se={}));var Ee,xe=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var i=e.length/2|0,r=e.slice(0,i),o=e.slice(i);t(r,n),t(o,n);for(var s=0,a=0,c=0;s<r.length&&a<o.length;){var u=n(r[s],o[a]);e[c++]=u<=0?r[s++]:o[a++]}for(;s<r.length;)e[c++]=r[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,i){return new ke(e,t,n,i)},e.is=function(e){var t=e;return!!(_e.defined(t)&&_e.string(t.uri)&&(_e.undefined(t.languageId)||_e.string(t.languageId))&&_e.uinteger(t.lineCount)&&_e.func(t.getText)&&_e.func(t.positionAt)&&_e.func(t.offsetAt))},e.applyEdits=function(e,n){for(var i=e.getText(),r=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=i.length,s=r.length-1;s>=0;s--){var a=r[s],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=o))throw new Error("Overlapping edit");i=i.substring(0,c)+a.newText+i.substring(u,i.length),o=c}return i}}(Ee||(Ee={}));var _e,ke=function(){function e(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,i=0;i<t.length;i++){n&&(e.push(i),n=!1);var r=t.charAt(i);n="\r"===r||"\n"===r,"\r"===r&&i+1<t.length&&"\n"===t.charAt(i+1)&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return a.create(0,e);for(;n<i;){var r=Math.floor((n+i)/2);t[r]>e?i=r:n=r+1}var o=n-1;return a.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,i){return"[object Number]"===t.call(e)&&n<=e&&e<=i},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(_e||(_e={}))},355:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{URI:()=>r,Utils:()=>o}),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,i="",r=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var c=i.lastIndexOf("/");if(c!==i.length-1){-1===c?(i="",r=0):r=(i=i.slice(0,c)).length-1-i.lastIndexOf("/"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i="",r=0,o=a,s=0;continue}t&&(i.length>0?i+="/..":i="..",r=2)}else i.length>0?i+="/"+e.slice(o+1,a):i=e.slice(o+1,a),r=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return i}var i={resolve:function(){for(var e,i="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(i=s+"/"+i,r=47===s.charCodeAt(0))}return i=n(i,!r),r?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!i)).length||i||(e="."),e.length>0&&r&&(e+="/"),i?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];t(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=i.resolve(e))===(n=i.resolve(n)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var o=e.length,s=o-r,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,u=s<c?s:c,l=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>u&&(47===e.charCodeAt(r+d)?l=d:0===d&&(l=0));break}var h=e.charCodeAt(r+d);if(h!==n.charCodeAt(a+d))break;47===h&&(l=d)}var p="";for(d=r+l+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),i=47===n,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?i?"/":".":i&&1===r?"//":e.slice(0,r)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var i,r=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(i=e.length-1;i>=0;--i){var u=e.charCodeAt(i);if(47===u){if(!s){r=i+1;break}}else-1===c&&(s=!1,c=i+1),a>=0&&(u===n.charCodeAt(a)?-1==--a&&(o=i):(a=-1,o=c))}return r===o?o=c:-1===o&&(o=e.length),e.slice(r,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){r=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(r,o)},extname:function(e){t(e);for(var n=-1,i=0,r=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===r&&(o=!1,r=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){i=a+1;break}}return-1===n||-1===r||0===s||1===s&&n===r-1&&n===i+1?"":e.slice(n,r)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+i:n+"/"+i:i}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var i,r=e.charCodeAt(0),o=47===r;o?(n.root="/",i=1):i=0;for(var s=-1,a=0,c=-1,u=!0,l=e.length-1,d=0;l>=i;--l)if(47!==(r=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===r?-1===s?s=l:1!==d&&(d=1):-1!==s&&(d=-1);else if(!u){a=l+1;break}return-1===s||-1===c||0===d||1===d&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{var e;if(n.r(r),n.d(r,{URI:()=>p,Utils:()=>E}),"object"==typeof process)e="win32"===process.platform;else if("object"==typeof navigator){var t=navigator.userAgent;e=t.indexOf("Windows")>=0}var i,o,s=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=/^\w[\w\d+.-]*$/,c=/^\//,u=/^\/\//,l="",d="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,p=function(){function t(e,t,n,i,r,o){void 0===o&&(o=!1),"object"==typeof e?(this.scheme=e.scheme||l,this.authority=e.authority||l,this.path=e.path||l,this.query=e.query||l,this.fragment=e.fragment||l):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||l,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==d&&(t=d+t):t=d}return t}(this.scheme,n||l),this.query=i||l,this.fragment=r||l,function(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!a.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!c.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,o))}return t.isUri=function(e){return e instanceof t||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString},Object.defineProperty(t.prototype,"fsPath",{get:function(){return b(this,!1)},enumerable:!1,configurable:!0}),t.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,i=e.path,r=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=l),void 0===n?n=this.authority:null===n&&(n=l),void 0===i?i=this.path:null===i&&(i=l),void 0===r?r=this.query:null===r&&(r=l),void 0===o?o=this.fragment:null===o&&(o=l),t===this.scheme&&n===this.authority&&i===this.path&&r===this.query&&o===this.fragment?this:new g(t,n,i,r,o)},t.parse=function(e,t){void 0===t&&(t=!1);var n=h.exec(e);return n?new g(n[2]||l,w(n[4]||l),w(n[5]||l),w(n[7]||l),w(n[9]||l),t):new g(l,l,l,l,l)},t.file=function(t){var n=l;if(e&&(t=t.replace(/\\/g,d)),t[0]===d&&t[1]===d){var i=t.indexOf(d,2);-1===i?(n=t.substring(2),t=d):(n=t.substring(2,i),t=t.substring(i)||d)}return new g("file",n,t,l,l)},t.from=function(e){return new g(e.scheme,e.authority,e.path,e.query,e.fragment)},t.prototype.toString=function(e){return void 0===e&&(e=!1),S(this,e)},t.prototype.toJSON=function(){return this},t.revive=function(e){if(e){if(e instanceof t)return e;var n=new g(e);return n._formatted=e.external,n._fsPath=e._sep===f?e.fsPath:null,n}return e},t}(),f=e?1:void 0,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return s(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=f),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(p),m=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function y(e,t){for(var n=void 0,i=-1,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==i&&(n+=encodeURIComponent(e.substring(i,r)),i=-1),void 0!==n&&(n+=e.charAt(r));else{void 0===n&&(n=e.substr(0,r));var s=m[o];void 0!==s?(-1!==i&&(n+=encodeURIComponent(e.substring(i,r)),i=-1),n+=s):-1===i&&(i=r)}}return-1!==i&&(n+=encodeURIComponent(e.substring(i))),void 0!==n?n:e}function v(e){for(var t=void 0,n=0;n<e.length;n++){var i=e.charCodeAt(n);35===i||63===i?(void 0===t&&(t=e.substr(0,n)),t+=m[i]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function b(t,n){var i;return i=t.authority&&t.path.length>1&&"file"===t.scheme?"//".concat(t.authority).concat(t.path):47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?n?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(i=i.replace(/\//g,"\\")),i}function S(e,t){var n=t?v:y,i="",r=e.scheme,o=e.authority,s=e.path,a=e.query,c=e.fragment;if(r&&(i+=r,i+=":"),(o||"file"===r)&&(i+=d,i+=d),o){var u=o.indexOf("@");if(-1!==u){var l=o.substr(0,u);o=o.substr(u+1),-1===(u=l.indexOf(":"))?i+=n(l,!1):(i+=n(l.substr(0,u),!1),i+=":",i+=n(l.substr(u+1),!1)),i+="@"}-1===(u=(o=o.toLowerCase()).indexOf(":"))?i+=n(o,!1):(i+=n(o.substr(0,u),!1),i+=o.substr(u))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(h=s.charCodeAt(1))>=65&&h<=90&&(s="/".concat(String.fromCharCode(h+32),":").concat(s.substr(3)));else if(s.length>=2&&58===s.charCodeAt(1)){var h;(h=s.charCodeAt(0))>=65&&h<=90&&(s="".concat(String.fromCharCode(h+32),":").concat(s.substr(2)))}i+=n(s,!0)}return a&&(i+="?",i+=n(a,!1)),c&&(i+="#",i+=t?c:y(c,!1)),i}function C(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+C(e.substr(3)):e}}var D=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(e){return e.match(D)?e.replace(D,(function(e){return C(e)})):e}var E,x=n(470),_=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},k=x.posix||x,T="/";!function(e){e.joinPath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.with({path:k.join.apply(k,_([e.path],t,!1))})},e.resolvePath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e.path,r=!1;i[0]!==T&&(i=T+i,r=!0);var o=k.resolve.apply(k,_([i],t,!1));return r&&o[0]===T&&!e.authority&&(o=o.substring(1)),e.with({path:o})},e.dirname=function(e){if(0===e.path.length||e.path===T)return e;var t=k.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return k.basename(e.path)},e.extname=function(e){return k.extname(e.path)}}(E||(E={}))})(),i=r})();const{URI:r,Utils:o}=i},8268:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},8006:(e,t,n)=>{"use strict";function i(e){var t=this;if(t instanceof i||(t=new i),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function r(e,t,n){var i=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,i){if(!(this instanceof a))return new a(e,t,n,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=i,i.Node=a,i.create=i,i.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},i.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},i.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},i.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},i.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},i.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;null!==n;i++)e.call(t,n.value,i,this),n=n.next},i.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;null!==n;i--)e.call(t,n.value,i,this),n=n.prev},i.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},i.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},i.prototype.map=function(e,t){t=t||this;for(var n=new i,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},i.prototype.mapReverse=function(e,t){t=t||this;for(var n=new i,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},i.prototype.reduce=function(e,t){var n,i=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var r=0;null!==i;r++)n=e(n,i.value,r),i=i.next;return n},i.prototype.reduceReverse=function(e,t){var n,i=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==i;r--)n=e(n,i.value,r),i=i.prev;return n},i.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},i.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},i.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;for(;null!==o&&r<t;r++,o=o.next)n.push(o.value);return n},i.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new i;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;null!==o&&r>t;r--)o=o.prev;for(;null!==o&&r>e;r--,o=o.prev)n.push(o.value);return n},i.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;var s=[];for(i=0;o&&i<t;i++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),i=0;i<n.length;i++)o=r(this,o,n[i]);return s},i.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=t,this.tail=e,this};try{n(8268)(i)}catch(e){}},6139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrnoException=t.isErrorCodeException=void 0;const n={string:!0,undefined:!0},i={number:!0,undefined:!0};t.isErrorCodeException=function(e){return!(!e||"object"!=typeof e)&&"string"==typeof e.code},t.isErrnoException=function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&"string"==typeof t.message&&typeof t.errno in i&&typeof t.code in n&&typeof t.path in n&&typeof t.stack in n}},2380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileExists=void 0;const i=n(3292),r=n(6139),o={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0,ENOTFOUND:!0};t.fileExists=async function(e){try{return await(0,i.access)(e.fsPath),!0}catch(e){if(!(0,r.isErrnoException)(e)||!e.code||!(e.code in o))throw e;return!1}}},745:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LogFileConnection=void 0,r(n(2131),t),r(n(4561),t),r(n(6139),t);var o=n(3282);Object.defineProperty(t,"LogFileConnection",{enumerable:!0,get:function(){return o.LogFileConnection}})},3282:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogFileConnection=t.LogFile=void 0;const i=n(7147);class r{constructor(e){this.filename=e,this._buffer=[],this.pfh=i.promises.open(e,"a").then((e=>this.fh=e)).catch((e=>{console.error(this._error=e)}))}onReady(){return this.pfh.then((e=>!(!e||!this.fh))).catch((()=>!1))}getError(){return this._error}isReady(){return!!this.fh}log(e){return this._log("LOG",e),this}info(e){return this._log("INF",e),this}warn(e){return this._log("WRN",e),this}error(e){return this._log("ERR",e),this}close(){return this.fh=void 0,this.pfh.then((e=>e?.close())).catch((e=>console.error(e)))}_log(e,t){const n=`${(new Date).toISOString()} ${e}: `,i=" ".repeat(n.length),r=t.split("\n").join("\n"+i);this._buffer.push(`${n}${r}\n`),this.process()}process(){this._pending||(this._pending=this._processAsync())}async _processAsync(){const e=await this.pfh;for(let t=this._buffer;t.length;t=this._buffer){this._buffer=[];try{await(e?.writeFile(t.join("")))}catch(e){this._error=e}}this._pending=void 0}}t.LogFile=r,t.LogFileConnection=class{constructor(e){this.filename=e,this.onExitHandlers=[],this.console=new r(e)}onExit(e){this.onExitHandlers.push(e)}async close(){this.notifyOnExit(),await this.console.close()}notifyOnExit(){for(const e of this.onExitHandlers)try{e()}catch(e){console.error(e)}}}},4561:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToName=t.cleanUri=t.relativeToFile=t.relativeTo=t.toFileUri=t.toUri=t.isSupportedDoc=t.isSupportedUri=t.setOfSupportedSchemes=t.supportedSchemes=void 0;const i=n(355);function r(e){return!!e&&t.setOfSupportedSchemes.has(e.scheme)}t.supportedSchemes=["gist","file","sftp","untitled"],t.setOfSupportedSchemes=new Set(t.supportedSchemes),t.isSupportedUri=r,t.isSupportedDoc=function(e){return!!e&&!e.isClosed&&r(e.uri)};const o=/^[\w.-]{2,}:/;function s(e){return"string"==typeof e?o.test(e)?i.URI.parse(e):i.URI.file(e):e}function a(e,t){const n=u(e),i=u(t);let r=0;for(r=0;r<n.length&&r<i.length&&n[r]===i[r];++r);return("../".repeat(n.length-r)+i.slice(r).join("/")).replace(/\/$/,"")}function c(e){return e.with({fragment:"",query:""})}function u(e){return c(e).toString().split("/").filter((e=>!!e))}t.toUri=function(e){return s(e||void 0)},t.toFileUri=s,t.relativeTo=a,t.relativeToFile=function(e,t){return a(i.Utils.dirname(e),t)},t.cleanUri=c,t.uriToName=function(e,t=2){return u(e).slice(-t).join("/")}},2131:(e,t)=>{"use strict";function n(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0}),t.setIfDefined=t.pick=t.capitalize=t.textToWords=t.escapeRegExp=t.mustBeDefined=t.isDefined=t.freqCount=t.uniqueFilter=t.unique=void 0,t.unique=function(e){return[...new Set(e)]},t.uniqueFilter=function(e){const t=new Set;return e?n=>{const i=e(n);return!t.has(i)&&(t.add(i),!0)}:e=>!t.has(e)&&(t.add(e),!0)},t.freqCount=function(e){const t=new Map;return e.forEach((e=>t.set(e,(t.get(e)||0)+1))),[...t.entries()]},t.isDefined=n,t.mustBeDefined=function(e){if(n(e))return e;throw new Error("Value must be defined.")},t.escapeRegExp=function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},t.textToWords=function(e){const t=/^[\p{L}\w'-]+$/u;return e.normalize("NFC").split(/(?<![\p{L}\w'-])(?=[\p{L}\w'-])|(?<=[\p{L}\w'-])(?![\p{L}\w'-])/gu).filter((e=>t.test(e)))},t.capitalize=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},t.pick=function(e,t){const n={};for(const i of t)n[i]=e[i];return n},t.setIfDefined=function(e,t,n){return void 0!==n&&(e[t]=n),e}},2453:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageBus=void 0;const i=n(568),r=n(3956);t.MessageBus=class{constructor(e,t=console){Object.defineProperty(this,"vsCodeApi",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"logger",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.vsCodeApi.onmessage=e=>this.respondToMessage(e)}listenFor(e,t){const n={fn:function(e){(0,r.isMessageOf)(e)&&t(e)},cmd:e,dispose:()=>{this.listeners.has(e)&&this.listeners.get(e).delete(n)}};return this.listeners.set(e,this.listeners.get(e)||new Set),this.listeners.get(e).add(n),n}postMessage(e){this.vsCodeApi.postMessage(e)}respondToMessage(e){const t=e.data;if(!(0,i.isMessage)(t))return void this.logger.error("Unknown message: %o",e);const n=this.listeners.get(t.command);if(n)for(const e of n)e.fn(t);else this.logger.error("Unhandled message: %o",e)}}},3956:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(568),t),r(n(2453),t)},568:(e,t)=>{"use strict";function n(e,t){return function(n){const i=n;return n.command===e&&t.reduce(((e,[t,n])=>e&&n(i[t])),!0)}}function i(e){return"object"==typeof e&&null!==e}function r(e){return"string"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.isMessageOf=t.isOpenLinkMessage=t.isSelectTabMessage=t.isSelectFolderMessage=t.isSelectFileMessage=t.isRequestConfigurationMessage=t.isEnableLocaleMessage=t.isEnableLanguageIdMessage=t.isConfigurationChangeMessage=t.isMessage=void 0,t.isMessage=function(e){return!!function(e){return!("object"!=typeof e||!e||!e.hasOwnProperty("command"))&&"string"==typeof e.command}(e)&&s(e)},t.isConfigurationChangeMessage=n("ConfigurationChangeMessage",[["value",i]]),t.isEnableLanguageIdMessage=n("EnableLanguageIdMessage",[["value",i]]),t.isEnableLocaleMessage=n("EnableLocaleMessage",[["value",i]]),t.isRequestConfigurationMessage=n("RequestConfigurationMessage",[]),t.isSelectFileMessage=n("SelectFileMessage",[["value",r]]),t.isSelectFolderMessage=n("SelectFolderMessage",[["value",r]]),t.isSelectTabMessage=n("SelectTabMessage",[["value",r]]),t.isOpenLinkMessage=n("OpenLinkMessage",[["value",i]]);const o={ConfigurationChangeMessage:t.isConfigurationChangeMessage,EnableLanguageIdMessage:t.isEnableLanguageIdMessage,EnableLocaleMessage:t.isEnableLocaleMessage,RequestConfigurationMessage:t.isRequestConfigurationMessage,SelectFileMessage:t.isSelectFileMessage,SelectFolderMessage:t.isSelectFolderMessage,SelectTabMessage:t.isSelectTabMessage,OpenLinkMessage:t.isOpenLinkMessage};function s(e){return(0,o[e.command])?.(e)??!1}t.isMessageOf=s},3312:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(3956),t)},9496:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},7147:e=>{"use strict";e.exports=require("fs")},3292:e=>{"use strict";e.exports=require("fs/promises")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},3837:e=>{"use strict";e.exports=require("util")},8149:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageTypes=t.IssueType=void 0,(n=t.IssueType||(t.IssueType={}))[n.spelling=0]="spelling",n[n.directive=1]="directive",t.MessageTypes={Debug:"Debug",Info:"Info",Warning:"Warning"}},1193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9076:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigFields=void 0,t.ConfigFields={allowCompoundWords:"allowCompoundWords",cache:"cache",caseSensitive:"caseSensitive",description:"description",dictionaries:"dictionaries",dictionaryDefinitions:"dictionaryDefinitions",enabled:"enabled",enabledLanguageIds:"enabledLanguageIds",enableFiletypes:"enableFiletypes",enableGlobDot:"enableGlobDot",failFast:"failFast",features:"features",files:"files",flagWords:"flagWords",gitignoreRoot:"gitignoreRoot",globRoot:"globRoot",ignorePaths:"ignorePaths",ignoreRegExpList:"ignoreRegExpList",ignoreWords:"ignoreWords",import:"import",includeRegExpList:"includeRegExpList",language:"language",languageId:"languageId",languageSettings:"languageSettings",loadDefaultConfiguration:"loadDefaultConfiguration",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",minWordLength:"minWordLength",name:"name",noConfigSearch:"noConfigSearch",noSuggestDictionaries:"noSuggestDictionaries",numSuggestions:"numSuggestions",overrides:"overrides",patterns:"patterns",pnpFiles:"pnpFiles",readonly:"readonly",reporters:"reporters",showStatus:"showStatus",spellCheckDelayMs:"spellCheckDelayMs",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",useGitignore:"useGitignore",usePnP:"usePnP",userWords:"userWords",validateDirectives:"validateDirectives",words:"words",parser:"parser"}},5239:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigFields=void 0;var o=n(9076);Object.defineProperty(t,"ConfigFields",{enumerable:!0,get:function(){return o.ConfigFields}}),r(n(8149),t),r(n(1193),t)},5775:(e,t,n)=>{"use strict";var i=n(466),r=n(8844),o=n(6933),s=n(3179),a=n(4658);t.composeCollection=function(e,t,n,c,u){let l;switch(n.type){case"block-map":l=o.resolveBlockMap(e,t,n,u);break;case"block-seq":l=s.resolveBlockSeq(e,t,n,u);break;case"flow-collection":l=a.resolveFlowCollection(e,t,n,u)}if(!c)return l;const d=t.directives.tagName(c.source,(e=>u(c,"TAG_RESOLVE_FAILED",e)));if(!d)return l;const h=l.constructor;if("!"===d||d===h.tagName)return l.tag=h.tagName,l;const p=i.isMap(l)?"map":"seq";let f=t.schema.tags.find((e=>e.collection===p&&e.tag===d));if(!f){const e=t.schema.knownTags[d];if(!e||e.collection!==p)return u(c,"TAG_RESOLVE_FAILED",`Unresolved tag: ${d}`,!0),l.tag=d,l;t.schema.tags.push(Object.assign({},e,{default:!1})),f=e}const g=f.resolve(l,(e=>u(c,"TAG_RESOLVE_FAILED",e)),t.options),m=i.isNode(g)?g:new r.Scalar(g);return m.range=l.range,m.tag=d,f?.format&&(m.format=f.format),m}},3138:(e,t,n)=>{"use strict";var i=n(6068),r=n(81),o=n(7655),s=n(5920);t.composeDoc=function(e,t,{offset:n,start:a,value:c,end:u},l){const d=Object.assign({_directives:t},e),h=new i.Document(void 0,d),p={atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},f=s.resolveProps(a,{indicator:"doc-start",next:c??u?.[0],offset:n,onError:l,startOnNewline:!0});f.found&&(h.directives.docStart=!0,!c||"block-map"!==c.type&&"block-seq"!==c.type||f.hasNewline||l(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=c?r.composeNode(p,c,f,l):r.composeEmptyNode(p,f.end,a,null,f,l);const g=h.contents.range[2],m=o.resolveEnd(u,g,!1,l);return m.comment&&(h.comment=m.comment),h.range=[n,g,m.offset],h}},81:(e,t,n)=>{"use strict";var i=n(2055),r=n(5775),o=n(6548),s=n(7655),a=n(7154);const c={composeNode:u,composeEmptyNode:l};function u(e,t,n,a){const{spaceBefore:u,comment:d,anchor:h,tag:p}=n;let f,g=!0;switch(t.type){case"alias":f=function({options:e},{offset:t,source:n,end:r},o){const a=new i.Alias(n.substring(1));""===a.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string"),a.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const c=t+n.length,u=s.resolveEnd(r,c,e.strict,o);return a.range=[t,c,u.offset],u.comment&&(a.comment=u.comment),a}(e,t,a),(h||p)&&a(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=o.composeScalar(e,t,p,a),h&&(f.anchor=h.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=r.composeCollection(c,e,t,p,a),h&&(f.anchor=h.source.substring(1));break;default:a(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),f=l(e,t.offset,void 0,null,n,a),g=!1}return h&&""===f.anchor&&a(h,"BAD_ALIAS","Anchor cannot be an empty string"),u&&(f.spaceBefore=!0),d&&("scalar"===t.type&&""===t.source?f.comment=d:f.commentBefore=d),e.options.keepSourceTokens&&g&&(f.srcToken=t),f}function l(e,t,n,i,{spaceBefore:r,comment:s,anchor:c,tag:u},l){const d={type:"scalar",offset:a.emptyScalarPosition(t,n,i),indent:-1,source:""},h=o.composeScalar(e,d,u,l);return c&&(h.anchor=c.source.substring(1),""===h.anchor&&l(c,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(h.spaceBefore=!0),s&&(h.comment=s),h}t.composeEmptyNode=l,t.composeNode=u},6548:(e,t,n)=>{"use strict";var i=n(466),r=n(8844),o=n(1328),s=n(7876);t.composeScalar=function(e,t,n,a){const{value:c,type:u,comment:l,range:d}="block-scalar"===t.type?o.resolveBlockScalar(t,e.options.strict,a):s.resolveFlowScalar(t,e.options.strict,a),h=n?e.directives.tagName(n.source,(e=>a(n,"TAG_RESOLVE_FAILED",e))):null,p=n&&h?function(e,t,n,r,o){if("!"===n)return e[i.SCALAR];const s=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;s.push(t)}for(const e of s)if(e.test?.test(t))return e;const a=e.knownTags[n];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(o(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[i.SCALAR])}(e.schema,c,h,n,a):"scalar"===t.type?function({directives:e,schema:t},n,r,o){const s=t.tags.find((e=>e.default&&e.test?.test(n)))||t[i.SCALAR];if(t.compat){const a=t.compat.find((e=>e.default&&e.test?.test(n)))??t[i.SCALAR];s.tag!==a.tag&&o(r,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(s.tag)} or ${e.tagString(a.tag)}`,!0)}return s}(e,c,t,a):e.schema[i.SCALAR];let f;try{const o=p.resolve(c,(e=>a(n??t,"TAG_RESOLVE_FAILED",e)),e.options);f=i.isScalar(o)?o:new r.Scalar(o)}catch(e){const i=e instanceof Error?e.message:String(e);a(n??t,"TAG_RESOLVE_FAILED",i),f=new r.Scalar(c)}return f.range=d,f.source=c,u&&(f.type=u),h&&(f.tag=h),p.format&&(f.format=p.format),l&&(f.comment=l),f}},5281:(e,t,n)=>{"use strict";var i=n(9226),r=n(6068),o=n(2394),s=n(466),a=n(3138),c=n(7655);function u(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function l(e){let t="",n=!1,i=!1;for(let r=0;r<e.length;++r){const o=e[r];switch(o[0]){case"#":t+=(""===t?"":i?"\n\n":"\n")+(o.substring(1)||" "),n=!0,i=!1;break;case"%":"#"!==e[r+1]?.[0]&&(r+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:t,afterEmptyLine:i}}t.Composer=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,i)=>{const r=u(e);i?this.warnings.push(new o.YAMLWarning(r,t,n)):this.errors.push(new o.YAMLParseError(r,t,n))},this.directives=new i.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:i}=l(this.prelude);if(n){const r=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(i||e.directives.docStart||!r)e.commentBefore=n;else if(s.isCollection(r)&&!r.flow&&r.items.length>0){let e=r.items[0];s.isPair(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=r.commentBefore;r.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:l(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,((t,n,i)=>{const r=u(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",n,i)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=a.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new o.YAMLParseError(u(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new o.YAMLParseError(u(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=c.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new o.YAMLParseError(u(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new r.Document(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}},6933:(e,t,n)=>{"use strict";var i=n(394),r=n(6575),o=n(5920),s=n(3094),a=n(2566),c=n(6493);const u="All mapping items must start at the same column";t.resolveBlockMap=function({composeNode:e,composeEmptyNode:t},n,l,d){const h=new r.YAMLMap(n.schema);n.atRoot&&(n.atRoot=!1);let p=l.offset;for(const r of l.items){const{start:f,key:g,sep:m,value:y}=r,v=o.resolveProps(f,{indicator:"explicit-key-ind",next:g??m?.[0],offset:p,onError:d,startOnNewline:!0}),b=!v.found;if(b){if(g&&("block-seq"===g.type?d(p,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==l.indent&&d(p,"BAD_INDENT",u)),!v.anchor&&!v.tag&&!m){v.comment&&(h.comment?h.comment+="\n"+v.comment:h.comment=v.comment);continue}(v.hasNewlineAfterProp||s.containsNewline(g))&&d(g??f[f.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else v.found?.indent!==l.indent&&d(p,"BAD_INDENT",u);const S=v.end,C=g?e(n,g,v,d):t(n,S,f,null,v,d);n.schema.compat&&a.flowIndentCheck(l.indent,g,d),c.mapIncludes(n,h.items,C)&&d(S,"DUPLICATE_KEY","Map keys must be unique");const D=o.resolveProps(m??[],{indicator:"map-value-ind",next:y,offset:C.range[2],onError:d,startOnNewline:!g||"block-scalar"===g.type});if(p=D.end,D.found){b&&("block-map"!==y?.type||D.hasNewline||d(p,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&v.start<D.found.offset-1024&&d(C.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const o=y?e(n,y,D,d):t(n,p,m,null,D,d);n.schema.compat&&a.flowIndentCheck(l.indent,y,d),p=o.range[2];const s=new i.Pair(C,o);n.options.keepSourceTokens&&(s.srcToken=r),h.items.push(s)}else{b&&d(C.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),D.comment&&(C.comment?C.comment+="\n"+D.comment:C.comment=D.comment);const e=new i.Pair(C);n.options.keepSourceTokens&&(e.srcToken=r),h.items.push(e)}}return h.range=[l.offset,p,p],h}},1328:(e,t,n)=>{"use strict";var i=n(8844);t.resolveBlockScalar=function(e,t,n){const r=e.offset,o=function({offset:e,props:t},n,i){if("block-scalar-header"!==t[0].type)return i(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=t[0],o=r[0];let s=0,a="",c=-1;for(let t=1;t<r.length;++t){const n=r[t];if(a||"-"!==n&&"+"!==n){const i=Number(n);!s&&i?s=i:-1===c&&(c=e+t)}else a=n}-1!==c&&i(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let u=!1,l="",d=r.length;for(let e=1;e<t.length;++e){const r=t[e];switch(r.type){case"space":u=!0;case"newline":d+=r.source.length;break;case"comment":n&&!u&&i(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=r.source.length,l=r.source.substring(1);break;case"error":i(r,"UNEXPECTED_TOKEN",r.message),d+=r.source.length;break;default:{i(r,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${r.type}`);const e=r.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:o,indent:s,chomp:a,comment:l,length:d}}(e,t,n);if(!o)return{value:"",type:null,comment:"",range:[r,r,r]};const s=">"===o.mode?i.Scalar.BLOCK_FOLDED:i.Scalar.BLOCK_LITERAL,a=e.source?function(e){const t=e.split(/\n( *)/),n=t[0],i=n.match(/^( *)/),r=[i?.[1]?[i[1],n.slice(i[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)r.push([t[e],t[e+1]]);return r}(e.source):[];let c=a.length;for(let e=a.length-1;e>=0;--e){const t=a[e][1];if(""!==t&&"\r"!==t)break;c=e}if(0===c){const t="+"===o.chomp&&a.length>0?"\n".repeat(Math.max(1,a.length-1)):"";let n=r+o.length;return e.source&&(n+=e.source.length),{value:t,type:s,comment:o.comment,range:[r,n,n]}}let u=e.indent+o.indent,l=e.offset+o.length,d=0;for(let e=0;e<c;++e){const[t,i]=a[e];if(""!==i&&"\r"!==i){if(t.length<u){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(l+t.length,"MISSING_CHAR",e)}0===o.indent&&(u=t.length),d=e;break}0===o.indent&&t.length>u&&(u=t.length),l+=t.length+i.length+1}for(let e=a.length-1;e>=c;--e)a[e][0].length>u&&(c=e+1);let h="",p="",f=!1;for(let e=0;e<d;++e)h+=a[e][0].slice(u)+"\n";for(let e=d;e<c;++e){let[t,r]=a[e];l+=t.length+r.length+1;const c="\r"===r[r.length-1];if(c&&(r=r.slice(0,-1)),r&&t.length<u){const e="Block scalar lines must not be less indented than their "+(o.indent?"explicit indentation indicator":"first line");n(l-r.length-(c?2:1),"BAD_INDENT",e),t=""}s===i.Scalar.BLOCK_LITERAL?(h+=p+t.slice(u)+r,p="\n"):t.length>u||"\t"===r[0]?(" "===p?p="\n":f||"\n"!==p||(p="\n\n"),h+=p+t.slice(u)+r,p="\n",f=!0):""===r?"\n"===p?h+="\n":p="\n":(h+=p+r,p=" ",f=!1)}switch(o.chomp){case"-":break;case"+":for(let e=c;e<a.length;++e)h+="\n"+a[e][0].slice(u);"\n"!==h[h.length-1]&&(h+="\n");break;default:h+="\n"}const g=r+o.length+e.source.length;return{value:h,type:s,comment:o.comment,range:[r,g,g]}}},3179:(e,t,n)=>{"use strict";var i=n(3798),r=n(5920),o=n(2566);t.resolveBlockSeq=function({composeNode:e,composeEmptyNode:t},n,s,a){const c=new i.YAMLSeq(n.schema);n.atRoot&&(n.atRoot=!1);let u=s.offset;for(const{start:i,value:l}of s.items){const d=r.resolveProps(i,{indicator:"seq-item-ind",next:l,offset:u,onError:a,startOnNewline:!0});if(u=d.end,!d.found){if(!(d.anchor||d.tag||l)){d.comment&&(c.comment=d.comment);continue}l&&"block-seq"===l.type?a(u,"BAD_INDENT","All sequence items must start at the same column"):a(u,"MISSING_CHAR","Sequence item without - indicator")}const h=l?e(n,l,d,a):t(n,u,i,null,d,a);n.schema.compat&&o.flowIndentCheck(s.indent,l,a),u=h.range[2],c.items.push(h)}return c.range=[s.offset,u,u],c}},7655:(e,t)=>{"use strict";t.resolveEnd=function(e,t,n,i){let r="";if(e){let o=!1,s="";for(const a of e){const{source:e,type:c}=a;switch(c){case"space":o=!0;break;case"comment":{n&&!o&&i(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";r?r+=s+t:r=t,s="";break}case"newline":r&&(s+=e),o=!0;break;default:i(a,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:r,offset:t}}},4658:(e,t,n)=>{"use strict";var i=n(466),r=n(394),o=n(6575),s=n(3798),a=n(7655),c=n(5920),u=n(3094),l=n(6493);const d="Block collections are not allowed within flow collections",h=e=>e&&("block-map"===e.type||"block-seq"===e.type);t.resolveFlowCollection=function({composeNode:e,composeEmptyNode:t},n,p,f){const g="{"===p.start.source,m=g?"flow map":"flow sequence",y=g?new o.YAMLMap(n.schema):new s.YAMLSeq(n.schema);y.flow=!0;const v=n.atRoot;v&&(n.atRoot=!1);let b=p.offset+p.start.source.length;for(let s=0;s<p.items.length;++s){const a=p.items[s],{start:v,key:S,sep:C,value:D}=a,w=c.resolveProps(v,{flow:m,indicator:"explicit-key-ind",next:S??C?.[0],offset:b,onError:f,startOnNewline:!1});if(!w.found){if(!(w.anchor||w.tag||C||D)){0===s&&w.comma?f(w.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${m}`):s<p.items.length-1&&f(w.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${m}`),w.comment&&(y.comment?y.comment+="\n"+w.comment:y.comment=w.comment),b=w.end;continue}!g&&n.options.strict&&u.containsNewline(S)&&f(S,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===s)w.comma&&f(w.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${m}`);else if(w.comma||f(w.start,"MISSING_CHAR",`Missing , between ${m} items`),w.comment){let e="";e:for(const t of v)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=y.items[y.items.length-1];i.isPair(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,w.comment=w.comment.substring(e.length+1)}}if(g||C||w.found){const i=w.end,s=S?e(n,S,w,f):t(n,i,v,null,w,f);h(S)&&f(s.range,"BLOCK_IN_FLOW",d);const u=c.resolveProps(C??[],{flow:m,indicator:"map-value-ind",next:D,offset:s.range[2],onError:f,startOnNewline:!1});if(u.found){if(!g&&!w.found&&n.options.strict){if(C)for(const e of C){if(e===u.found)break;if("newline"===e.type){f(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}w.start<u.found.offset-1024&&f(u.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else D&&("source"in D&&D.source&&":"===D.source[0]?f(D,"MISSING_CHAR",`Missing space after : in ${m}`):f(u.start,"MISSING_CHAR",`Missing , or : between ${m} items`));const p=D?e(n,D,u,f):u.found?t(n,u.end,C,null,u,f):null;p?h(D)&&f(p.range,"BLOCK_IN_FLOW",d):u.comment&&(s.comment?s.comment+="\n"+u.comment:s.comment=u.comment);const E=new r.Pair(s,p);if(n.options.keepSourceTokens&&(E.srcToken=a),g){const e=y;l.mapIncludes(n,e.items,s)&&f(i,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(E)}else{const e=new o.YAMLMap(n.schema);e.flow=!0,e.items.push(E),y.items.push(e)}b=p?p.range[2]:u.end}else{const i=D?e(n,D,w,f):t(n,w.end,C,null,w,f);y.items.push(i),b=i.range[2],h(D)&&f(i.range,"BLOCK_IN_FLOW",d)}}const S=g?"}":"]",[C,...D]=p.end;let w=b;if(C&&C.source===S)w=C.offset+C.source.length;else{const e=m[0].toUpperCase()+m.substring(1);f(b,v?"MISSING_CHAR":"BAD_INDENT",v?`${e} must end with a ${S}`:`${e} in block collection must be sufficiently indented and end with a ${S}`),C&&1!==C.source.length&&D.unshift(C)}if(D.length>0){const e=a.resolveEnd(D,w,n.options.strict,f);e.comment&&(y.comment?y.comment+="\n"+e.comment:y.comment=e.comment),y.range=[p.offset,w,e.offset]}else y.range=[p.offset,w,w];return y}},7876:(e,t,n)=>{"use strict";var i=n(8844),r=n(7655);function o(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=t.exec(e);if(!i)return e;let r=i[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;i=n.exec(e);)""===i[1]?"\n"===o?r+=o:o="\n":(r+=o+i[1],o=" "),s=n.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,i=a.exec(e),r+o+(i?.[1]??"")}function s(e,t){let n="",i=e[t+1];for(;!(" "!==i&&"\t"!==i&&"\n"!==i&&"\r"!==i||"\r"===i&&"\n"!==e[t+2]);)"\n"===i&&(n+="\n"),i=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const a={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function c(e,t,n,i){const r=e.substr(t,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const r=e.substr(t-2,n+2);return i(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),r}return String.fromCodePoint(o)}t.resolveFlowScalar=function(e,t,n){const{offset:u,type:l,source:d,end:h}=e;let p,f;const g=(e,t,i)=>n(u+e,t,i);switch(l){case"scalar":p=i.Scalar.PLAIN,f=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),o(e)}(d,g);break;case"single-quoted-scalar":p=i.Scalar.QUOTE_SINGLE,f=function(e,t){return"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote"),o(e.slice(1,-1)).replace(/''/g,"'")}(d,g);break;case"double-quoted-scalar":p=i.Scalar.QUOTE_DOUBLE,f=function(e,t){let n="";for(let i=1;i<e.length-1;++i){const r=e[i];if("\r"!==r||"\n"!==e[i+1])if("\n"===r){const{fold:t,offset:r}=s(e,i);n+=t,i=r}else if("\\"===r){let r=e[++i];const o=a[r];if(o)n+=o;else if("\n"===r)for(r=e[i+1];" "===r||"\t"===r;)r=e[1+ ++i];else if("\r"===r&&"\n"===e[i+1])for(r=e[1+ ++i];" "===r||"\t"===r;)r=e[1+ ++i];else if("x"===r||"u"===r||"U"===r){const o={x:2,u:4,U:8}[r];n+=c(e,i+1,o,t),i+=o}else{const r=e.substr(i-1,2);t(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),n+=r}}else if(" "===r||"\t"===r){const t=i;let o=e[i+1];for(;" "===o||"\t"===o;)o=e[1+ ++i];"\n"===o||"\r"===o&&"\n"===e[i+2]||(n+=i>t?e.slice(t,i+1):r)}else n+=r}return'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}(d,g);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${l}`),{value:"",type:null,comment:"",range:[u,u+d.length,u+d.length]}}const m=u+d.length,y=r.resolveEnd(h,m,t,n);return{value:f,type:p,comment:y.comment,range:[u,m,y.offset]}}},5920:(e,t)=>{"use strict";t.resolveProps=function(e,{flow:t,indicator:n,next:i,offset:r,onError:o,startOnNewline:s}){let a=!1,c=s,u=s,l="",d="",h=!1,p=!1,f=!1,g=null,m=null,y=null,v=null,b=null;for(const i of e)switch(f&&("space"!==i.type&&"newline"!==i.type&&"comma"!==i.type&&o(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),f=!1),i.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===i.source[0]&&o(i,"TAB_AS_INDENT","Tabs are not allowed as indentation"),u=!0;break;case"comment":{u||o(i,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=i.source.substring(1)||" ";l?l+=d+e:l=e,d="",c=!1;break}case"newline":c?l?l+=i.source:a=!0:d+=i.source,c=!0,h=!0,(g||m)&&(p=!0),u=!0;break;case"anchor":g&&o(i,"MULTIPLE_ANCHORS","A node can have at most one anchor"),i.source.endsWith(":")&&o(i.offset+i.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=i,null===b&&(b=i.offset),c=!1,u=!1,f=!0;break;case"tag":m&&o(i,"MULTIPLE_TAGS","A node can have at most one tag"),m=i,null===b&&(b=i.offset),c=!1,u=!1,f=!0;break;case n:(g||m)&&o(i,"BAD_PROP_ORDER",`Anchors and tags must be after the ${i.source} indicator`),v&&o(i,"UNEXPECTED_TOKEN",`Unexpected ${i.source} in ${t??"collection"}`),v=i,c=!1,u=!1;break;case"comma":if(t){y&&o(i,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),y=i,c=!1,u=!1;break}default:o(i,"UNEXPECTED_TOKEN",`Unexpected ${i.type} token`),c=!1,u=!1}const S=e[e.length-1],C=S?S.offset+S.source.length:r;return f&&i&&"space"!==i.type&&"newline"!==i.type&&"comma"!==i.type&&("scalar"!==i.type||""!==i.source)&&o(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:y,found:v,spaceBefore:a,comment:l,hasNewline:h,hasNewlineAfterProp:p,anchor:g,tag:m,end:C,start:b??C}}},3094:(e,t)=>{"use strict";t.containsNewline=function e(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes("\n"))return!0;if(t.end)for(const e of t.end)if("newline"===e.type)return!0;return!1;case"flow-collection":for(const n of t.items){for(const e of n.start)if("newline"===e.type)return!0;if(n.sep)for(const e of n.sep)if("newline"===e.type)return!0;if(e(n.key)||e(n.value))return!0}return!1;default:return!0}}},7154:(e,t)=>{"use strict";t.emptyScalarPosition=function(e,t,n){if(t){null===n&&(n=t.length);for(let i=n-1;i>=0;--i){let n=t[i];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++i];"space"===n?.type;)e+=n.source.length,n=t[++i];break}}return e}},2566:(e,t,n)=>{"use strict";var i=n(3094);t.flowIndentCheck=function(e,t,n){if("flow-collection"===t?.type){const r=t.end[0];r.indent!==e||"]"!==r.source&&"}"!==r.source||!i.containsNewline(t)||n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}},6493:(e,t,n)=>{"use strict";var i=n(466);t.mapIncludes=function(e,t,n){const{uniqueKeys:r}=e.options;if(!1===r)return!1;const o="function"==typeof r?r:(t,n)=>t===n||i.isScalar(t)&&i.isScalar(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>o(e.key,n)))}},6068:(e,t,n)=>{"use strict";var i=n(2055),r=n(3365),o=n(466),s=n(394),a=n(3257),c=n(3673),u=n(611),l=n(9957),d=n(1903),h=n(3085),p=n(7581),f=n(9226);class g{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,o.NODE_TYPE,{value:o.DOC});let i=null;"function"==typeof t||Array.isArray(t)?i=t:void 0===n&&t&&(n=t,t=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:s}=r;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new f.Directives({version:s}),this.setSchema(s,n),this.contents=void 0===e?null:this.createNode(e,i,n)}clone(){const e=Object.create(g.prototype,{[o.NODE_TYPE]:{value:o.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=o.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){m(this.contents)&&this.contents.add(e)}addIn(e,t){m(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=d.anchorNames(this);e.anchor=!t||n.has(t)?d.findNewAnchor(t||"a",n):t}return new i.Alias(e.anchor)}createNode(e,t,n){let i;if("function"==typeof t)e=t.call({"":e},"",e),i=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),i=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:r,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:u,tag:l}=n??{},{onAnchor:h,setAnchors:f,sourceObjects:g}=d.createNodeAnchors(this,s||"a"),m={aliasDuplicateObjects:r??!0,keepUndefined:c??!1,onAnchor:h,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:g},y=p.createNode(e,l,m);return a&&o.isCollection(y)&&(y.flow=!0),f(),y}createPair(e,t,n={}){const i=this.createNode(e,null,n),r=this.createNode(t,null,n);return new s.Pair(i,r)}delete(e){return!!m(this.contents)&&this.contents.delete(e)}deleteIn(e){return r.isEmptyPath(e)?null!=this.contents&&(this.contents=null,!0):!!m(this.contents)&&this.contents.deleteIn(e)}get(e,t){return o.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return r.isEmptyPath(e)?!t&&o.isScalar(this.contents)?this.contents.value:this.contents:o.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!o.isCollection(this.contents)&&this.contents.has(e)}hasIn(e){return r.isEmptyPath(e)?void 0!==this.contents:!!o.isCollection(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=r.collectionFromPath(this.schema,[e],t):m(this.contents)&&this.contents.set(e,t)}setIn(e,t){r.isEmptyPath(e)?this.contents=t:null==this.contents?this.contents=r.collectionFromPath(this.schema,Array.from(e),t):m(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new f.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new f.Directives({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new c.Schema(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:o}={}){const s={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof i?i:100,stringify:u.stringify},c=a.toJS(this.contents,t??"",s);if("function"==typeof r)for(const{count:e,res:t}of s.anchors.values())r(t,e);return"function"==typeof o?h.applyReviver(o,{"":c},"",c):c}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return l.stringifyDocument(this,e)}}function m(e){if(o.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}t.Document=g},1903:(e,t,n)=>{"use strict";var i=n(466),r=n(1381);function o(e){const t=new Set;return r.visit(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function s(e,t){for(let n=1;;++n){const i=`${e}${n}`;if(!t.has(i))return i}}t.anchorIsValid=function(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0},t.anchorNames=o,t.createNodeAnchors=function(e,t){const n=[],r=new Map;let a=null;return{onAnchor:i=>{n.push(i),a||(a=o(e));const r=s(t,a);return a.add(r),r},setAnchors:()=>{for(const e of n){const t=r.get(e);if("object"!=typeof t||!t.anchor||!i.isScalar(t.node)&&!i.isCollection(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:r}},t.findNewAnchor=s},3085:(e,t)=>{"use strict";t.applyReviver=function e(t,n,i,r){if(r&&"object"==typeof r)if(Array.isArray(r))for(let n=0,i=r.length;n<i;++n){const i=r[n],o=e(t,r,String(n),i);void 0===o?delete r[n]:o!==i&&(r[n]=o)}else if(r instanceof Map)for(const n of Array.from(r.keys())){const i=r.get(n),o=e(t,r,n,i);void 0===o?r.delete(n):o!==i&&r.set(n,o)}else if(r instanceof Set)for(const n of Array.from(r)){const i=e(t,r,n,n);void 0===i?r.delete(n):i!==n&&(r.delete(n),r.add(i))}else for(const[n,i]of Object.entries(r)){const o=e(t,r,n,i);void 0===o?delete r[n]:o!==i&&(r[n]=o)}return t.call(n,i,r)}},7581:(e,t,n)=>{"use strict";var i=n(2055),r=n(466),o=n(8844);t.createNode=function(e,t,n){if(r.isDocument(e)&&(e=e.contents),r.isNode(e))return e;if(r.isPair(e)){const t=n.schema[r.MAP].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"function"==typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:s,onAnchor:a,onTagObj:c,schema:u,sourceObjects:l}=n;let d;if(s&&e&&"object"==typeof e){if(d=l.get(e),d)return d.anchor||(d.anchor=a(e)),new i.Alias(d.anchor);d={anchor:null,node:null},l.set(e,d)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let h=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),i=e.find((e=>!e.format))??e[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,u.tags);if(!h){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new o.Scalar(e);return d&&(d.node=t),t}h=e instanceof Map?u[r.MAP]:Symbol.iterator in Object(e)?u[r.SEQ]:u[r.MAP]}c&&(c(h),delete n.onTagObj);const p=h?.createNode?h.createNode(n.schema,e,n):new o.Scalar(e);return t&&(p.tag=t),d&&(d.node=p),p}},9226:(e,t,n)=>{"use strict";var i=n(466),r=n(1381);const o={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class s{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},s.defaultYaml,e),this.tags=Object.assign({},s.defaultTags,t)}clone(){const e=new s(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new s(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:s.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},s.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:s.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},s.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,i]=n;return this.tags[e]=i,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;return"1.1"===e||"1.2"===e?(this.yaml.version=e,!0):(t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1)}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,i]=e.match(/^(.*!)([^!]*)$/);i||t(`The ${e} tag has no suffix`);const r=this.tags[n];return r?r+decodeURIComponent(i):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>o[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let o;if(e&&n.length>0&&i.isNode(e.contents)){const t={};r.visit(e.contents,((e,n)=>{i.isNode(n)&&n.tag&&(t[n.tag]=!0)})),o=Object.keys(t)}else o=[];for(const[i,r]of n)"!!"===i&&"tag:yaml.org,2002:"===r||e&&!o.some((e=>e.startsWith(r)))||t.push(`%TAG ${i} ${r}`);return t.join("\n")}}s.defaultYaml={explicit:!1,version:"1.2"},s.defaultTags={"!!":"tag:yaml.org,2002:"},t.Directives=s},2394:(e,t)=>{"use strict";class n extends Error{constructor(e,t,n,i){super(),this.name=e,this.code=n,this.message=i,this.pos=t}}t.YAMLError=n,t.YAMLParseError=class extends n{constructor(e,t,n){super("YAMLParseError",e,t,n)}},t.YAMLWarning=class extends n{constructor(e,t,n){super("YAMLWarning",e,t,n)}},t.prettifyError=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:i,col:r}=n.linePos[0];n.message+=` at line ${i}, column ${r}`;let o=r-1,s=e.substring(t.lineStarts[i-1],t.lineStarts[i]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const e=Math.min(o-39,s.length-79);s="…"+s.substring(e),o-=e-1}if(s.length>80&&(s=s.substring(0,79)+"…"),i>1&&/^ *$/.test(s.substring(0,o))){let n=e.substring(t.lineStarts[i-2],t.lineStarts[i-1]);n.length>80&&(n=n.substring(0,79)+"…\n"),s=n+s}if(/[^ ]/.test(s)){let e=1;const t=n.linePos[1];t&&t.line===i&&t.col>r&&(e=Math.min(t.col-r,80-o));const a=" ".repeat(o)+"^".repeat(e);n.message+=`:\n\n${s}\n${a}\n`}}},3419:(e,t,n)=>{"use strict";var i=n(5281),r=n(6068),o=n(3673),s=n(2394),a=n(2055),c=n(466),u=n(394),l=n(8844),d=n(6575),h=n(3798),p=n(5208),f=n(7135),g=n(4708),m=n(9369),y=n(8011),v=n(1381);t.Composer=i.Composer,t.Document=r.Document,t.Schema=o.Schema,t.YAMLError=s.YAMLError,t.YAMLParseError=s.YAMLParseError,t.YAMLWarning=s.YAMLWarning,t.Alias=a.Alias,t.isAlias=c.isAlias,t.isCollection=c.isCollection,t.isDocument=c.isDocument,t.isMap=c.isMap,t.isNode=c.isNode,t.isPair=c.isPair,t.isScalar=c.isScalar,t.isSeq=c.isSeq,t.Pair=u.Pair,t.Scalar=l.Scalar,t.YAMLMap=d.YAMLMap,t.YAMLSeq=h.YAMLSeq,t.CST=p,t.Lexer=f.Lexer,t.LineCounter=g.LineCounter,t.Parser=m.Parser,t.parse=y.parse,t.parseAllDocuments=y.parseAllDocuments,t.parseDocument=y.parseDocument,t.stringify=y.stringify,t.visit=v.visit,t.visitAsync=v.visitAsync},5441:(e,t)=>{"use strict";t.debug=function(e,...t){"debug"===e&&console.log(...t)},t.warn=function(e,t){"debug"!==e&&"warn"!==e||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}},2055:(e,t,n)=>{"use strict";var i=n(1903),r=n(1381),o=n(466);class s extends o.NodeBase{constructor(e){super(o.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return r.visit(e,{Node:(e,n)=>{if(n===this)return r.visit.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:i,maxAliasCount:r}=t,o=this.resolve(i);if(!o){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const s=n.get(o);if(!s||void 0===s.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(r>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=a(i,o,n)),s.count*s.aliasCount>r))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(e,t,n){const r=`*${this.source}`;if(e){if(i.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${r} `}return r}}function a(e,t,n){if(o.isAlias(t)){const i=t.resolve(e),r=n&&i&&n.get(i);return r?r.count*r.aliasCount:0}if(o.isCollection(t)){let i=0;for(const r of t.items){const t=a(e,r,n);t>i&&(i=t)}return i}if(o.isPair(t)){const i=a(e,t.key,n),r=a(e,t.value,n);return Math.max(i,r)}return 1}t.Alias=s},3365:(e,t,n)=>{"use strict";var i=n(7581),r=n(466);function o(e,t,n){let r=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=r,r=e}else r=new Map([[n,r]])}return i.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const s=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class a extends r.NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>r.isNode(t)||r.isPair(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(s(e))this.add(t);else{const[n,...i]=e,s=this.get(n,!0);if(r.isCollection(s))s.addIn(i,t);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`);this.set(n,o(this.schema,i,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const i=this.get(t,!0);if(r.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...i]=e,o=this.get(n,!0);return 0===i.length?!t&&r.isScalar(o)?o.value:o:r.isCollection(o)?o.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!r.isPair(t))return!1;const n=t.value;return null==n||e&&r.isScalar(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const i=this.get(t,!0);return!!r.isCollection(i)&&i.hasIn(n)}setIn(e,t){const[n,...i]=e;if(0===i.length)this.set(n,t);else{const e=this.get(n,!0);if(r.isCollection(e))e.setIn(i,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`);this.set(n,o(this.schema,i,t))}}}}a.maxFlowStringSingleLineLength=60,t.Collection=a,t.collectionFromPath=o,t.isEmptyPath=s},466:(e,t)=>{"use strict";const n=Symbol.for("yaml.alias"),i=Symbol.for("yaml.document"),r=Symbol.for("yaml.map"),o=Symbol.for("yaml.pair"),s=Symbol.for("yaml.scalar"),a=Symbol.for("yaml.seq"),c=Symbol.for("yaml.node.type"),u=e=>!!e&&"object"==typeof e&&e[c]===s;function l(e){if(e&&"object"==typeof e)switch(e[c]){case r:case a:return!0}return!1}t.ALIAS=n,t.DOC=i,t.MAP=r,t.NODE_TYPE=c,t.NodeBase=class{constructor(e){Object.defineProperty(this,c,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}},t.PAIR=o,t.SCALAR=s,t.SEQ=a,t.hasAnchor=e=>(u(e)||l(e))&&!!e.anchor,t.isAlias=e=>!!e&&"object"==typeof e&&e[c]===n,t.isCollection=l,t.isDocument=e=>!!e&&"object"==typeof e&&e[c]===i,t.isMap=e=>!!e&&"object"==typeof e&&e[c]===r,t.isNode=function(e){if(e&&"object"==typeof e)switch(e[c]){case n:case r:case s:case a:return!0}return!1},t.isPair=e=>!!e&&"object"==typeof e&&e[c]===o,t.isScalar=u,t.isSeq=e=>!!e&&"object"==typeof e&&e[c]===a},394:(e,t,n)=>{"use strict";var i=n(7581),r=n(8843),o=n(3567),s=n(466);class a{constructor(e,t=null){Object.defineProperty(this,s.NODE_TYPE,{value:s.PAIR}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return s.isNode(t)&&(t=t.clone(e)),s.isNode(n)&&(n=n.clone(e)),new a(t,n)}toJSON(e,t){const n=t?.mapAsMap?new Map:{};return o.addPairToJSMap(t,n,this)}toString(e,t,n){return e?.doc?r.stringifyPair(this,e,t,n):JSON.stringify(this)}}t.Pair=a,t.createPair=function(e,t,n){const r=i.createNode(e,void 0,n),o=i.createNode(t,void 0,n);return new a(r,o)}},8844:(e,t,n)=>{"use strict";var i=n(466),r=n(3257);class o extends i.NodeBase{constructor(e){super(i.SCALAR),this.value=e}toJSON(e,t){return t?.keep?this.value:r.toJS(this.value,e,t)}toString(){return String(this.value)}}o.BLOCK_FOLDED="BLOCK_FOLDED",o.BLOCK_LITERAL="BLOCK_LITERAL",o.PLAIN="PLAIN",o.QUOTE_DOUBLE="QUOTE_DOUBLE",o.QUOTE_SINGLE="QUOTE_SINGLE",t.Scalar=o,t.isScalarValue=e=>!e||"function"!=typeof e&&"object"!=typeof e},6575:(e,t,n)=>{"use strict";var i=n(240),r=n(3567),o=n(3365),s=n(466),a=n(394),c=n(8844);function u(e,t){const n=s.isScalar(t)?t.value:t;for(const i of e)if(s.isPair(i)){if(i.key===t||i.key===n)return i;if(s.isScalar(i.key)&&i.key.value===n)return i}}class l extends o.Collection{constructor(e){super(s.MAP,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=s.isPair(e)?e:e&&"object"==typeof e&&"key"in e?new a.Pair(e.key,e.value):new a.Pair(e,e?.value);const i=u(this.items,n.key),r=this.schema?.sortMapEntries;if(i){if(!t)throw new Error(`Key ${n.key} already set`);s.isScalar(i.value)&&c.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(r){const e=this.items.findIndex((e=>r(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=u(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=u(this.items,e)?.value;return(!t&&s.isScalar(n)?n.value:n)??void 0}has(e){return!!u(this.items,e)}set(e,t){this.add(new a.Pair(e,t),!0)}toJSON(e,t,n){const i=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(i);for(const e of this.items)r.addPairToJSMap(t,i,e);return i}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!s.isPair(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),i.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}t.YAMLMap=l,t.findPair=u},3798:(e,t,n)=>{"use strict";var i=n(240),r=n(3365),o=n(466),s=n(8844),a=n(3257);class c extends r.Collection{constructor(e){super(o.SEQ,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=u(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){const n=u(e);if("number"!=typeof n)return;const i=this.items[n];return!t&&o.isScalar(i)?i.value:i}has(e){const t=u(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=u(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[n];o.isScalar(i)&&s.isScalarValue(t)?i.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let i=0;for(const e of this.items)n.push(a.toJS(e,String(i++),t));return n}toString(e,t,n){return e?i.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function u(e){let t=o.isScalar(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}t.YAMLSeq=c},3567:(e,t,n)=>{"use strict";var i=n(5441),r=n(611),o=n(466),s=n(8844),a=n(3257);function c(e,t,n){const i=e&&o.isAlias(n)?n.resolve(e.doc):n;if(!o.isMap(i))throw new Error("Merge sources must be maps or map aliases");const r=i.toJSON(null,e,Map);for(const[e,n]of r)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}t.addPairToJSMap=function(e,t,{key:n,value:u}){if(e?.doc.schema.merge&&(e=>"<<"===e||o.isScalar(e)&&"<<"===e.value&&(!e.type||e.type===s.Scalar.PLAIN))(n))if(u=o.isAlias(u)?u.resolve(e.doc):u,o.isSeq(u))for(const n of u.items)c(e,t,n);else if(Array.isArray(u))for(const n of u)c(e,t,n);else c(e,t,u);else{const s=a.toJS(n,"",e);if(t instanceof Map)t.set(s,a.toJS(u,s,e));else if(t instanceof Set)t.add(s);else{const c=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(o.isNode(e)&&n&&n.doc){const t=r.createStringifyContext(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const o=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(o);e.length>40&&(e=e.substring(0,36)+'..."'),i.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(t)}(n,s,e),l=a.toJS(u,c,e);c in t?Object.defineProperty(t,c,{value:l,writable:!0,enumerable:!0,configurable:!0}):t[c]=l}}return t}},3257:(e,t,n)=>{"use strict";var i=n(466);t.toJS=function e(t,n,r){if(Array.isArray(t))return t.map(((t,n)=>e(t,String(n),r)));if(t&&"function"==typeof t.toJSON){if(!r||!i.hasAnchor(t))return t.toJSON(n,r);const e={aliasCount:0,count:1,res:void 0};r.anchors.set(t,e),r.onCreate=t=>{e.res=t,delete r.onCreate};const o=t.toJSON(n,r);return r.onCreate&&r.onCreate(o),o}return"bigint"!=typeof t||r?.keep?t:Number(t)}},7084:(e,t,n)=>{"use strict";var i=n(1328),r=n(7876),o=n(2394),s=n(8431);function a(e,t){if(t)for(const n of t)switch(n.type){case"space":case"comment":e.push(n);break;case"newline":return e.push(n),!0}return!1}function c(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":{const i=e.props.slice(1);let r=t.length;"block-scalar-header"===e.props[0].type&&(r-=e.props[0].source.length);for(const e of i)e.offset+=r;delete e.props,Object.assign(e,{type:n,source:t,end:i});break}case"block-map":case"block-seq":{const i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[i]});break}default:{const i="indent"in e?e.indent:-1,r="end"in e&&Array.isArray(e.end)?e.end.filter((e=>"space"===e.type||"comment"===e.type||"newline"===e.type)):[];for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:n,indent:i,source:t,end:r})}}}t.createScalarToken=function(e,t){const{implicitKey:n=!1,indent:i,inFlow:r=!1,offset:o=-1,type:c="PLAIN"}=t,u=s.stringifyString({type:c,value:e},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:i,source:"\n"}];switch(u[0]){case"|":case">":{const e=u.indexOf("\n"),t=u.substring(0,e),n=u.substring(e+1)+"\n",r=[{type:"block-scalar-header",offset:o,indent:i,source:t}];return a(r,l)||r.push({type:"newline",offset:-1,indent:i,source:"\n"}),{type:"block-scalar",offset:o,indent:i,props:r,source:n}}case'"':return{type:"double-quoted-scalar",offset:o,indent:i,source:u,end:l};case"'":return{type:"single-quoted-scalar",offset:o,indent:i,source:u,end:l};default:return{type:"scalar",offset:o,indent:i,source:u,end:l}}},t.resolveAsScalar=function(e,t=!0,n){if(e){const s=(e,t,i)=>{const r="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new o.YAMLParseError([r,r+1],t,i);n(r,t,i)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return r.resolveFlowScalar(e,t,s);case"block-scalar":return i.resolveBlockScalar(e,t,s)}}return null},t.setScalarValue=function(e,t,n={}){let{afterKey:i=!1,implicitKey:r=!1,inFlow:o=!1,type:u}=n,l="indent"in e?e.indent:null;if(i&&"number"==typeof l&&(l+=2),!u)switch(e.type){case"single-quoted-scalar":u="QUOTE_SINGLE";break;case"double-quoted-scalar":u="QUOTE_DOUBLE";break;case"block-scalar":{const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");u=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:u="PLAIN"}const d=s.stringifyString({type:u,value:t},{implicitKey:r||null===l,indent:null!==l&&l>0?" ".repeat(l):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(d[0]){case"|":case">":!function(e,t){const n=t.indexOf("\n"),i=t.substring(0,n),r=t.substring(n+1)+"\n";if("block-scalar"===e.type){const t=e.props[0];if("block-scalar-header"!==t.type)throw new Error("Invalid block scalar header");t.source=i,e.source=r}else{const{offset:t}=e,n="indent"in e?e.indent:-1,o=[{type:"block-scalar-header",offset:t,indent:n,source:i}];a(o,"end"in e?e.end:void 0)||o.push({type:"newline",offset:-1,indent:n,source:"\n"});for(const t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:n,props:o,source:r})}}(e,d);break;case'"':c(e,d,"double-quoted-scalar");break;case"'":c(e,d,"single-quoted-scalar");break;default:c(e,d,"scalar")}}},4453:(e,t)=>{"use strict";function n(e){switch(e.type){case"block-scalar":{let t="";for(const i of e.props)t+=n(i);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=i(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=i(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=i(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function i({start:e,key:t,sep:i,value:r}){let o="";for(const t of e)o+=t.source;if(t&&(o+=n(t)),i)for(const e of i)o+=e.source;return r&&(o+=n(r)),o}t.stringify=e=>"type"in e?n(e):i(e)},8318:(e,t)=>{"use strict";const n=Symbol("break visit"),i=Symbol("skip children"),r=Symbol("remove item");function o(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),s(Object.freeze([]),e,t)}function s(e,t,i){let o=i(t,e);if("symbol"==typeof o)return o;for(const a of["key","value"]){const c=t[a];if(c&&"items"in c){for(let t=0;t<c.items.length;++t){const o=s(Object.freeze(e.concat([[a,t]])),c.items[t],i);if("number"==typeof o)t=o-1;else{if(o===n)return n;o===r&&(c.items.splice(t,1),t-=1)}}"function"==typeof o&&"key"===a&&(o=o(t,e))}}return"function"==typeof o?o(t,e):o}o.BREAK=n,o.SKIP=i,o.REMOVE=r,o.itemAtPath=(e,t)=>{let n=e;for(const[e,i]of t){const t=n?.[e];if(!t||!("items"in t))return;n=t.items[i]}return n},o.parentCollection=(e,t)=>{const n=o.itemAtPath(e,t.slice(0,-1))?.[t[t.length-1][0]];if(n&&"items"in n)return n;throw new Error("Parent collection not found")},t.visit=o},5208:(e,t,n)=>{"use strict";var i=n(7084),r=n(4453),o=n(8318);t.createScalarToken=i.createScalarToken,t.resolveAsScalar=i.resolveAsScalar,t.setScalarValue=i.setScalarValue,t.stringify=r.stringify,t.visit=o.visit,t.BOM="\ufeff",t.DOCUMENT="",t.FLOW_END="",t.SCALAR="",t.isCollection=e=>!!e&&"items"in e,t.isScalar=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type),t.prettyToken=function(e){switch(e){case"\ufeff":return"<BOM>";case"":return"<DOC>";case"":return"<FLOW_END>";case"":return"<SCALAR>";default:return JSON.stringify(e)}},t.tokenType=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}},7135:(e,t,n)=>{"use strict";var i=n(5208);function r(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const o="0123456789ABCDEFabcdef".split(""),s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),a=",[]{}".split(""),c=" ,[]{}\n\r\t".split(""),u=e=>!e||c.includes(e);t.Lexer=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&r(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===i.BOM&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const i=e[n-1];" "!==i&&"\t"!==i||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const i=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield i.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&r(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&r(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!r(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&r(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(u),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const o=this.getLine();if(null===o)return this.setNext("flow");if((-1!==n&&n<this.indentNext&&"#"!==o[0]||0===n&&(o.startsWith("---")||o.startsWith("..."))&&r(o[3]))&&(n!==this.indentNext-1||1!==this.flowLevel||"]"!==o[0]&&"}"!==o[0]))return this.flowLevel=0,yield i.FLOW_END,yield*this.parseLineStart();let s=0;for(;","===o[s];)s+=(yield*this.pushCount(1)),s+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(s+=(yield*this.pushIndicators()),o[s]){case void 0:return"flow";case"#":return yield*this.pushCount(o.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(u),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||r(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let i=n.indexOf("\n",this.pos);if(-1!==i){for(;-1!==i;){const e=this.continueScalar(i+1);if(-1===e)break;i=n.indexOf("\n",e)}-1!==i&&(t=i-("\r"===n[i-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>r(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let i=this.pos;e=this.buffer[i];++i)switch(e){case" ":n+=1;break;case"\n":t=i,n=0;break;case"\r":{const e=this.buffer[i+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,i=this.buffer[e];"\r"===i&&(i=this.buffer[--e]);const r=e;for(;" "===i||"\t"===i;)i=this.buffer[--e];if(!("\n"===i&&e>=this.pos&&e+1+n>r))break;t=e}return yield i.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,o=this.pos-1;for(;t=this.buffer[++o];)if(":"===t){const t=this.buffer[o+1];if(r(t)||e&&","===t)break;n=o}else if(r(t)){let i=this.buffer[o+1];if("\r"===t&&("\n"===i?(o+=1,t="\n",i=this.buffer[o+1]):n=o),"#"===i||e&&a.includes(i))break;if("\n"===t){const e=this.continueScalar(o+1);if(-1===e)break;o=Math.max(o,e-2)}}else{if(e&&a.includes(t))break;n=o}return t||this.atEnd?(yield i.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(u))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(r(t)||e&&a.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!r(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(s.includes(t))t=this.buffer[++e];else{if("%"!==t||!o.includes(this.buffer[e+1])||!o.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}},4708:(e,t)=>{"use strict";t.LineCounter=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const i=t+n>>1;this.lineStarts[i]<e?t=i+1:n=i}return this.lineStarts[t]===e?{line:t+1,col:1}:0===t?{line:0,col:e}:{line:t,col:e-this.lineStarts[t-1]+1}}}}},9369:(e,t,n)=>{"use strict";var i=n(5208),r=n(7135);function o(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function s(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function a(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function c(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function u(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function l(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||o(t.start,"explicit-key-ind")||o(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,a(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}t.Parser=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new r.Lexer,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",i.prettyToken(e)),this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=i.tokenType(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&l(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!o(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===s(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==s(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=u(c(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let i=[];if(n&&t.sep&&!t.value){const n=[];for(let i=0;i<t.sep.length;++i){const r=t.sep[i];switch(r.type){case"newline":n.push(i);break;case"space":break;case"comment":r.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(i=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||o(t.start,"explicit-key-ind")?n||t.value?(i.push(this.sourceToken),e.items.push({start:i})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(o(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(o(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(a(t.key)&&!o(t.sep,"newline")){const e=u(t.start),n=t.key,i=t.sep;i.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:i}]})}else i.length>0?t.sep=t.sep.concat(i,this.sourceToken):t.sep.push(this.sourceToken);else if(o(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=u(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:i,key:null,sep:[this.sourceToken]}):o(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:i,key:r,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(r):(Object.assign(t,{key:r,sep:[]}),this.onKeyLine=!0))}default:{const r=this.startBlockValue(e);if(r)return n&&"block-seq"!==r.type&&o(t.start,"explicit-key-ind")&&e.items.push({start:i}),void this.stack.push(r)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||o(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=u(c(t));l(e);const i=e.end.splice(1,e.end.length);i.push(this.sourceToken);const r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=u(c(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=u(c(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}},8011:(e,t,n)=>{"use strict";var i=n(5281),r=n(6068),o=n(2394),s=n(5441),a=n(4708),c=n(9369);function u(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new a.LineCounter||null,prettyErrors:t}}function l(e,t={}){const{lineCounter:n,prettyErrors:r}=u(t),s=new c.Parser(n?.addNewLine),a=new i.Composer(t);let l=null;for(const t of a.compose(s.parse(e),!0,e.length))if(l){if("silent"!==l.options.logLevel){l.errors.push(new o.YAMLParseError(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else l=t;return r&&n&&(l.errors.forEach(o.prettifyError(e,n)),l.warnings.forEach(o.prettifyError(e,n))),l}t.parse=function(e,t,n){let i;"function"==typeof t?i=t:void 0===n&&t&&"object"==typeof t&&(n=t);const r=l(e,n);if(!r)return null;if(r.warnings.forEach((e=>s.warn(r.options.logLevel,e))),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:i},n))},t.parseAllDocuments=function(e,t={}){const{lineCounter:n,prettyErrors:r}=u(t),s=new c.Parser(n?.addNewLine),a=new i.Composer(t),l=Array.from(a.compose(s.parse(e)));if(r&&n)for(const t of l)t.errors.forEach(o.prettifyError(e,n)),t.warnings.forEach(o.prettifyError(e,n));return l.length>0?l:Object.assign([],{empty:!0},a.streamInfo())},t.parseDocument=l,t.stringify=function(e,t,n){let i=null;if("function"==typeof t||Array.isArray(t)?i=t:void 0===n&&t&&(n=t),"string"==typeof n&&(n=n.length),"number"==typeof n){const e=Math.round(n);n=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){const{keepUndefined:e}=n??t??{};if(!e)return}return new r.Document(e,i,n).toString(n)}},3673:(e,t,n)=>{"use strict";var i=n(466),r=n(2744),o=n(2360),s=n(3042),a=n(6524);const c=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class u{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:u,schema:l,sortMapEntries:d,toStringDefaults:h}){this.compat=Array.isArray(e)?a.getTags(e,"compat"):e?a.getTags(null,e):null,this.merge=!!n,this.name="string"==typeof l&&l||"core",this.knownTags=u?a.coreKnownTags:{},this.tags=a.getTags(t,this.name),this.toStringOptions=h??null,Object.defineProperty(this,i.MAP,{value:r.map}),Object.defineProperty(this,i.SCALAR,{value:s.string}),Object.defineProperty(this,i.SEQ,{value:o.seq}),this.sortMapEntries="function"==typeof d?d:!0===d?c:null}clone(){const e=Object.create(u.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}t.Schema=u},2744:(e,t,n)=>{"use strict";var i=n(466),r=n(394),o=n(6575);const s={collection:"map",createNode:function(e,t,n){const{keepUndefined:i,replacer:s}=n,a=new o.YAMLMap(e),c=(e,o)=>{if("function"==typeof s)o=s.call(t,e,o);else if(Array.isArray(s)&&!s.includes(e))return;(void 0!==o||i)&&a.items.push(r.createPair(e,o,n))};if(t instanceof Map)for(const[e,n]of t)c(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))c(e,t[e]);return"function"==typeof e.sortMapEntries&&a.items.sort(e.sortMapEntries),a},default:!0,nodeClass:o.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(i.isMap(e)||t("Expected a mapping for this tag"),e)};t.map=s},5397:(e,t,n)=>{"use strict";var i=n(8844);const r={identify:e=>null==e,createNode:()=>new i.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new i.Scalar(null),stringify:({source:e},t)=>"string"==typeof e&&r.test.test(e)?e:t.options.nullStr};t.nullTag=r},2360:(e,t,n)=>{"use strict";var i=n(7581),r=n(466),o=n(3798);const s={collection:"seq",createNode:function(e,t,n){const{replacer:r}=n,s=new o.YAMLSeq(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let o of t){if("function"==typeof r){const n=t instanceof Set?o:String(e++);o=r.call(t,n,o)}s.items.push(i.createNode(o,void 0,n))}}return s},default:!0,nodeClass:o.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(r.isSeq(e)||t("Expected a sequence for this tag"),e)};t.seq=s},3042:(e,t,n)=>{"use strict";var i=n(8431);const r={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,r)=>(t=Object.assign({actualString:!0},t),i.stringifyString(e,t,n,r))};t.string=r},976:(e,t,n)=>{"use strict";var i=n(8844);const r={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new i.Scalar("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},n)=>e&&r.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?n.options.trueStr:n.options.falseStr};t.boolTag=r},3398:(e,t,n)=>{"use strict";var i=n(8844),r=n(5260);const o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},s={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():r.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new i.Scalar(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:r.stringifyNumber};t.float=a,t.floatExp=s,t.floatNaN=o},4723:(e,t,n)=>{"use strict";var i=n(5260);const r=e=>"bigint"==typeof e||Number.isInteger(e),o=(e,t,n,{intAsBigInt:i})=>i?BigInt(e):parseInt(e.substring(t),n);function s(e,t,n){const{value:o}=e;return r(o)&&o>=0?n+o.toString(t):i.stringifyNumber(e)}const a={identify:e=>r(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>o(e,2,8,n),stringify:e=>s(e,8,"0o")},c={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>o(e,0,10,n),stringify:i.stringifyNumber},u={identify:e=>r(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>o(e,2,16,n),stringify:e=>s(e,16,"0x")};t.int=c,t.intHex=u,t.intOct=a},3305:(e,t,n)=>{"use strict";var i=n(2744),r=n(5397),o=n(2360),s=n(3042),a=n(976),c=n(3398),u=n(4723);const l=[i.map,o.seq,s.string,r.nullTag,a.boolTag,u.intOct,u.int,u.intHex,c.floatNaN,c.floatExp,c.float];t.schema=l},7854:(e,t,n)=>{"use strict";var i=n(8844),r=n(2744),o=n(2360);function s(e){return"bigint"==typeof e||Number.isInteger(e)}const a=({value:e})=>JSON.stringify(e),c=[{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:a},{identify:e=>null==e,createNode:()=>new i.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:a},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:a},{identify:s,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>s(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:a}],u={default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)},l=[r.map,o.seq].concat(c,u);t.schema=l},6524:(e,t,n)=>{"use strict";var i=n(2744),r=n(5397),o=n(2360),s=n(3042),a=n(976),c=n(3398),u=n(4723),l=n(3305),d=n(7854),h=n(8798),p=n(1367),f=n(3879),g=n(163),m=n(7559),y=n(7714);const v=new Map([["core",l.schema],["failsafe",[i.map,o.seq,s.string]],["json",d.schema],["yaml11",g.schema],["yaml-1.1",g.schema]]),b={binary:h.binary,bool:a.boolTag,float:c.float,floatExp:c.floatExp,floatNaN:c.floatNaN,floatTime:y.floatTime,int:u.int,intHex:u.intHex,intOct:u.intOct,intTime:y.intTime,map:i.map,null:r.nullTag,omap:p.omap,pairs:f.pairs,seq:o.seq,set:m.set,timestamp:y.timestamp},S={"tag:yaml.org,2002:binary":h.binary,"tag:yaml.org,2002:omap":p.omap,"tag:yaml.org,2002:pairs":f.pairs,"tag:yaml.org,2002:set":m.set,"tag:yaml.org,2002:timestamp":y.timestamp};t.coreKnownTags=S,t.getTags=function(e,t){let n=v.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(v.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=b[e];if(t)return t;const n=Object.keys(b).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}},8798:(e,t,n)=>{"use strict";var i=n(8844),r=n(8431);const o={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},o,s,a){const c=n;let u;if("function"==typeof Buffer)u=c instanceof Buffer?c.toString("base64"):Buffer.from(c.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<c.length;++t)e+=String.fromCharCode(c[t]);u=btoa(e)}}if(t||(t=i.Scalar.BLOCK_LITERAL),t!==i.Scalar.QUOTE_DOUBLE){const e=Math.max(o.options.lineWidth-o.indent.length,o.options.minContentWidth),n=Math.ceil(u.length/e),r=new Array(n);for(let t=0,i=0;t<n;++t,i+=e)r[t]=u.substr(i,e);u=r.join(t===i.Scalar.BLOCK_LITERAL?"\n":" ")}return r.stringifyString({comment:e,type:t,value:u},o,s,a)}};t.binary=o},9466:(e,t,n)=>{"use strict";var i=n(8844);function r({value:e,source:t},n){return t&&(e?o:s).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const o={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new i.Scalar(!0),stringify:r},s={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new i.Scalar(!1),stringify:r};t.falseTag=s,t.trueTag=o},3922:(e,t,n)=>{"use strict";var i=n(8844),r=n(5260);const o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:r.stringifyNumber},s={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():r.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new i.Scalar(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const i=e.substring(n+1).replace(/_/g,"");"0"===i[i.length-1]&&(t.minFractionDigits=i.length)}return t},stringify:r.stringifyNumber};t.float=a,t.floatExp=s,t.floatNaN=o},5563:(e,t,n)=>{"use strict";var i=n(5260);const r=e=>"bigint"==typeof e||Number.isInteger(e);function o(e,t,n,{intAsBigInt:i}){const r=e[0];if("-"!==r&&"+"!==r||(t+=1),e=e.substring(t).replace(/_/g,""),i){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===r?BigInt(-1)*t:t}const o=parseInt(e,n);return"-"===r?-1*o:o}function s(e,t,n){const{value:o}=e;if(r(o)){const e=o.toString(t);return o<0?"-"+n+e.substr(1):n+e}return i.stringifyNumber(e)}const a={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>o(e,2,2,n),stringify:e=>s(e,2,"0b")},c={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>o(e,1,8,n),stringify:e=>s(e,8,"0")},u={identify:r,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>o(e,0,10,n),stringify:i.stringifyNumber},l={identify:r,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>o(e,2,16,n),stringify:e=>s(e,16,"0x")};t.int=u,t.intBin=a,t.intHex=l,t.intOct=c},1367:(e,t,n)=>{"use strict";var i=n(3798),r=n(3257),o=n(466),s=n(6575),a=n(3879);class c extends i.YAMLSeq{constructor(){super(),this.add=s.YAMLMap.prototype.add.bind(this),this.delete=s.YAMLMap.prototype.delete.bind(this),this.get=s.YAMLMap.prototype.get.bind(this),this.has=s.YAMLMap.prototype.has.bind(this),this.set=s.YAMLMap.prototype.set.bind(this),this.tag=c.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let i,s;if(o.isPair(e)?(i=r.toJS(e.key,"",t),s=r.toJS(e.value,i,t)):i=r.toJS(e,"",t),n.has(i))throw new Error("Ordered maps must not include duplicate keys");n.set(i,s)}return n}}c.tag="tag:yaml.org,2002:omap";const u={collection:"seq",identify:e=>e instanceof Map,nodeClass:c,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=a.resolvePairs(e,t),i=[];for(const{key:e}of n.items)o.isScalar(e)&&(i.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):i.push(e.value));return Object.assign(new c,n)},createNode(e,t,n){const i=a.createPairs(e,t,n),r=new c;return r.items=i.items,r}};t.YAMLOMap=c,t.omap=u},3879:(e,t,n)=>{"use strict";var i=n(466),r=n(394),o=n(8844),s=n(3798);function a(e,t){if(i.isSeq(e))for(let n=0;n<e.items.length;++n){let s=e.items[n];if(!i.isPair(s)){if(i.isMap(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");const e=s.items[0]||new r.Pair(new o.Scalar(null));if(s.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${s.commentBefore}\n${e.key.commentBefore}`:s.commentBefore),s.comment){const t=e.value??e.key;t.comment=t.comment?`${s.comment}\n${t.comment}`:s.comment}s=e}e.items[n]=i.isPair(s)?s:new r.Pair(s)}}else t("Expected a sequence for this tag");return e}function c(e,t,n){const{replacer:i}=n,o=new s.YAMLSeq(e);o.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let s,c;if("function"==typeof i&&(e=i.call(t,String(a++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);s=e[0],c=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);s=t[0],c=e[s]}else s=e;o.items.push(r.createPair(s,c,n))}return o}const u={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:a,createNode:c};t.createPairs=c,t.pairs=u,t.resolvePairs=a},163:(e,t,n)=>{"use strict";var i=n(2744),r=n(5397),o=n(2360),s=n(3042),a=n(8798),c=n(9466),u=n(3922),l=n(5563),d=n(1367),h=n(3879),p=n(7559),f=n(7714);const g=[i.map,o.seq,s.string,r.nullTag,c.trueTag,c.falseTag,l.intBin,l.intOct,l.int,l.intHex,u.floatNaN,u.floatExp,u.float,a.binary,d.omap,h.pairs,p.set,f.intTime,f.floatTime,f.timestamp];t.schema=g},7559:(e,t,n)=>{"use strict";var i=n(466),r=n(394),o=n(6575);class s extends o.YAMLMap{constructor(e){super(e),this.tag=s.tag}add(e){let t;t=i.isPair(e)?e:"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new r.Pair(e.key,null):new r.Pair(e,null),o.findPair(this.items,t.key)||this.items.push(t)}get(e,t){const n=o.findPair(this.items,e);return!t&&i.isPair(n)?i.isScalar(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=o.findPair(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new r.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}s.tag="tag:yaml.org,2002:set";const a={collection:"map",identify:e=>e instanceof Set,nodeClass:s,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(i.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new s,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:i}=n,o=new s(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof i&&(e=i.call(t,e,e)),o.items.push(r.createPair(e,null,n));return o}};t.YAMLSet=s,t.set=a},7714:(e,t,n)=>{"use strict";var i=n(5260);function r(e,t){const n=e[0],i="-"===n||"+"===n?e.substring(1):e,r=e=>t?BigInt(e):Number(e),o=i.replace(/_/g,"").split(":").reduce(((e,t)=>e*r(60)+r(t)),r(0));return"-"===n?r(-1)*o:o}function o(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return i.stringifyNumber(e);let r="";t<0&&(r="-",t*=n(-1));const o=n(60),s=[t%o];return t<60?s.unshift(0):(t=(t-s[0])/o,s.unshift(t%o),t>=60&&(t=(t-s[0])/o,s.unshift(t))),r+s.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const s={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>r(e,n),stringify:o},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>r(e,!1),stringify:o},c={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(c.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,i,o,s,a,u]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0;let d=Date.UTC(n,i-1,o,s||0,a||0,u||0,l);const h=t[8];if(h&&"Z"!==h){let e=r(h,!1);Math.abs(e)<30&&(e*=60),d-=6e4*e}return new Date(d)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};t.floatTime=a,t.intTime=s,t.timestamp=c},4112:(e,t)=>{"use strict";const n="block",i="quoted";function r(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}t.FOLD_BLOCK=n,t.FOLD_FLOW="flow",t.FOLD_QUOTED=i,t.foldFlowLines=function(e,t,o="flow",{indentAtStart:s,lineWidth:a=80,minContentWidth:c=20,onFold:u,onOverflow:l}={}){if(!a||a<0)return e;const d=Math.max(1+c,1+a-t.length);if(e.length<=d)return e;const h=[],p={};let f,g,m=a-t.length;"number"==typeof s&&(s>a-Math.max(2,c)?h.push(0):m=a-s);let y,v=!1,b=-1,S=-1,C=-1;for(o===n&&(b=r(e,b),-1!==b&&(m=b+d));y=e[b+=1];){if(o===i&&"\\"===y){switch(S=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}C=b}if("\n"===y)o===n&&(b=r(e,b)),m=b+d,f=void 0;else{if(" "===y&&g&&" "!==g&&"\n"!==g&&"\t"!==g){const t=e[b+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(f=b)}if(b>=m)if(f)h.push(f),m=f+d,f=void 0;else if(o===i){for(;" "===g||"\t"===g;)g=y,y=e[b+=1],v=!0;const t=b>C+1?b-2:S-1;if(p[t])return e;h.push(t),p[t]=!0,m=t+d,f=void 0}else v=!0}g=y}if(v&&l&&l(),0===h.length)return e;u&&u();let D=e.slice(0,h[0]);for(let n=0;n<h.length;++n){const r=h[n],s=h[n+1]||e.length;0===r?D=`\n${t}${e.slice(0,s)}`:(o===i&&p[r]&&(D+=`${e[r]}\\`),D+=`\n${t}${e.slice(r+1,s)}`)}return D}},611:(e,t,n)=>{"use strict";var i=n(1903),r=n(466),o=n(8463),s=n(8431);t.createStringifyContext=function(e,t){const n=Object.assign({blockQuote:!0,commentString:o.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let i;switch(n.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:i,options:n}},t.stringify=function(e,t,n,o){if(r.isPair(e))return e.toString(t,n,o);if(r.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let a;const c=r.isNode(e)?e:t.doc.createNode(e,{onTagObj:e=>a=e});a||(a=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,i;if(r.isScalar(t)){i=t.value;const r=e.filter((e=>e.identify?.(i)));n=r.find((e=>e.format===t.format))??r.find((e=>!e.format))}else i=t,n=e.find((e=>e.nodeClass&&i instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${i?.constructor?.name??typeof i} value`);return n}(t.doc.schema.tags,c));const u=function(e,t,{anchors:n,doc:o}){if(!o.directives)return"";const s=[],a=(r.isScalar(e)||r.isCollection(e))&&e.anchor;a&&i.anchorIsValid(a)&&(n.add(a),s.push(`&${a}`));const c=e.tag?e.tag:t.default?null:t.tag;return c&&s.push(o.directives.tagString(c)),s.join(" ")}(c,a,t);u.length>0&&(t.indentAtStart=(t.indentAtStart??0)+u.length+1);const l="function"==typeof a.stringify?a.stringify(c,t,n,o):r.isScalar(c)?s.stringifyString(c,t,n,o):c.toString(t,n,o);return u?r.isScalar(c)||"{"===l[0]||"["===l[0]?`${u} ${l}`:`${u}\n${t.indent}${l}`:l}},240:(e,t,n)=>{"use strict";var i=n(3365),r=n(466),o=n(611),s=n(8463);function a({comment:e,items:t},n,{blockItemPrefix:i,flowChars:a,itemIndent:c,onChompKeep:l,onComment:d}){const{indent:h,options:{commentString:p}}=n,f=Object.assign({},n,{indent:c,type:null});let g=!1;const m=[];for(let e=0;e<t.length;++e){const a=t[e];let l=null;if(r.isNode(a))!g&&a.spaceBefore&&m.push(""),u(n,m,a.commentBefore,g),a.comment&&(l=a.comment);else if(r.isPair(a)){const e=r.isNode(a.key)?a.key:null;e&&(!g&&e.spaceBefore&&m.push(""),u(n,m,e.commentBefore,g))}g=!1;let d=o.stringify(a,f,(()=>l=null),(()=>g=!0));l&&(d+=s.lineComment(d,c,p(l))),g&&l&&(g=!1),m.push(i+d)}let y;if(0===m.length)y=a.start+a.end;else{y=m[0];for(let e=1;e<m.length;++e){const t=m[e];y+=t?`\n${h}${t}`:"\n"}}return e?(y+="\n"+s.indentComment(p(e),h),d&&d()):g&&l&&l(),y}function c({comment:e,items:t},n,{flowChars:a,itemIndent:c,onComment:l}){const{indent:d,indentStep:h,options:{commentString:p}}=n;c+=h;const f=Object.assign({},n,{indent:c,inFlow:!0,type:null});let g=!1,m=0;const y=[];for(let e=0;e<t.length;++e){const i=t[e];let a=null;if(r.isNode(i))i.spaceBefore&&y.push(""),u(n,y,i.commentBefore,!1),i.comment&&(a=i.comment);else if(r.isPair(i)){const e=r.isNode(i.key)?i.key:null;e&&(e.spaceBefore&&y.push(""),u(n,y,e.commentBefore,!1),e.comment&&(g=!0));const t=r.isNode(i.value)?i.value:null;t?(t.comment&&(a=t.comment),t.commentBefore&&(g=!0)):null==i.value&&e&&e.comment&&(a=e.comment)}a&&(g=!0);let l=o.stringify(i,f,(()=>a=null));e<t.length-1&&(l+=","),a&&(l+=s.lineComment(l,c,p(a))),!g&&(y.length>m||l.includes("\n"))&&(g=!0),y.push(l),m=y.length}let v;const{start:b,end:S}=a;if(0===y.length)v=b+S;else if(g||(g=y.reduce(((e,t)=>e+t.length+2),2)>i.Collection.maxFlowStringSingleLineLength),g){v=b;for(const e of y)v+=e?`\n${h}${d}${e}`:"\n";v+=`\n${d}${S}`}else v=`${b} ${y.join(" ")} ${S}`;return e&&(v+=s.lineComment(v,p(e),d),l&&l()),v}function u({indent:e,options:{commentString:t}},n,i,r){if(i&&r&&(i=i.replace(/^\n+/,"")),i){const r=s.indentComment(t(i),e);n.push(r.trimStart())}}t.stringifyCollection=function(e,t,n){return(t.inFlow??e.flow?c:a)(e,t,n)}},8463:(e,t)=>{"use strict";function n(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}t.indentComment=n,t.lineComment=(e,t,i)=>e.endsWith("\n")?n(i,t):i.includes("\n")?"\n"+n(i,t):(e.endsWith(" ")?"":" ")+i,t.stringifyComment=e=>e.replace(/^(?!$)(?: $)?/gm,"#")},9957:(e,t,n)=>{"use strict";var i=n(466),r=n(611),o=n(8463);t.stringifyDocument=function(e,t){const n=[];let s=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),s=!0):e.directives.docStart&&(s=!0)}s&&n.push("---");const a=r.createStringifyContext(e,t),{commentString:c}=a.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=c(e.commentBefore);n.unshift(o.indentComment(t,""))}let u=!1,l=null;if(e.contents){if(i.isNode(e.contents)){if(e.contents.spaceBefore&&s&&n.push(""),e.contents.commentBefore){const t=c(e.contents.commentBefore);n.push(o.indentComment(t,""))}a.forceBlockIndent=!!e.comment,l=e.contents.comment}const t=l?void 0:()=>u=!0;let d=r.stringify(e.contents,a,(()=>l=null),t);l&&(d+=o.lineComment(d,"",c(l))),"|"!==d[0]&&">"!==d[0]||"---"!==n[n.length-1]?n.push(d):n[n.length-1]=`--- ${d}`}else n.push(r.stringify(e.contents,a));if(e.directives?.docEnd)if(e.comment){const t=c(e.comment);t.includes("\n")?(n.push("..."),n.push(o.indentComment(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&u&&(t=t.replace(/^\n+/,"")),t&&(u&&!l||""===n[n.length-1]||n.push(""),n.push(o.indentComment(c(t),"")))}return n.join("\n")+"\n"}},5260:(e,t)=>{"use strict";t.stringifyNumber=function({format:e,minFractionDigits:t,tag:n,value:i}){if("bigint"==typeof i)return String(i);const r="number"==typeof i?i:Number(i);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let o=JSON.stringify(i);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let e=o.indexOf(".");e<0&&(e=o.length,o+=".");let n=t-(o.length-e-1);for(;n-- >0;)o+="0"}return o}},8843:(e,t,n)=>{"use strict";var i=n(466),r=n(8844),o=n(611),s=n(8463);t.stringifyPair=function({key:e,value:t},n,a,c){const{allNullValues:u,doc:l,indent:d,indentStep:h,options:{commentString:p,indentSeq:f,simpleKeys:g}}=n;let m=i.isNode(e)&&e.comment||null;if(g){if(m)throw new Error("With simple keys, key nodes cannot have comments");if(i.isCollection(e))throw new Error("With simple keys, collection cannot be used as a key value")}let y=!g&&(!e||m&&null==t&&!n.inFlow||i.isCollection(e)||(i.isScalar(e)?e.type===r.Scalar.BLOCK_FOLDED||e.type===r.Scalar.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!y&&(g||!u),indent:d+h});let v=!1,b=!1,S=o.stringify(e,n,(()=>v=!0),(()=>b=!0));if(!y&&!n.inFlow&&S.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");y=!0}if(n.inFlow){if(u||null==t)return v&&a&&a(),""===S?"?":y?`? ${S}`:S}else if(u&&!g||null==t&&y)return S=`? ${S}`,m&&!v?S+=s.lineComment(S,n.indent,p(m)):b&&c&&c(),S;v&&(m=null),y?(m&&(S+=s.lineComment(S,n.indent,p(m))),S=`? ${S}\n${d}:`):(S=`${S}:`,m&&(S+=s.lineComment(S,n.indent,p(m))));let C="",D=null;if(i.isNode(t)){if(t.spaceBefore&&(C="\n"),t.commentBefore){const e=p(t.commentBefore);C+=`\n${s.indentComment(e,n.indent)}`}D=t.comment}else t&&"object"==typeof t&&(t=l.createNode(t));n.implicitKey=!1,y||m||!i.isScalar(t)||(n.indentAtStart=S.length+1),b=!1,f||!(h.length>=2)||n.inFlow||y||!i.isSeq(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let w=!1;const E=o.stringify(t,n,(()=>w=!0),(()=>b=!0));let x=" ";return C||m?x=""!==E||n.inFlow?`${C}\n${n.indent}`:"\n"===C?"\n\n":C:!y&&i.isCollection(t)?("["===E[0]||"{"===E[0])&&!E.includes("\n")||(x=`\n${n.indent}`):""!==E&&"\n"!==E[0]||(x=""),S+=x+E,n.inFlow?w&&a&&a():D&&!w?S+=s.lineComment(S,n.indent,p(D)):b&&c&&c(),S}},8431:(e,t,n)=>{"use strict";var i=n(8844),r=n(4112);const o=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),s=e=>/^(%|---|\.\.\.)/m.test(e);function a(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:i}=t,a=t.options.doubleQuotedMinMultiLineLength,c=t.indent||(s(e)?"  ":"");let u="",l=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(u+=n.slice(l,e)+"\\ ",e+=1,l=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{u+=n.slice(l,e);const t=n.substr(e+2,4);switch(t){case"0000":u+="\\0";break;case"0007":u+="\\a";break;case"000b":u+="\\v";break;case"001b":u+="\\e";break;case"0085":u+="\\N";break;case"00a0":u+="\\_";break;case"2028":u+="\\L";break;case"2029":u+="\\P";break;default:"00"===t.substr(0,2)?u+="\\x"+t.substr(2):u+=n.substr(e,6)}e+=5,l=e+1}break;case"n":if(i||'"'===n[e+2]||n.length<a)e+=1;else{for(u+=n.slice(l,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)u+="\n",e+=2;u+=c," "===n[e+2]&&(u+="\\"),e+=1,l=e+1}break;default:e+=1}return u=l?u+n.slice(l):n,i?u:r.foldFlowLines(u,c,r.FOLD_QUOTED,o(t))}function c(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return a(e,t);const n=t.indent||(s(e)?"  ":""),i="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?i:r.foldFlowLines(i,n,r.FOLD_FLOW,o(t))}function u(e,t){const{singleQuote:n}=t.options;let i;if(!1===n)i=a;else{const t=e.includes('"'),r=e.includes("'");i=t&&!r?c:r&&!t?a:n?c:a}return i(e,t)}function l({comment:e,type:t,value:n},a,c,l){const{blockQuote:d,commentString:h,lineWidth:p}=a.options;if(!d||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return u(n,a);const f=a.indent||(a.forceBlockIndent||s(n)?"  ":""),g="literal"===d||"folded"!==d&&t!==i.Scalar.BLOCK_FOLDED&&(t===i.Scalar.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const i=t-n,r=e.length;if(r<=i)return!1;for(let t=0,n=0;t<r;++t)if("\n"===e[t]){if(t-n>i)return!0;if(n=t+1,r-n<=i)return!1}return!0}(n,p,f.length));if(!n)return g?"|\n":">\n";let m,y;for(y=n.length;y>0;--y){const e=n[y-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let v=n.substring(y);const b=v.indexOf("\n");-1===b?m="-":n===v||b!==v.length-1?(m="+",l&&l()):m="",v&&(n=n.slice(0,-v.length),"\n"===v[v.length-1]&&(v=v.slice(0,-1)),v=v.replace(/\n+(?!\n|$)/g,`$&${f}`));let S,C=!1,D=-1;for(S=0;S<n.length;++S){const e=n[S];if(" "===e)C=!0;else{if("\n"!==e)break;D=S}}let w=n.substring(0,D<S?D+1:S);w&&(n=n.substring(w.length),w=w.replace(/\n+/g,`$&${f}`));let E=(g?"|":">")+(C?f?"2":"1":"")+m;return e&&(E+=" "+h(e.replace(/ ?[\r\n]+/g," ")),c&&c()),g?`${E}\n${f}${w}${n=n.replace(/\n+/g,`$&${f}`)}${v}`:(n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`),`${E}\n${f}${r.foldFlowLines(`${w}${n}${v}`,f,r.FOLD_BLOCK,o(a))}`)}t.stringifyString=function(e,t,n,d){const{implicitKey:h,inFlow:p}=t,f="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:g}=e;g!==i.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(f.value)&&(g=i.Scalar.QUOTE_DOUBLE);const m=e=>{switch(e){case i.Scalar.BLOCK_FOLDED:case i.Scalar.BLOCK_LITERAL:return h||p?u(f.value,t):l(f,t,n,d);case i.Scalar.QUOTE_DOUBLE:return a(f.value,t);case i.Scalar.QUOTE_SINGLE:return c(f.value,t);case i.Scalar.PLAIN:return function(e,t,n,a){const{type:c,value:d}=e,{actualString:h,implicitKey:p,indent:f,inFlow:g}=t;if(p&&/[\n[\]{},]/.test(d)||g&&/[[\]{},]/.test(d))return u(d,t);if(!d||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(d))return p||g||!d.includes("\n")?u(d,t):l(e,t,n,a);if(!p&&!g&&c!==i.Scalar.PLAIN&&d.includes("\n"))return l(e,t,n,a);if(""===f&&s(d))return t.forceBlockIndent=!0,l(e,t,n,a);const m=d.replace(/\n+/g,`$&\n${f}`);if(h){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(m),{compat:n,tags:i}=t.doc.schema;if(i.some(e)||n?.some(e))return u(d,t)}return p?m:r.foldFlowLines(m,f,r.FOLD_FLOW,o(t))}(f,t,n,d);default:return null}};let y=m(g);if(null===y){const{defaultKeyType:e,defaultStringType:n}=t.options,i=h&&e||n;if(y=m(i),null===y)throw new Error(`Unsupported default string type ${i}`)}return y}},1381:(e,t,n)=>{"use strict";var i=n(466);const r=Symbol("break visit"),o=Symbol("skip children"),s=Symbol("remove node");function a(e,t){const n=d(t);i.isDocument(e)?c(null,e.contents,n,Object.freeze([e]))===s&&(e.contents=null):c(null,e,n,Object.freeze([]))}function c(e,t,n,o){const a=h(e,t,n,o);if(i.isNode(a)||i.isPair(a))return p(e,o,a),c(e,a,n,o);if("symbol"!=typeof a)if(i.isCollection(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){const i=c(e,t.items[e],n,o);if("number"==typeof i)e=i-1;else{if(i===r)return r;i===s&&(t.items.splice(e,1),e-=1)}}}else if(i.isPair(t)){o=Object.freeze(o.concat(t));const e=c("key",t.key,n,o);if(e===r)return r;e===s&&(t.key=null);const i=c("value",t.value,n,o);if(i===r)return r;i===s&&(t.value=null)}return a}async function u(e,t){const n=d(t);i.isDocument(e)?await l(null,e.contents,n,Object.freeze([e]))===s&&(e.contents=null):await l(null,e,n,Object.freeze([]))}async function l(e,t,n,o){const a=await h(e,t,n,o);if(i.isNode(a)||i.isPair(a))return p(e,o,a),l(e,a,n,o);if("symbol"!=typeof a)if(i.isCollection(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){const i=await l(e,t.items[e],n,o);if("number"==typeof i)e=i-1;else{if(i===r)return r;i===s&&(t.items.splice(e,1),e-=1)}}}else if(i.isPair(t)){o=Object.freeze(o.concat(t));const e=await l("key",t.key,n,o);if(e===r)return r;e===s&&(t.key=null);const i=await l("value",t.value,n,o);if(i===r)return r;i===s&&(t.value=null)}return a}function d(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function h(e,t,n,r){return"function"==typeof n?n(e,t,r):i.isMap(t)?n.Map?.(e,t,r):i.isSeq(t)?n.Seq?.(e,t,r):i.isPair(t)?n.Pair?.(e,t,r):i.isScalar(t)?n.Scalar?.(e,t,r):i.isAlias(t)?n.Alias?.(e,t,r):void 0}function p(e,t,n){const r=t[t.length-1];if(i.isCollection(r))r.items[e]=n;else if(i.isPair(r))"key"===e?r.key=n:r.value=n;else{if(!i.isDocument(r)){const e=i.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}r.contents=n}}a.BREAK=r,a.SKIP=o,a.REMOVE=s,u.BREAK=r,u.SKIP=o,u.REMOVE=s,t.visit=a,t.visitAsync=u}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=n(6574);module.exports=i})();
//# sourceMappingURL=extension.js.map